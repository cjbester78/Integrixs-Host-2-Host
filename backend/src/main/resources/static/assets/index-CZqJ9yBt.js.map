{"version":3,"file":"index-CZqJ9yBt.js","sources":["../../node_modules/react-dom/client.js","../../node_modules/zustand/esm/middleware.mjs","../../src/lib/session.ts","../../src/services/websocket.ts","../../src/stores/auth.ts","../../src/lib/api.ts","../../src/hooks/useAuthInit.ts","../../src/lib/utils.ts","../../src/components/ui/button.tsx","../../src/contexts/SidebarContext.tsx","../../src/components/Sidebar.tsx","../../src/stores/ui.ts","../../src/components/ui/badge.tsx","../../src/components/ui/dropdown-menu.tsx","../../src/hooks/useEnvironment.ts","../../src/components/common/EnvironmentBadge.tsx","../../src/components/Header.tsx","../../src/components/Layout.tsx","../../src/components/ProtectedRoute.tsx","../../src/components/ui/input.tsx","../../src/components/ui/label.tsx","../../src/components/ui/card.tsx","../../src/pages/auth/LoginPage.tsx","../../src/components/ui/dialog.tsx","../../src/components/ui/select.tsx","../../src/components/ui/ManualFlowExecutionModal.tsx","../../src/pages/Dashboard.tsx","../../src/pages/ssh-keys/CreateSshKey.tsx","../../src/pages/AdapterMonitoring.tsx","../../src/pages/FlowMonitoring.tsx","../../src/pages/ExecutionLogsViewer.tsx","../../src/hooks/auth.ts","../../src/pages/users/UserManagement.tsx","../../src/pages/ssh-keys/SshKeyManagement.tsx","../../src/components/ui/switch.tsx","../../src/components/ui/alert.tsx","../../src/components/admin/EnvironmentConfiguration.tsx","../../src/pages/admin/SystemConfigurations.tsx","../../src/pages/admin/SystemLogs.tsx","../../src/pages/admin/TransactionalLogs.tsx","../../src/pages/admin/LogsPage.tsx","../../src/pages/admin/PgpKeys.tsx","../../src/components/ui/NotificationModal.tsx","../../src/pages/admin/DataRetentionManagement.tsx","../../src/pages/AdminPage.tsx","../../src/components/ui/tabs.tsx","../../src/components/ui/separator.tsx","../../src/pages/Settings.tsx","../../src/types/package.ts","../../src/pages/packages/components/PackageCard.tsx","../../src/components/ui/ConfirmationModal.tsx","../../node_modules/@radix-ui/react-checkbox/dist/index.mjs","../../src/components/ui/checkbox.tsx","../../src/components/ui/PackageExportModal.tsx","../../src/components/ui/PackageImportModal.tsx","../../src/pages/packages/PackageLibrary.tsx","../../src/components/ui/textarea.tsx","../../src/pages/packages/CreatePackage.tsx","../../src/pages/packages/EditPackage.tsx","../../src/components/ui/AdapterTestResultModal.tsx","../../src/pages/packages/components/WorkspaceSidebar.tsx","../../src/pages/packages/components/PackageOverview.tsx","../../src/pages/packages/components/PackageAdaptersTab.tsx","../../src/pages/packages/components/PackageFlowsTab.tsx","../../src/pages/packages/components/adapters/config/FileAdapterConfig.tsx","../../src/pages/packages/components/adapters/config/SftpAdapterConfig.tsx","../../src/pages/packages/components/adapters/config/EmailAdapterConfig.tsx","../../src/pages/packages/components/adapters/AdapterConfigFields.tsx","../../src/pages/packages/components/adapters/CreateAdapter.tsx","../../src/pages/packages/components/adapters/EditAdapter.tsx","../../src/pages/packages/components/adapters/ViewAdapter.tsx","../../src/components/flow/nodes/AdapterNode.tsx","../../src/components/flow/nodes/UtilityNode.tsx","../../src/components/flow/nodes/DecisionNode.tsx","../../src/components/flow/nodes/StartNode.tsx","../../src/components/flow/nodes/EndNode.tsx","../../src/components/flow/nodes/ParallelSplitNode.tsx","../../src/components/flow/nodes/MessageEndNode.tsx","../../src/components/flow/edges/FlowEdge.tsx","../../src/components/ui/tooltip.tsx","../../src/components/flow/FlowToolbar.tsx","../../src/components/ui/collapsible.tsx","../../src/components/flow/NodeSidebar.tsx","../../src/components/flow/NodePropertiesPanel.tsx","../../src/utils/flowLayout.ts","../../src/components/flow/FlowCanvas.tsx","../../src/pages/packages/components/flows/CreateFlow.tsx","../../src/pages/packages/components/flows/EditFlow.tsx","../../src/pages/packages/components/flows/ViewFlow.tsx","../../src/pages/packages/PackageWorkspace.tsx","../../src/contexts/PackageContext.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...a) => api.dispatch(...a), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (_e) {\n  }\n  if (!extensionConnector) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\n        \"[zustand devtools middleware] Please install/enable Redux devtools extension\"\n      );\n    }\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? { type: anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...a) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...a);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) f(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nconst combine = (initialState, create) => (...a) => Object.assign({}, initialState, create(...a));\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (_e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, options == null ? void 0 : options.replacer)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst oldImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    getStorage: () => localStorage,\n    serialize: JSON.stringify,\n    deserialize: JSON.parse,\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage;\n  try {\n    storage = options.getStorage();\n  } catch (_e) {\n  }\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const thenableSerialize = toThenable(options.serialize);\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    let errorInSync;\n    const thenable = thenableSerialize({ state, version: options.version }).then(\n      (serializedValue) => storage.setItem(options.name, serializedValue)\n    ).catch((e) => {\n      errorInSync = e;\n    });\n    if (errorInSync) {\n      throw errorInSync;\n    }\n    return thenable;\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => cb(get()));\n    const postRehydrationCallback = ((_a = options.onRehydrateStorage) == null ? void 0 : _a.call(options, get())) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue) => {\n      if (storageValue) {\n        return options.deserialize(storageValue);\n      }\n    }).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.getStorage) {\n        storage = newOptions.getStorage();\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  hydrate();\n  return stateFromStorage || configResult;\n};\nconst newImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return [\n              true,\n              options.migrate(\n                deserializedStorageValue.state,\n                deserializedStorageValue.version\n              )\n            ];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persistImpl = (config, baseOptions) => {\n  if (\"getStorage\" in baseOptions || \"serialize\" in baseOptions || \"deserialize\" in baseOptions) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead.\"\n      );\n    }\n    return oldImpl(config, baseOptions);\n  }\n  return newImpl(config, baseOptions);\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","/**\r\n * Session management utilities for handling authentication tokens\r\n * and browser close detection\r\n */\r\n\r\nexport interface SessionConfig {\r\n  persistLogin: boolean\r\n  sessionTimeout: number // in milliseconds\r\n  heartbeatInterval: number // in milliseconds\r\n}\r\n\r\nconst DEFAULT_CONFIG: SessionConfig = {\r\n  persistLogin: false,\r\n  sessionTimeout: 24 * 60 * 60 * 1000, // 24 hours\r\n  heartbeatInterval: 5 * 60 * 1000, // 5 minutes\r\n}\r\n\r\nclass SessionManager {\r\n  private config: SessionConfig\r\n  private heartbeatTimer?: number\r\n  private sessionTimeoutTimer?: number\r\n  private isVerifying: boolean = false // Mutex for token verification\r\n\r\n  constructor(config: Partial<SessionConfig> = {}) {\r\n    this.config = { ...DEFAULT_CONFIG, ...config }\r\n    this.setupSessionManagement()\r\n  }\r\n\r\n  private setupSessionManagement() {\r\n    // Simple session management without complex refresh detection\r\n    window.addEventListener('beforeunload', this.handleBeforeUnload.bind(this))\r\n    \r\n    // Page visibility change (tab switching, minimizing)\r\n    document.addEventListener('visibilitychange', this.handleVisibilityChange.bind(this))\r\n    \r\n    // Start heartbeat if user is logged in\r\n    if (this.isLoggedIn()) {\r\n      this.startHeartbeat()\r\n    }\r\n  }\r\n\r\n  private handleBeforeUnload(_event: BeforeUnloadEvent) {\r\n    console.log('[SessionManager] beforeunload triggered, persistLogin:', this.config.persistLogin)\r\n    \r\n    // Simple approach: sessionStorage automatically handles browser termination\r\n    // We don't need to clear anything here - let browser handle it naturally\r\n    // - sessionStorage: cleared automatically on browser termination\r\n    // - localStorage: persists only when user explicitly chose \"Remember Me\"\r\n  }\r\n\r\n  private handleVisibilityChange() {\r\n    if (document.hidden) {\r\n      // Tab became hidden, pause heartbeat\r\n      this.stopHeartbeat()\r\n    } else {\r\n      // Tab became visible, resume heartbeat if logged in\r\n      if (this.isLoggedIn()) {\r\n        this.startHeartbeat()\r\n      }\r\n    }\r\n  }\r\n\r\n  public setToken(token: string, user: any, persistLogin: boolean = false) {\r\n    console.log('[SessionManager] setToken called with persistLogin:', persistLogin)\r\n    this.config.persistLogin = persistLogin\r\n    \r\n    if (persistLogin) {\r\n      // Store in localStorage for persistence across browser sessions\r\n      console.log('[SessionManager] Storing in localStorage (persistent)')\r\n      localStorage.setItem('h2h_token', token)\r\n      localStorage.setItem('h2h_user', JSON.stringify(user))\r\n      localStorage.setItem('h2h_persist_login', 'true')\r\n      // Clear sessionStorage to avoid conflicts\r\n      sessionStorage.removeItem('h2h_token')\r\n      sessionStorage.removeItem('h2h_user')\r\n    } else {\r\n      // Store in sessionStorage (cleared on browser close)\r\n      console.log('[SessionManager] Storing in sessionStorage (temporary)')\r\n      sessionStorage.setItem('h2h_token', token)\r\n      sessionStorage.setItem('h2h_user', JSON.stringify(user))\r\n      // Clear any persistent data\r\n      localStorage.removeItem('h2h_token')\r\n      localStorage.removeItem('h2h_user')\r\n      localStorage.removeItem('h2h_persist_login')\r\n    }\r\n    \r\n    this.startHeartbeat()\r\n    this.startSessionTimeout()\r\n  }\r\n\r\n  public getToken(): string | null {\r\n    return sessionStorage.getItem('h2h_token') || localStorage.getItem('h2h_token')\r\n  }\r\n\r\n  public getUser(): any | null {\r\n    const userStr = sessionStorage.getItem('h2h_user') || localStorage.getItem('h2h_user')\r\n    return userStr ? JSON.parse(userStr) : null\r\n  }\r\n\r\n  public isLoggedIn(): boolean {\r\n    return !!this.getToken()\r\n  }\r\n\r\n  public isPersistentLogin(): boolean {\r\n    return localStorage.getItem('h2h_persist_login') === 'true'\r\n  }\r\n\r\n  public logout() {\r\n    this.clearAllTokens()\r\n    this.stopHeartbeat()\r\n    this.stopSessionTimeout()\r\n    \r\n    // Redirect to login\r\n    window.location.href = '/login'\r\n  }\r\n\r\n  public clearTokens() {\r\n    this.clearAllTokens()\r\n    this.stopHeartbeat()\r\n    this.stopSessionTimeout()\r\n  }\r\n\r\n  public forceLogout(reason: string = 'Session expired') {\r\n    console.warn('Force logout:', reason)\r\n    this.logout()\r\n  }\r\n\r\n\r\n  private clearAllTokens() {\r\n    // Clear both session and persistent tokens\r\n    sessionStorage.removeItem('h2h_token')\r\n    sessionStorage.removeItem('h2h_user')\r\n    localStorage.removeItem('h2h_token')\r\n    localStorage.removeItem('h2h_user')\r\n    localStorage.removeItem('h2h_persist_login')\r\n  }\r\n\r\n  private startHeartbeat() {\r\n    this.stopHeartbeat() // Clear any existing timer\r\n    \r\n    this.heartbeatTimer = window.setInterval(() => {\r\n      // Use mutex pattern to prevent concurrent heartbeat calls\r\n      if (!this.isVerifying) {\r\n        this.performHeartbeat()\r\n      }\r\n    }, this.config.heartbeatInterval)\r\n  }\r\n\r\n  private stopHeartbeat() {\r\n    if (this.heartbeatTimer) {\r\n      window.clearInterval(this.heartbeatTimer)\r\n      this.heartbeatTimer = undefined\r\n    }\r\n  }\r\n\r\n  private startSessionTimeout() {\r\n    this.stopSessionTimeout() // Clear any existing timer\r\n    \r\n    this.sessionTimeoutTimer = window.setTimeout(() => {\r\n      this.forceLogout('Session timeout')\r\n    }, this.config.sessionTimeout)\r\n  }\r\n\r\n  private stopSessionTimeout() {\r\n    if (this.sessionTimeoutTimer) {\r\n      window.clearTimeout(this.sessionTimeoutTimer)\r\n      this.sessionTimeoutTimer = undefined\r\n    }\r\n  }\r\n\r\n  private async performHeartbeat() {\r\n    // Use mutex to prevent concurrent heartbeat operations\r\n    if (this.isVerifying) {\r\n      return\r\n    }\r\n    \r\n    this.isVerifying = true\r\n    \r\n    try {\r\n      const token = this.getToken()\r\n      if (!token) {\r\n        this.forceLogout('No token found')\r\n        return\r\n      }\r\n\r\n      // Make a lightweight API call to verify token validity\r\n      const response = await fetch('/api/auth/verify', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n\r\n      if (!response.ok) {\r\n        if (response.status === 401) {\r\n          this.forceLogout('Invalid token')\r\n        }\r\n        return\r\n      }\r\n\r\n      // Reset session timeout on successful heartbeat\r\n      this.startSessionTimeout()\r\n      \r\n    } catch (error) {\r\n      console.warn('Heartbeat failed:', error)\r\n      // Don't force logout on network errors, just log\r\n    } finally {\r\n      this.isVerifying = false\r\n    }\r\n  }\r\n\r\n  public refreshSession() {\r\n    // Reset session timeout when user is active\r\n    if (this.isLoggedIn()) {\r\n      this.startSessionTimeout()\r\n    }\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nexport const sessionManager = new SessionManager()\r\n\r\n// Activity detection for session refresh\r\nconst ACTIVITY_EVENTS = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart']\r\nlet lastActivity = Date.now()\r\n\r\nACTIVITY_EVENTS.forEach(event => {\r\n  document.addEventListener(event, () => {\r\n    const now = Date.now()\r\n    // Only refresh session if there's been significant inactivity (> 1 minute)\r\n    if (now - lastActivity > 60000) {\r\n      sessionManager.refreshSession()\r\n    }\r\n    lastActivity = now\r\n  }, true)\r\n})\r\n\r\nexport default sessionManager","import { Client, IMessage, StompConfig } from '@stomp/stompjs'\nimport SockJS from 'sockjs-client'\n\nexport interface FlowExecutionUpdate {\n  type: 'FLOW_EXECUTION_UPDATE'\n  executionId: string\n  flowId: string\n  flowName: string\n  status: 'PENDING' | 'RUNNING' | 'COMPLETED' | 'FAILED' | 'CANCELLED'\n  progress: number\n  startedAt?: string\n  completedAt?: string\n  durationMs?: number\n  triggerType: string\n  triggeredBy: string\n  correlationId: string\n  retryAttempt: number\n  errorMessage?: string\n}\n\nexport interface FlowStepUpdate {\n  type: 'FLOW_STEP_UPDATE'\n  stepId: string\n  executionId: string\n  stepName: string\n  stepType: string\n  status: 'PENDING' | 'RUNNING' | 'COMPLETED' | 'FAILED' | 'CANCELLED'\n  stepOrder: number\n  startedAt?: string\n  completedAt?: string\n  durationMs?: number\n  progress: number\n  errorMessage?: string\n  outputSummary?: Record<string, any>\n}\n\nexport interface FlowValidationResult {\n  type: 'FLOW_VALIDATION_RESULT'\n  flowId: string\n  validation: {\n    valid: boolean\n    errors: string[]\n    warnings: string[]\n    errorCount: number\n    warningCount: number\n  }\n  timestamp: number\n}\n\nexport interface FlowDefinitionUpdate {\n  type: 'FLOW_DEFINITION_UPDATE'\n  flowId: string\n  flowName: string\n  updateType: 'CREATED' | 'UPDATED' | 'DELETED' | 'ENABLED' | 'DISABLED'\n  updatedBy: string\n  timestamp: number\n}\n\nexport interface SystemHealthUpdate {\n  type: 'SYSTEM_HEALTH_UPDATE'\n  health: Record<string, any>\n  timestamp: number\n}\n\nexport type WebSocketMessage = \n  | FlowExecutionUpdate \n  | FlowStepUpdate \n  | FlowValidationResult \n  | FlowDefinitionUpdate \n  | SystemHealthUpdate\n\nexport type MessageHandler = (message: WebSocketMessage) => void\n\nexport class WebSocketService {\n  private client: Client | null = null\n  private subscriptions: Map<string, MessageHandler[]> = new Map()\n  private isConnected = false\n  private reconnectAttempts = 0\n  private maxReconnectAttempts = 5\n  private reconnectInterval = 5000\n  private reconnectTimer?: ReturnType<typeof setTimeout>\n\n  constructor(private baseUrl?: string) {\n    this.baseUrl = baseUrl || this.getWebSocketUrl()\n  }\n\n  private getWebSocketUrl(): string {\n    // Always use HTTP/HTTPS URL for SockJS, not ws:// or wss://\n    // SockJS will handle the WebSocket protocol negotiation\n    return `${window.location.protocol}//${window.location.host}/ws`\n  }\n\n  private getAuthToken(): string | null {\n    return sessionStorage.getItem('h2h_token') || localStorage.getItem('h2h_token')\n  }\n\n  public connect(): Promise<void> {\n    if (this.isConnected) {\n      return Promise.resolve()\n    }\n\n    return new Promise((resolve, reject) => {\n      const token = this.getAuthToken()\n      if (!token) {\n        reject(new Error('No authentication token available'))\n        return\n      }\n\n      const stompConfig: StompConfig = {\n        webSocketFactory: () => new SockJS(this.baseUrl!),\n        connectHeaders: {\n          Authorization: `Bearer ${token}`,\n        },\n        heartbeatIncoming: 4000,\n        heartbeatOutgoing: 4000,\n        reconnectDelay: this.reconnectInterval,\n        logRawCommunication: import.meta.env.DEV,\n        debug: import.meta.env.DEV ? (str: string) => console.log('[STOMP Debug]', str) : () => {},\n        onConnect: (frame) => {\n          console.log('[WebSocket] Connected successfully', frame)\n          this.isConnected = true\n          this.reconnectAttempts = 0\n          this.clearReconnectTimer()\n          this.resubscribeAll()\n          resolve()\n        },\n        onStompError: (frame) => {\n          console.error('[WebSocket] STOMP error', frame)\n          this.isConnected = false\n          reject(new Error(`STOMP error: ${frame.body}`))\n        },\n        onWebSocketClose: (event) => {\n          console.warn('[WebSocket] Connection closed', event)\n          this.isConnected = false\n          this.handleReconnect()\n        },\n        onDisconnect: (receipt) => {\n          console.log('[WebSocket] Disconnected', receipt)\n          this.isConnected = false\n        },\n        onWebSocketError: (error) => {\n          console.error('[WebSocket] Connection error', error)\n          this.isConnected = false\n          this.handleReconnect()\n        }\n      }\n\n      this.client = new Client(stompConfig)\n      this.client.activate()\n    })\n  }\n\n  private handleReconnect(): void {\n    if (this.reconnectAttempts >= this.maxReconnectAttempts) {\n      console.error('[WebSocket] Maximum reconnection attempts reached')\n      return\n    }\n\n    this.reconnectAttempts++\n    console.log(`[WebSocket] Attempting to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})`)\n\n    this.reconnectTimer = setTimeout(() => {\n      this.connect().catch((error) => {\n        console.error('[WebSocket] Reconnection failed', error)\n      })\n    }, this.reconnectInterval * this.reconnectAttempts)\n  }\n\n  private clearReconnectTimer(): void {\n    if (this.reconnectTimer) {\n      clearTimeout(this.reconnectTimer)\n      this.reconnectTimer = undefined\n    }\n  }\n\n  private resubscribeAll(): void {\n    // Resubscribe to all topics when reconnected\n    const topics = Array.from(this.subscriptions.keys())\n    for (const topic of topics) {\n      this.subscribeToTopic(topic)\n    }\n  }\n\n  private subscribeToTopic(topic: string): void {\n    if (!this.client || !this.isConnected) {\n      console.warn(`[WebSocket] Cannot subscribe to ${topic}: not connected`)\n      return\n    }\n\n    this.client.subscribe(topic, (message: IMessage) => {\n      try {\n        const data = JSON.parse(message.body) as WebSocketMessage\n        // console.log(`[WebSocket] Received message on ${topic}:`, data)\n        \n        // Call all handlers for this topic\n        const handlers = this.subscriptions.get(topic) || []\n        for (const handler of handlers) {\n          try {\n            handler(data)\n          } catch (error) {\n            console.error(`[WebSocket] Handler error for topic ${topic}:`, error)\n          }\n        }\n      } catch (error) {\n        console.error(`[WebSocket] Failed to parse message on ${topic}:`, error)\n      }\n    })\n\n    // console.log(`[WebSocket] Subscribed to topic: ${topic}`)\n  }\n\n  public subscribe(topic: string, handler: MessageHandler): () => void {\n    // Add handler to subscription map\n    if (!this.subscriptions.has(topic)) {\n      this.subscriptions.set(topic, [])\n    }\n    this.subscriptions.get(topic)!.push(handler)\n\n    // Subscribe to topic if connected\n    if (this.isConnected) {\n      this.subscribeToTopic(topic)\n    }\n\n    // console.log(`[WebSocket] Added handler for topic: ${topic}`)\n\n    // Return unsubscribe function\n    return () => {\n      const handlers = this.subscriptions.get(topic)\n      if (handlers) {\n        const index = handlers.indexOf(handler)\n        if (index > -1) {\n          handlers.splice(index, 1)\n          if (handlers.length === 0) {\n            this.subscriptions.delete(topic)\n            // Note: We don't unsubscribe from STOMP as other components might still need it\n          }\n        }\n      }\n      // console.log(`[WebSocket] Removed handler for topic: ${topic}`)\n    }\n  }\n\n  // Convenience methods for common subscriptions\n  public subscribeToFlowExecutions(handler: (update: FlowExecutionUpdate) => void): () => void {\n    return this.subscribe('/topic/flow-executions', (message) => {\n      if (message.type === 'FLOW_EXECUTION_UPDATE') {\n        handler(message as FlowExecutionUpdate)\n      }\n    })\n  }\n\n  public subscribeToSpecificFlowExecutions(flowId: string, handler: (update: FlowExecutionUpdate) => void): () => void {\n    return this.subscribe(`/topic/flow/${flowId}/executions`, (message) => {\n      if (message.type === 'FLOW_EXECUTION_UPDATE') {\n        handler(message as FlowExecutionUpdate)\n      }\n    })\n  }\n\n  public subscribeToSpecificExecution(executionId: string, handler: (update: FlowExecutionUpdate | FlowStepUpdate) => void): () => void {\n    return this.subscribe(`/topic/execution/${executionId}`, (message) => {\n      if (message.type === 'FLOW_EXECUTION_UPDATE' || message.type === 'FLOW_STEP_UPDATE') {\n        handler(message as FlowExecutionUpdate | FlowStepUpdate)\n      }\n    })\n  }\n\n  public subscribeToExecutionSteps(executionId: string, handler: (update: FlowStepUpdate) => void): () => void {\n    return this.subscribe(`/topic/execution/${executionId}/steps`, (message) => {\n      if (message.type === 'FLOW_STEP_UPDATE') {\n        handler(message as FlowStepUpdate)\n      }\n    })\n  }\n\n  public subscribeToFlowDefinitionUpdates(handler: (update: FlowDefinitionUpdate) => void): () => void {\n    return this.subscribe('/topic/flow-definitions', (message) => {\n      if (message.type === 'FLOW_DEFINITION_UPDATE') {\n        handler(message as FlowDefinitionUpdate)\n      }\n    })\n  }\n\n  public subscribeToFlowValidation(flowId: string, handler: (result: FlowValidationResult) => void): () => void {\n    return this.subscribe(`/topic/flow/${flowId}/validation`, (message) => {\n      if (message.type === 'FLOW_VALIDATION_RESULT') {\n        handler(message as FlowValidationResult)\n      }\n    })\n  }\n\n  public subscribeToSystemHealth(handler: (update: SystemHealthUpdate) => void): () => void {\n    return this.subscribe('/topic/system-health', (message) => {\n      if (message.type === 'SYSTEM_HEALTH_UPDATE') {\n        handler(message as SystemHealthUpdate)\n      }\n    })\n  }\n\n  public disconnect(): void {\n    this.clearReconnectTimer()\n    this.isConnected = false\n    this.subscriptions.clear()\n    \n    if (this.client) {\n      this.client.deactivate()\n      this.client = null\n    }\n    \n    console.log('[WebSocket] Disconnected and cleaned up')\n  }\n\n  public isConnectionActive(): boolean {\n    return this.isConnected && this.client?.connected === true\n  }\n\n  public getConnectionStatus(): 'connected' | 'connecting' | 'disconnected' | 'reconnecting' {\n    if (!this.client) return 'disconnected'\n    if (this.isConnected && this.client.connected) return 'connected'\n    if (this.reconnectAttempts > 0) return 'reconnecting'\n    if (this.client.active) return 'connecting'\n    return 'disconnected'\n  }\n}\n\n// Global WebSocket service instance\nlet webSocketService: WebSocketService | null = null\n\nexport function getWebSocketService(): WebSocketService {\n  if (!webSocketService) {\n    webSocketService = new WebSocketService()\n  }\n  return webSocketService\n}\n\n// Initialize WebSocket connection when user is authenticated\nexport function initializeWebSocket(): Promise<void> {\n  const service = getWebSocketService()\n  return service.connect()\n}\n\n// Cleanup WebSocket connection\nexport function disconnectWebSocket(): void {\n  if (webSocketService) {\n    webSocketService.disconnect()\n    webSocketService = null\n  }\n}","import { create } from 'zustand'\nimport { persist } from 'zustand/middleware'\nimport { sessionManager } from '@/lib/session'\nimport { initializeWebSocket, disconnectWebSocket } from '@/services/websocket'\n\nexport interface User {\n  id: string\n  username: string\n  firstName: string\n  lastName: string\n  email: string\n  role: 'ADMINISTRATOR' | 'VIEWER'\n  enabled: boolean\n  createdAt: string\n  lastLogin?: string\n}\n\ninterface AuthState {\n  user: User | null\n  token: string | null\n  isAuthenticated: boolean\n  isLoading: boolean\n  hasInitialized: boolean\n  persistLogin: boolean\n  \n  // Actions\n  setAuth: (user: User, token: string, persistLogin?: boolean) => void\n  clearAuth: () => void\n  setLoading: (loading: boolean) => void\n  setInitialized: (initialized: boolean) => void\n  updateUser: (user: User) => void\n  setPersistLogin: (persist: boolean) => void\n}\n\n// Helper function to initialize auth state from localStorage immediately\nconst getInitialAuthState = () => {\n  try {\n    const persistLogin = localStorage.getItem('h2h_persist_login') === 'true'\n    \n    const token = sessionManager.getToken()\n    const user = sessionManager.getUser()\n    \n    // Check if token is locally valid (not expired)\n    let isTokenLocallyValid = false\n    if (token) {\n      try {\n        const payload = JSON.parse(atob(token.split('.')[1]))\n        const now = Date.now() / 1000\n        isTokenLocallyValid = payload.exp > now\n      } catch (error) {\n        // Token parsing failed, will be treated as invalid\n      }\n    }\n    \n    // Based on research: Set isAuthenticated to true if we have valid tokens\n    // This prevents the immediate redirect during page refresh\n    const hasValidLocalAuth = !!(token && user && isTokenLocallyValid)\n    \n    return {\n      user,\n      token,\n      // KEY FIX: Set to true if we have valid tokens to prevent redirect\n      isAuthenticated: hasValidLocalAuth,\n      persistLogin,\n      hasInitialized: false, // useAuthInit will still run for backend verification\n      isLoading: false, // Don't show loading if we have tokens\n    }\n  } catch (error) {\n    console.warn('Failed to initialize auth state from storage:', error)\n    return {\n      user: null,\n      token: null,\n      isAuthenticated: false,\n      persistLogin: false,\n      hasInitialized: false,\n      isLoading: true,\n    }\n  }\n}\n\nexport const useAuthStore = create<AuthState>()(\n  persist(\n    (set, get) => ({\n      ...getInitialAuthState(), // Initialize from storage immediately\n      \n      setAuth: (user: User, token: string, persistLogin = false) => {\n        set({\n          user,\n          token,\n          isAuthenticated: true,\n          isLoading: false,\n          hasInitialized: true,\n          persistLogin,\n        })\n        // Use session manager for token storage\n        sessionManager.setToken(token, user, persistLogin)\n        \n        // Initialize WebSocket connection when user logs in\n        initializeWebSocket().catch((error) => {\n          console.warn('[Auth Store] Failed to initialize WebSocket:', error)\n        })\n      },\n      \n      clearAuth: () => {\n        set({\n          user: null,\n          token: null,\n          isAuthenticated: false,\n          isLoading: false,\n          hasInitialized: true,\n          persistLogin: false,\n        })\n        // Don't call sessionManager.logout() here - it causes redirect loop\n        // Just clear local state; actual logout should handle redirect\n        \n        // Disconnect WebSocket when user logs out\n        disconnectWebSocket()\n      },\n      \n      setLoading: (loading: boolean) => {\n        set({ isLoading: loading })\n      },\n      \n      setInitialized: (initialized: boolean) => {\n        set({ hasInitialized: initialized, isLoading: false })\n      },\n      \n      updateUser: (user: User) => {\n        set({ user })\n        // Update user in session manager\n        const currentToken = get().token\n        if (currentToken) {\n          sessionManager.setToken(currentToken, user, get().persistLogin)\n        }\n      },\n      \n      setPersistLogin: (persist: boolean) => {\n        set({ persistLogin: persist })\n      },\n    }),\n    {\n      name: 'h2h-auth',\n      partialize: (state) => ({\n        // Only persist basic auth state, let sessionManager handle tokens\n        persistLogin: state.persistLogin,\n      }),\n    }\n  )\n)","import axios from 'axios'\r\n\r\n// Determine API base URL - production ready\r\nconst getApiBaseUrl = () => {\r\n  // If VITE_API_URL is explicitly set and not empty, use it\r\n  if (import.meta.env.VITE_API_URL && import.meta.env.VITE_API_URL.trim() !== '') {\r\n    return import.meta.env.VITE_API_URL\r\n  }\r\n  \r\n  // Production: Use same origin as frontend\r\n  return window.location.origin\r\n}\r\n\r\nconst API_BASE_URL = getApiBaseUrl()\r\n\r\n// Create axios instance with interceptors\r\nexport const api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 30000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n})\r\n\r\n// Request interceptor to add auth token\r\napi.interceptors.request.use((config) => {\r\n  // Try sessionStorage first (cleared on browser close), fallback to localStorage\r\n  const token = sessionStorage.getItem('h2h_token') || localStorage.getItem('h2h_token')\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`\r\n  }\r\n  return config\r\n})\r\n\r\n// Response interceptor for error handling  \r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      const url = error.config?.url || ''\r\n      console.warn('[API] 401 response received:', {\r\n        url,\r\n        method: error.config?.method,\r\n      })\r\n      \r\n      // TEMPORARILY DISABLED - Don't aggressively clear tokens on 401\r\n      // This was causing refresh loops. Let the auth initialization handle token validation\r\n      // if (!url.includes('/auth/login') && !url.includes('/auth/verify')) {\r\n      //   sessionStorage.removeItem('h2h_token')\r\n      //   sessionStorage.removeItem('h2h_user')  \r\n      //   localStorage.removeItem('h2h_token')\r\n      //   localStorage.removeItem('h2h_user')\r\n      // }\r\n    }\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// Auth API endpoints\r\nexport const authApi = {\r\n  login: async (credentials: { username: string; password: string; rememberMe?: boolean }) => {\r\n    const response = await api.post('/api/auth/login', credentials)\r\n    return response.data\r\n  },\r\n  \r\n  refreshToken: async (refreshToken: string) => {\r\n    const response = await api.post('/api/auth/refresh', { refreshToken })\r\n    return response.data\r\n  },\r\n  \r\n  verifyToken: async () => {\r\n    const response = await api.get('/api/auth/verify')\r\n    return response.data\r\n  },\r\n  \r\n  logout: async () => {\r\n    const response = await api.post('/api/auth/logout')\r\n    return response.data\r\n  },\r\n}\r\n\r\n// User API endpoints\r\nexport const userApi = {\r\n  getCurrentUser: async () => {\r\n    const response = await api.get('/api/users/me')\r\n    return response.data?.data || response.data\r\n  },\r\n\r\n  getAllUsers: async () => {\r\n    const response = await api.get('/api/users')\r\n    return response.data?.data || []\r\n  },\r\n  \r\n  createUser: async (userData: any) => {\r\n    const response = await api.post('/api/users', userData)\r\n    return response.data\r\n  },\r\n  \r\n  updateUser: async (userId: string, userData: any) => {\r\n    const response = await api.put(`/api/users/${userId}`, userData)\r\n    return response.data\r\n  },\r\n  \r\n  deleteUser: async (userId: string) => {\r\n    const response = await api.delete(`/api/users/${userId}`)\r\n    return response.data\r\n  },\r\n  \r\n  changePassword: async (userId: string, currentPassword: string, newPassword: string) => {\r\n    const response = await api.put(`/api/users/${userId}/password`, {\r\n      currentPassword,\r\n      newPassword\r\n    })\r\n    return response.data\r\n  },\r\n}\r\n\r\n// Dashboard API endpoints\r\nexport const dashboardApi = {\r\n  getSystemHealth: async () => {\r\n    const response = await api.get('/api/dashboard/health')\r\n    return response.data\r\n  },\r\n  \r\n  getAdapterStatistics: async () => {\r\n    const response = await api.get('/api/dashboard/adapter-stats')\r\n    return response.data\r\n  },\r\n  \r\n  getRecentExecutions: async (limit = 10) => {\r\n    const response = await api.get(`/api/dashboard/recent-executions?limit=${limit}`)\r\n    return response.data\r\n  },\r\n}\r\n\r\n// Configuration API endpoints\r\nexport const configApi = {\r\n  getDashboardIntervals: async () => {\r\n    const response = await api.get('/api/configuration/dashboard/intervals')\r\n    return response.data\r\n  },\r\n  \r\n  getAllConfigurations: async () => {\r\n    const response = await api.get('/api/configuration/all')\r\n    return response.data\r\n  },\r\n  \r\n  getConfigurationsByCategory: async (category: string) => {\r\n    const response = await api.get(`/api/configuration/category/${category}`)\r\n    return response.data\r\n  },\r\n  \r\n  updateConfigurationValue: async (configKey: string, value: string) => {\r\n    const response = await api.put(`/api/configuration/key/${configKey}/value`, { value })\r\n    return response.data\r\n  },\r\n  \r\n  resetConfigurationToDefault: async (configKey: string) => {\r\n    const response = await api.put(`/api/configuration/key/${configKey}/reset`)\r\n    return response.data\r\n  },\r\n  \r\n  getConfigurationMetadata: async () => {\r\n    const response = await api.get('/api/configuration/metadata')\r\n    return response.data\r\n  },\r\n  \r\n  getConfigurationStatistics: async () => {\r\n    const response = await api.get('/api/configuration/statistics')\r\n    return response.data\r\n  },\r\n}\r\n\r\n// Adapter API endpoints  \r\nexport const adapterApi = {\r\n  getAllAdapters: async () => {\r\n    const response = await api.get('/api/adapters')\r\n    return response.data\r\n  },\r\n  \r\n  getAdaptersByPackage: async (packageId: string) => {\r\n    const response = await api.get(`/api/adapters/package/${packageId}`)\r\n    return response.data\r\n  },\r\n  \r\n  getAdapter: async (id: string) => {\r\n    const response = await api.get(`/api/adapters/${id}`)\r\n    return response.data\r\n  },\r\n  \r\n  createAdapter: async (adapterData: any) => {\r\n    const response = await api.post('/api/adapters', adapterData)\r\n    return response.data\r\n  },\r\n  \r\n  updateAdapter: async (id: string, adapterData: any) => {\r\n    const response = await api.put(`/api/adapters/${id}`, adapterData)\r\n    return response.data\r\n  },\r\n  \r\n  deleteAdapter: async (id: string) => {\r\n    const response = await api.delete(`/api/adapters/${id}`)\r\n    return response.data\r\n  },\r\n  \r\n  testAdapter: async (id: string) => {\r\n    const response = await api.post(`/api/adapters/${id}/test`)\r\n    return response.data\r\n  },\r\n  \r\n  executeAdapter: async (id: string) => {\r\n    const response = await api.post(`/api/adapters/${id}/execute`)\r\n    return response.data\r\n  },\r\n\r\n  // Adapter Control APIs for monitoring\r\n  startAdapter: async (id: string) => {\r\n    const response = await api.post(`/api/adapters/${id}/start`)\r\n    return response.data\r\n  },\r\n\r\n  stopAdapter: async (id: string) => {\r\n    const response = await api.post(`/api/adapters/${id}/stop`)\r\n    return response.data\r\n  },\r\n\r\n  getAdapterStatus: async (id: string) => {\r\n    const response = await api.get(`/api/adapters/${id}/status`)\r\n    return response.data\r\n  },\r\n\r\n  getAdapterLogs: async (params?: { filter?: string; level?: string; adapterId?: string }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.filter) searchParams.append('filter', params.filter)\r\n    if (params?.level && params.level !== 'all') searchParams.append('level', params.level)\r\n    if (params?.adapterId) searchParams.append('adapterId', params.adapterId)\r\n    \r\n    const url = `/api/adapters/logs${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url)\r\n    return response.data\r\n  },\r\n\r\n  // Adapter execution history - get recent executions for specific adapter\r\n  getAdapterExecutionHistory: async (id: string, params?: { limit?: number }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.limit) searchParams.append('limit', params.limit.toString())\r\n    \r\n    const url = `/api/adapters/${id}/executions${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url)\r\n    return response.data\r\n  },\r\n}\r\n\r\n// Interface API endpoints (for flows - where adapters act as interfaces)\r\nexport const interfaceApi = {\r\n  getAllInterfaces: async () => {\r\n    const response = await api.get('/api/interfaces')\r\n    return response.data\r\n  },\r\n  \r\n  getInterface: async (id: string) => {\r\n    const response = await api.get(`/api/interfaces/${id}`)\r\n    return response.data\r\n  },\r\n  \r\n  createInterface: async (interfaceData: any) => {\r\n    const response = await api.post('/api/interfaces', interfaceData)\r\n    return response.data\r\n  },\r\n  \r\n  updateInterface: async (id: string, interfaceData: any) => {\r\n    const response = await api.put(`/api/interfaces/${id}`, interfaceData)\r\n    return response.data\r\n  },\r\n  \r\n  deleteInterface: async (id: string) => {\r\n    const response = await api.delete(`/api/interfaces/${id}`)\r\n    return response.data\r\n  },\r\n  \r\n  testInterface: async (id: string) => {\r\n    const response = await api.post(`/api/interfaces/${id}/test`)\r\n    return response.data\r\n  },\r\n  \r\n  executeInterface: async (id: string) => {\r\n    const response = await api.post(`/api/interfaces/${id}/execute`)\r\n    return response.data\r\n  },\r\n}\r\n\r\n// File Adapter API endpoints\r\nexport const fileAdapterApi = {\r\n  execute: async (adapterId: string, operation: string, parameters: any) => {\r\n    const response = await api.post(`/api/file-adapters/${adapterId}/execute`, {\r\n      operation,\r\n      parameters,\r\n    })\r\n    return response.data\r\n  },\r\n  \r\n  test: async (adapterId: string) => {\r\n    const response = await api.post(`/api/file-adapters/${adapterId}/test`)\r\n    return response.data\r\n  },\r\n  \r\n  getExecutionHistory: async (adapterId: string, limit = 50) => {\r\n    const response = await api.get(`/api/file-adapters/${adapterId}/executions?limit=${limit}`)\r\n    return response.data\r\n  },\r\n}\r\n\r\n// SFTP Adapter API endpoints\r\nexport const sftpAdapterApi = {\r\n  execute: async (adapterId: string, operation: string, parameters: any) => {\r\n    const response = await api.post(`/api/sftp-adapters/${adapterId}/execute`, {\r\n      operation,\r\n      parameters,\r\n    })\r\n    return response.data\r\n  },\r\n  \r\n  test: async (adapterId: string) => {\r\n    const response = await api.post(`/api/sftp-adapters/${adapterId}/test`)\r\n    return response.data\r\n  },\r\n  \r\n  upload: async (adapterId: string, files: string[]) => {\r\n    const response = await api.post(`/api/sftp-adapters/${adapterId}/upload`, { files })\r\n    return response.data\r\n  },\r\n  \r\n  download: async (adapterId: string, files: string[]) => {\r\n    const response = await api.post(`/api/sftp-adapters/${adapterId}/download`, { files })\r\n    return response.data\r\n  },\r\n}\r\n\r\n// Email Adapter API endpoints\r\nexport const emailAdapterApi = {\r\n  execute: async (adapterId: string, operation: string, parameters: any) => {\r\n    const response = await api.post(`/api/email-adapters/${adapterId}/execute`, {\r\n      operation,\r\n      parameters,\r\n    })\r\n    return response.data\r\n  },\r\n  \r\n  sendEmail: async (adapterId: string, emailData: any) => {\r\n    const response = await api.post(`/api/email-adapters/${adapterId}/send`, emailData)\r\n    return response.data\r\n  },\r\n  \r\n  sendNotification: async (adapterId: string, notificationData: any) => {\r\n    const response = await api.post(`/api/email-adapters/${adapterId}/notify`, notificationData)\r\n    return response.data\r\n  },\r\n  \r\n  test: async (adapterId: string) => {\r\n    const response = await api.post(`/api/email-adapters/${adapterId}/test`)\r\n    return response.data\r\n  },\r\n}\r\n\r\n// SSH Key Management API endpoints\r\nexport const sshKeyApi = {\r\n  getAllKeys: async () => {\r\n    const response = await api.get('/api/ssh-keys')\r\n    return response.data.data || []\r\n  },\r\n  \r\n  generateRSAKey: async (keyData: any) => {\r\n    const response = await api.post('/api/ssh-keys/generate/rsa', keyData)\r\n    return response.data\r\n  },\r\n  \r\n  generateDSAKey: async (keyData: any) => {\r\n    const response = await api.post('/api/ssh-keys/generate/dsa', keyData)\r\n    return response.data\r\n  },\r\n  \r\n  importKey: async (keyData: any) => {\r\n    const response = await api.post('/api/ssh-keys/import', keyData)\r\n    return response.data\r\n  },\r\n  \r\n  downloadPrivateKey: async (keyId: string) => {\r\n    const response = await api.get(`/api/ssh-keys/${keyId}/download/private`, {\r\n      responseType: 'blob',\r\n    })\r\n    return response.data\r\n  },\r\n  \r\n  downloadPublicKey: async (keyId: string) => {\r\n    const response = await api.get(`/api/ssh-keys/${keyId}/download/public`, {\r\n      responseType: 'blob',\r\n    })\r\n    return response.data\r\n  },\r\n  \r\n  updateKey: async (keyId: string, keyData: any) => {\r\n    const response = await api.put(`/api/ssh-keys/${keyId}`, keyData)\r\n    return response.data\r\n  },\r\n  \r\n  toggleKeyStatus: async (keyId: string, enabled: boolean) => {\r\n    const response = await api.put(`/api/ssh-keys/${keyId}/status`, { enabled })\r\n    return response.data\r\n  },\r\n  \r\n  deleteKey: async (keyId: string) => {\r\n    const response = await api.delete(`/api/ssh-keys/${keyId}`)\r\n    return response.data\r\n  },\r\n}\r\n\r\n// PGP Key Management API endpoints\r\nexport const pgpKeyApi = {\r\n  getAllKeys: async () => {\r\n    const response = await api.get('/api/admin/pgp-keys')\r\n    return response.data\r\n  },\r\n  \r\n  getKeyById: async (keyId: string) => {\r\n    const response = await api.get(`/api/admin/pgp-keys/${keyId}`)\r\n    return response.data\r\n  },\r\n  \r\n  generateKey: async (keyData: any) => {\r\n    const response = await api.post('/api/admin/pgp-keys/generate', keyData)\r\n    return response.data\r\n  },\r\n  \r\n  importKey: async (keyData: any) => {\r\n    const response = await api.post('/api/admin/pgp-keys/import', keyData)\r\n    return response.data\r\n  },\r\n  \r\n  exportPublicKey: async (keyId: string) => {\r\n    const response = await api.get(`/api/admin/pgp-keys/${keyId}/export/public`, {\r\n      responseType: 'text',\r\n    })\r\n    return response.data\r\n  },\r\n  \r\n  exportPrivateKey: async (keyId: string) => {\r\n    const response = await api.get(`/api/admin/pgp-keys/${keyId}/export/private`, {\r\n      responseType: 'text',\r\n    })\r\n    return response.data\r\n  },\r\n  \r\n  revokeKey: async (keyId: string, reason: string) => {\r\n    const response = await api.post(`/api/admin/pgp-keys/${keyId}/revoke`, { reason })\r\n    return response.data\r\n  },\r\n  \r\n  deleteKey: async (keyId: string) => {\r\n    const response = await api.delete(`/api/admin/pgp-keys/${keyId}`)\r\n    return response.data\r\n  },\r\n  \r\n  getExpiredKeys: async () => {\r\n    const response = await api.get('/api/admin/pgp-keys/expired')\r\n    return response.data\r\n  },\r\n}\r\n\r\n\r\n\r\n// Flow Configuration API endpoints\r\nexport const flowApi = {\r\n  getAllFlows: async () => {\r\n    const response = await api.get('/api/flows')\r\n    return response.data\r\n  },\r\n\r\n  getFlowsByPackage: async (packageId: string) => {\r\n    const response = await api.get(`/api/flows/package/${packageId}`)\r\n    return response.data\r\n  },\r\n\r\n  getFlowById: async (id: string) => {\r\n    const response = await api.get(`/api/flows/${id}`)\r\n    return response.data\r\n  },\r\n\r\n  createFlow: async (flowData: any) => {\r\n    const response = await api.post('/api/flows', flowData)\r\n    return response.data\r\n  },\r\n\r\n  updateFlow: async (id: string, flowData: any) => {\r\n    try {\r\n      const response = await api.put(`/api/flows/${id}`, flowData)\r\n      return response.data\r\n    } catch (error: any) {\r\n      console.error(' Frontend: Flow update failed:', error)\r\n      // Improve error message for user experience\r\n      if (error.response?.data?.message) {\r\n        const backendMessage = error.response.data.message\r\n        if (backendMessage.includes('deployed')) {\r\n          throw new Error(backendMessage) // Use the improved backend message\r\n        }\r\n      }\r\n      throw error\r\n    }\r\n  },\r\n\r\n  deleteFlow: async (id: string) => {\r\n    const response = await api.delete(`/api/flows/${id}`)\r\n    return response.data\r\n  },\r\n\r\n  executeFlow: async (id: string) => {\r\n    const response = await api.post(`/api/flows/${id}/execute`)\r\n    return response.data\r\n  },\r\n\r\n  exportFlow: async (id: string) => {\r\n    const response = await api.get(`/api/flows/${id}/export`)\r\n    return response.data\r\n  },\r\n\r\n  importFlow: async (flowData: any) => {\r\n    const response = await api.post('/api/flows/import', flowData)\r\n    return response.data\r\n  },\r\n\r\n  getStatistics: async () => {\r\n    const response = await api.get('/api/flows/statistics')\r\n    return response.data\r\n  },\r\n\r\n  validateFlow: async (id: string) => {\r\n    try {\r\n      const response = await api.post(`/api/flows/${id}/validate`)\r\n      return response.data\r\n    } catch (error: any) {\r\n      console.error(' Frontend: Flow validation failed:', error)\r\n      console.error(' Frontend: Validation error response:', error.response?.data)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  setFlowActive: async (id: string, active: boolean) => {\r\n    const response = await api.put(`/api/flows/${id}/active?active=${active}`)\r\n    return response.data\r\n  },\r\n\r\n  // Deployment API functions\r\n  deployFlow: async (id: string) => {\r\n    try {\r\n      const response = await api.post(`/api/flows/${id}/deploy`)\r\n      return response.data\r\n    } catch (error: any) {\r\n      console.error(' Frontend: Flow deployment failed:', error)\r\n      console.error(' Frontend: Error response:', error.response?.data)\r\n      console.error(' Frontend: Error status:', error.response?.status)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  undeployFlow: async (id: string) => {\r\n    const response = await api.post(`/api/flows/${id}/undeploy`)\r\n    return response.data\r\n  },\r\n\r\n  getFlowDeploymentStatus: async (id: string) => {\r\n    const response = await api.get(`/api/flows/${id}/deployment`)\r\n    return response.data\r\n  },\r\n\r\n  validateFlowDeployment: async (id: string) => {\r\n    const response = await api.post(`/api/flows/${id}/validate-deployment`)\r\n    return response.data\r\n  }\r\n}\r\n\r\n// End-to-End Flows API endpoints\r\nexport const endToEndFlowApi = {\r\n  getAllFlows: async () => {\r\n    const response = await api.get('/api/end-to-end-flows')\r\n    return response.data\r\n  },\r\n\r\n  getFlowById: async (id: string) => {\r\n    const response = await api.get(`/api/end-to-end-flows/${id}`)\r\n    return response.data\r\n  },\r\n\r\n  createFlow: async (flowData: any) => {\r\n    const response = await api.post('/api/end-to-end-flows', flowData)\r\n    return response.data\r\n  },\r\n\r\n  updateFlow: async (id: string, flowData: any) => {\r\n    const response = await api.put(`/api/end-to-end-flows/${id}`, flowData)\r\n    return response.data\r\n  },\r\n\r\n  deleteFlow: async (id: string) => {\r\n    const response = await api.delete(`/api/end-to-end-flows/${id}`)\r\n    return response.data\r\n  },\r\n\r\n  executeFlow: async (id: string) => {\r\n    const response = await api.post(`/api/end-to-end-flows/${id}/execute`)\r\n    return response.data\r\n  },\r\n\r\n  configureFlow: async (id: string, config: any) => {\r\n    const response = await api.put(`/api/end-to-end-flows/${id}/config`, config)\r\n    return response.data\r\n  }\r\n}\r\n\r\n// Execution Management API endpoints\r\nexport const executionApi = {\r\n  getAllExecutions: async (params?: { \r\n    page?: number; \r\n    size?: number; \r\n    status?: string; \r\n    flowId?: string; \r\n    dateFrom?: string; \r\n    dateTo?: string;\r\n  }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.page) searchParams.append('page', params.page.toString())\r\n    if (params?.size) searchParams.append('size', params.size.toString())\r\n    if (params?.status) searchParams.append('status', params.status)\r\n    if (params?.flowId) searchParams.append('flowId', params.flowId)\r\n    if (params?.dateFrom) searchParams.append('dateFrom', params.dateFrom)\r\n    if (params?.dateTo) searchParams.append('dateTo', params.dateTo)\r\n    \r\n    const url = `/api/executions${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url)\r\n    return response.data\r\n  },\r\n\r\n  getExecutionById: async (id: string) => {\r\n    const response = await api.get(`/api/executions/${id}`)\r\n    return response.data\r\n  },\r\n\r\n  getExecutionSteps: async (id: string) => {\r\n    const response = await api.get(`/api/executions/${id}/steps`)\r\n    return response.data\r\n  },\r\n\r\n  retryExecution: async (id: string) => {\r\n    const response = await api.post(`/api/executions/${id}/retry`)\r\n    return response.data\r\n  },\r\n\r\n  cancelExecution: async (id: string) => {\r\n    const response = await api.post(`/api/executions/${id}/cancel`)\r\n    return response.data\r\n  },\r\n\r\n  getRunningExecutions: async () => {\r\n    const response = await api.get('/api/executions/running')\r\n    return response.data\r\n  },\r\n\r\n  getFailedExecutions: async () => {\r\n    const response = await api.get('/api/executions/failed')\r\n    return response.data\r\n  },\r\n\r\n  getExecutionStatistics: async () => {\r\n    const response = await api.get('/api/executions/statistics')\r\n    return response.data\r\n  },\r\n\r\n  getExecutionPerformance: async () => {\r\n    const response = await api.get('/api/executions/performance')\r\n    return response.data\r\n  },\r\n\r\n  getExecutionsByFlow: async (flowId: string, params?: { page?: number; size?: number; status?: string }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.page) searchParams.append('page', params.page.toString())\r\n    if (params?.size) searchParams.append('size', params.size.toString())\r\n    if (params?.status) searchParams.append('status', params.status)\r\n    \r\n    const url = `/api/flows/${flowId}/executions${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url)\r\n    return response.data\r\n  },\r\n\r\n  // Flow execution logging APIs\r\n  getExecutionLogs: async (executionId: string, params?: { filter?: string; level?: string }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.filter) searchParams.append('filter', params.filter)\r\n    if (params?.level && params.level !== 'all') searchParams.append('level', params.level)\r\n    \r\n    const url = `/api/executions/${executionId}/logs${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url)\r\n    return response.data\r\n  }\r\n}\r\n\r\n// Transaction Logs API endpoints\r\nexport const transactionLogsApi = {\r\n  getRecentLogs: async (params?: { \r\n    limit?: number; \r\n    level?: string; \r\n    category?: string;\r\n    search?: string;\r\n  }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.limit) searchParams.append('limit', params.limit.toString())\r\n    if (params?.level && params.level !== 'ALL') searchParams.append('level', params.level)\r\n    if (params?.category && params.category !== 'ALL') searchParams.append('category', params.category)\r\n    if (params?.search) searchParams.append('search', params.search)\r\n    \r\n    const url = `/api/transaction-logs/recent${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url)\r\n    return response.data\r\n  },\r\n\r\n  exportLogs: async (params?: { \r\n    limit?: number; \r\n    level?: string; \r\n    category?: string;\r\n    format?: string;\r\n  }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.limit) searchParams.append('limit', params.limit.toString())\r\n    if (params?.level && params.level !== 'ALL') searchParams.append('level', params.level)\r\n    if (params?.category && params.category !== 'ALL') searchParams.append('category', params.category)\r\n    if (params?.format) searchParams.append('format', params.format)\r\n    \r\n    const url = `/api/transaction-logs/export${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url, { responseType: 'blob' })\r\n    return response.data\r\n  }\r\n}\r\n\r\n// Environment Configuration API\r\nexport const environmentApi = {\r\n  getCurrentEnvironment: async () => {\r\n    const response = await api.get('/api/system/environment')\r\n    return response.data\r\n  },\r\n\r\n  updateEnvironment: async (data: {\r\n    type?: string;\r\n    enforceRestrictions?: boolean;\r\n    restrictionMessage?: string;\r\n  }) => {\r\n    const response = await api.put('/api/system/environment', data)\r\n    return response.data\r\n  },\r\n\r\n  getEnvironmentTypes: async () => {\r\n    const response = await api.get('/api/system/environment/types')\r\n    return response.data\r\n  },\r\n\r\n  checkPermission: async (action: string) => {\r\n    const response = await api.get(`/api/system/environment/permissions/${action}`)\r\n    return response.data\r\n  }\r\n}\r\n\r\n// System Logs API endpoints\r\nexport const systemLogsApi = {\r\n  getRecentLogs: async (params?: { \r\n    limit?: number; \r\n    level?: string; \r\n    search?: string;\r\n    page?: number;\r\n    size?: number;\r\n  }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.limit) searchParams.append('limit', params.limit.toString())\r\n    if (params?.level && params.level !== 'ALL') searchParams.append('level', params.level)\r\n    if (params?.search) searchParams.append('search', params.search)\r\n    if (params?.page !== undefined) searchParams.append('page', params.page.toString())\r\n    if (params?.size) searchParams.append('size', params.size.toString())\r\n    \r\n    const url = `/api/logs/system${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url)\r\n    return response.data\r\n  },\r\n\r\n  exportLogs: async (params?: { \r\n    limit?: number; \r\n    level?: string; \r\n    category?: string;\r\n    format?: string;\r\n  }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.limit) searchParams.append('limit', params.limit.toString())\r\n    if (params?.level && params.level !== 'ALL') searchParams.append('level', params.level)\r\n    if (params?.category && params.category !== 'ALL') searchParams.append('category', params.category)\r\n    if (params?.format) searchParams.append('format', params.format)\r\n    \r\n    const url = `/api/logs/system/export${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url, { responseType: 'blob' })\r\n    return response.data\r\n  }\r\n}\r\n\r\nexport default api","import { useEffect } from 'react'\nimport { useAuthStore } from '@/stores/auth'\nimport { sessionManager } from '@/lib/session'\nimport { authApi } from '@/lib/api'\nimport { initializeWebSocket, disconnectWebSocket } from '@/services/websocket'\n\n/**\n * Check if JWT token is still valid (not expired)\n */\nconst isTokenValid = (token: string): boolean => {\n  try {\n    const payload = JSON.parse(atob(token.split('.')[1]))\n    const now = Date.now() / 1000\n    return payload.exp > now\n  } catch (error) {\n    console.warn('[JWT] Failed to parse token:', error)\n    return false\n  }\n}\n\n/**\n * Hook to initialize authentication state on app startup\n * Restores session from storage and validates token\n */\nexport const useAuthInit = () => {\n  const { setAuth, setInitialized, hasInitialized } = useAuthStore()\n\n  useEffect(() => {\n    // Only run initialization once\n    if (hasInitialized) {\n      return\n    }\n\n    const initializeAuth = async () => {\n      try {\n        // Check if we have a token in storage\n        const token = sessionManager.getToken()\n        const user = sessionManager.getUser()\n\n        if (!token || !user) {\n          // No stored authentication\n          setInitialized(true)\n          return\n        }\n\n        // First, try to restore user from localStorage to avoid delay during network verification\n        const localUser = sessionManager.getUser()\n        if (localUser && token) {\n          const persistLogin = sessionManager.isPersistentLogin()\n          setAuth(localUser, token, persistLogin)\n        }\n\n        // Check token validity locally first (faster and more reliable)\n        if (!isTokenValid(token)) {\n          sessionManager.clearTokens()\n          setInitialized(true)\n          disconnectWebSocket()\n          return\n        }\n\n        // Backend verification to check for signature mismatches after app restart\n        // This handles cases where app restarted and JWT secret changed\n        try {\n          const response = await authApi.verifyToken()\n          if (!response || !response.valid) {\n            sessionManager.clearTokens()\n            setInitialized(true)\n            disconnectWebSocket()\n            return\n          }\n        } catch (error: any) {\n          if (error?.response?.status === 401) {\n            sessionManager.clearTokens()\n            setInitialized(true)\n            disconnectWebSocket()\n            return\n          }\n          // For other errors (network, etc), continue with local validation\n          console.warn('[useAuthInit] Backend verification failed (non-blocking):', error)\n        }\n\n        // Token is valid locally, restore authentication state\n        if (!localUser) {\n          // Fallback: restore from token if no localStorage user\n          const persistLogin = sessionManager.isPersistentLogin()\n          setAuth(user, token, persistLogin)\n        }\n\n        // Initialize WebSocket connection after successful auth\n        try {\n          await initializeWebSocket()\n        } catch (error) {\n          console.warn('[useAuthInit] WebSocket failed:', error)\n        }\n        \n        // Mark initialization complete\n        setInitialized(true)\n      } catch (error) {\n        console.error('[useAuthInit] Initialization failed:', error)\n        setInitialized(true)\n        disconnectWebSocket()\n      }\n    }\n\n    initializeAuth()\n  }, [setAuth, setInitialized, hasInitialized])\n}\n\nexport default useAuthInit","import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\nexport function formatDuration(milliseconds: number): string {\r\n  const seconds = Math.floor(milliseconds / 1000)\r\n  const minutes = Math.floor(seconds / 60)\r\n  const hours = Math.floor(minutes / 60)\r\n  \r\n  if (hours > 0) {\r\n    return `${hours}h ${minutes % 60}m ${seconds % 60}s`\r\n  } else if (minutes > 0) {\r\n    return `${minutes}m ${seconds % 60}s`\r\n  } else {\r\n    return `${seconds}s`\r\n  }\r\n}\r\n\r\nexport function formatFileSize(bytes: number): string {\r\n  const sizes = ['Bytes', 'KB', 'MB', 'GB']\r\n  if (bytes === 0) return '0 Bytes'\r\n  const i = Math.floor(Math.log(bytes) / Math.log(1024))\r\n  return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i]\r\n}","import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }","import React, { createContext, useContext, useState, ReactNode } from 'react';\n\ninterface SidebarContextType {\n  collapsed: boolean;\n  setCollapsed: (collapsed: boolean) => void;\n  toggle: () => void;\n}\n\nconst SidebarContext = createContext<SidebarContextType | undefined>(undefined);\n\nexport const SidebarProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\n  const [collapsed, setCollapsed] = useState(false);\n\n  const toggle = () => setCollapsed(prev => !prev);\n\n  return (\n    <SidebarContext.Provider value={{ collapsed, setCollapsed, toggle }}>\n      {children}\n    </SidebarContext.Provider>\n  );\n};\n\nexport const useSidebar = () => {\n  const context = useContext(SidebarContext);\n  if (!context) {\n    throw new Error('useSidebar must be used within a SidebarProvider');\n  }\n  return context;\n};\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport {\r\n  LayoutDashboard,\r\n  Settings,\r\n  Activity,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  BarChart3,\r\n  Database,\r\n  Package\r\n} from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\nimport { useAuthStore } from '@/stores/auth'\r\nimport { Button } from '@/components/ui/button'\r\nimport { useSidebar } from '@/contexts/SidebarContext'\r\n\r\nconst navigation = [\r\n  { name: 'Dashboard', href: '/dashboard', icon: LayoutDashboard, section: 'main' },\r\n  { name: 'Package Library', href: '/packages', icon: Package, adminOnly: true, section: 'integration' },\r\n  { name: 'Adapter Monitoring', href: '/adapter-monitoring', icon: Activity, section: 'monitoring' },\r\n  { name: 'Flow Monitoring', href: '/flow-monitoring', icon: BarChart3, section: 'monitoring' },\r\n  { name: 'Administration', href: '/admin', icon: Database, adminOnly: true, section: 'system' },\r\n  { name: 'Settings', href: '/settings', icon: Settings, section: 'system' },\r\n]\r\n\r\nconst Sidebar: React.FC = () => {\r\n  const { collapsed, toggle } = useSidebar()\r\n  const { user } = useAuthStore()\r\n\r\n  const isAdmin = user?.role === 'ADMINISTRATOR'\r\n\r\n  const filteredNavigation = navigation.filter(item => \r\n    !item.adminOnly || isAdmin\r\n  )\r\n\r\n  return (\r\n    <div className={cn(\r\n      \"h-full min-h-full bg-card/80 backdrop-blur-md border-r border-border transition-all duration-300 ease-in-out\",\r\n      collapsed ? \"w-16\" : \"w-64\"\r\n    )}>\r\n      <div className=\"flex flex-col h-full min-h-full\">\r\n        <div className=\"p-4 border-b border-border\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={toggle}\r\n            className=\"ml-auto flex transition-all duration-300 hover:scale-110 hover:bg-accent/50\"\r\n          >\r\n            {collapsed ? (\r\n              <ChevronRight className=\"h-4 w-4 transition-transform duration-300\" />\r\n            ) : (\r\n              <ChevronLeft className=\"h-4 w-4 transition-transform duration-300\" />\r\n            )}\r\n          </Button>\r\n        </div>\r\n\r\n        <nav className=\"flex-1 p-4 space-y-1\">\r\n          {!collapsed && (\r\n            <div className=\"px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider\">\r\n              Main\r\n            </div>\r\n          )}\r\n          {filteredNavigation\r\n            .filter(item => item.section === 'main')\r\n            .map((item) => (\r\n            <NavLink\r\n              key={item.name}\r\n              to={item.href}\r\n              className={({ isActive }) =>\r\n                cn(\r\n                  \"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 group\",\r\n                  \"hover:bg-primary hover:text-primary-foreground hover:scale-[1.02] hover:shadow-soft\",\r\n                  isActive\r\n                    ? \"bg-primary text-primary-foreground shadow-elegant\"\r\n                    : \"text-muted-foreground\"\r\n                )\r\n              }\r\n            >\r\n              <item.icon className={cn(\r\n                \"h-4 w-4 transition-all duration-300 group-hover:scale-110\",\r\n                !collapsed && \"mr-3\"\r\n              )} />\r\n              {!collapsed && (\r\n                <span className=\"transition-all duration-300\">{item.name}</span>\r\n              )}\r\n            </NavLink>\r\n          ))}\r\n\r\n          {!collapsed && filteredNavigation.some(item => item.section === 'integration') && (\r\n            <div className=\"px-3 py-2 mt-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider\">\r\n              Integration\r\n            </div>\r\n          )}\r\n          {filteredNavigation\r\n            .filter(item => item.section === 'integration')\r\n            .map((item) => (\r\n            <NavLink\r\n              key={item.name}\r\n              to={item.href}\r\n              className={({ isActive }) =>\r\n                cn(\r\n                  \"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 group\",\r\n                  \"hover:bg-primary hover:text-primary-foreground hover:scale-[1.02] hover:shadow-soft\",\r\n                  isActive\r\n                    ? \"bg-primary text-primary-foreground shadow-elegant\"\r\n                    : \"text-muted-foreground\"\r\n                )\r\n              }\r\n            >\r\n              <item.icon className={cn(\r\n                \"h-4 w-4 transition-all duration-300 group-hover:scale-110\",\r\n                !collapsed && \"mr-3\"\r\n              )} />\r\n              {!collapsed && (\r\n                <span className=\"transition-all duration-300\">{item.name}</span>\r\n              )}\r\n            </NavLink>\r\n          ))}\r\n\r\n          {!collapsed && filteredNavigation.some(item => item.section === 'monitoring') && (\r\n            <div className=\"px-3 py-2 mt-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider\">\r\n              Monitoring\r\n            </div>\r\n          )}\r\n          {filteredNavigation\r\n            .filter(item => item.section === 'monitoring')\r\n            .map((item) => (\r\n            <NavLink\r\n              key={item.name}\r\n              to={item.href}\r\n              className={({ isActive }) =>\r\n                cn(\r\n                  \"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 group\",\r\n                  \"hover:bg-primary hover:text-primary-foreground hover:scale-[1.02] hover:shadow-soft\",\r\n                  isActive\r\n                    ? \"bg-primary text-primary-foreground shadow-elegant\"\r\n                    : \"text-muted-foreground\"\r\n                )\r\n              }\r\n            >\r\n              <item.icon className={cn(\r\n                \"h-4 w-4 transition-all duration-300 group-hover:scale-110\",\r\n                !collapsed && \"mr-3\"\r\n              )} />\r\n              {!collapsed && (\r\n                <span className=\"transition-all duration-300\">{item.name}</span>\r\n              )}\r\n            </NavLink>\r\n          ))}\r\n\r\n          {!collapsed && filteredNavigation.some(item => item.section === 'system') && (\r\n            <div className=\"px-3 py-2 mt-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider\">\r\n              System\r\n            </div>\r\n          )}\r\n          {filteredNavigation\r\n            .filter(item => item.section === 'system')\r\n            .map((item) => (\r\n            <NavLink\r\n              key={item.name}\r\n              to={item.href}\r\n              className={({ isActive }) =>\r\n                cn(\r\n                  \"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 group\",\r\n                  \"hover:bg-primary hover:text-primary-foreground hover:scale-[1.02] hover:shadow-soft\",\r\n                  isActive\r\n                    ? \"bg-primary text-primary-foreground shadow-elegant\"\r\n                    : \"text-muted-foreground\"\r\n                )\r\n              }\r\n            >\r\n              <item.icon className={cn(\r\n                \"h-4 w-4 transition-all duration-300 group-hover:scale-110\",\r\n                !collapsed && \"mr-3\"\r\n              )} />\r\n              {!collapsed && (\r\n                <span className=\"transition-all duration-300\">{item.name}</span>\r\n              )}\r\n            </NavLink>\r\n          ))}\r\n        </nav>\r\n\r\n        <div className=\"p-4 border-t border-border\">\r\n          <div className={cn(\r\n            \"text-xs text-muted-foreground\",\r\n            collapsed ? \"text-center\" : \"space-y-1\"\r\n          )}>\r\n            {!collapsed && (\r\n              <>\r\n                <div>Version 1.0.0</div>\r\n                <div> 2024 Integrix Host 2 Host</div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Sidebar","import { create } from 'zustand'\r\n\r\ninterface Notification {\r\n  id: string\r\n  type: 'success' | 'error' | 'warning' | 'info'\r\n  title: string\r\n  message: string\r\n  timestamp: Date\r\n  duration?: number\r\n}\r\n\r\ninterface UIState {\r\n  // Sidebar\r\n  sidebarOpen: boolean\r\n  \r\n  // Notifications\r\n  notifications: Notification[]\r\n  \r\n  // Loading states\r\n  globalLoading: boolean\r\n  \r\n  // Modals\r\n  modals: Record<string, boolean>\r\n  \r\n  // Actions\r\n  toggleSidebar: () => void\r\n  setSidebarOpen: (open: boolean) => void\r\n  \r\n  addNotification: (notification: Omit<Notification, 'id' | 'timestamp'>) => void\r\n  removeNotification: (id: string) => void\r\n  clearNotifications: () => void\r\n  \r\n  setGlobalLoading: (loading: boolean) => void\r\n  \r\n  openModal: (modalId: string) => void\r\n  closeModal: (modalId: string) => void\r\n  toggleModal: (modalId: string) => void\r\n}\r\n\r\nexport const useUIStore = create<UIState>((set, get) => ({\r\n  // Initial state\r\n  sidebarOpen: true,\r\n  notifications: [],\r\n  globalLoading: false,\r\n  modals: {},\r\n  \r\n  // Sidebar actions\r\n  toggleSidebar: () => {\r\n    set((state) => ({ sidebarOpen: !state.sidebarOpen }))\r\n  },\r\n  \r\n  setSidebarOpen: (open: boolean) => {\r\n    set({ sidebarOpen: open })\r\n  },\r\n  \r\n  // Notification actions\r\n  addNotification: (notification) => {\r\n    const id = Math.random().toString(36).substr(2, 9)\r\n    const newNotification: Notification = {\r\n      ...notification,\r\n      id,\r\n      timestamp: new Date(),\r\n      duration: notification.duration || 5000,\r\n    }\r\n    \r\n    set((state) => ({\r\n      notifications: [newNotification, ...state.notifications].slice(0, 10), // Keep max 10\r\n    }))\r\n    \r\n    // Auto-remove after duration\r\n    if ((newNotification.duration ?? 4000) > 0) {\r\n      setTimeout(() => {\r\n        get().removeNotification(id)\r\n      }, newNotification.duration ?? 4000)\r\n    }\r\n  },\r\n  \r\n  removeNotification: (id: string) => {\r\n    set((state) => ({\r\n      notifications: state.notifications.filter((n) => n.id !== id),\r\n    }))\r\n  },\r\n  \r\n  clearNotifications: () => {\r\n    set({ notifications: [] })\r\n  },\r\n  \r\n  // Loading actions\r\n  setGlobalLoading: (loading: boolean) => {\r\n    set({ globalLoading: loading })\r\n  },\r\n  \r\n  // Modal actions\r\n  openModal: (modalId: string) => {\r\n    set((state) => ({\r\n      modals: { ...state.modals, [modalId]: true },\r\n    }))\r\n  },\r\n  \r\n  closeModal: (modalId: string) => {\r\n    set((state) => ({\r\n      modals: { ...state.modals, [modalId]: false },\r\n    }))\r\n  },\r\n  \r\n  toggleModal: (modalId: string) => {\r\n    set((state) => ({\r\n      modals: { ...state.modals, [modalId]: !state.modals[modalId] },\r\n    }))\r\n  },\r\n}))\r\n\r\n// Utility hook for notifications\r\nexport const useNotifications = () => {\r\n  const { addNotification, removeNotification, clearNotifications } = useUIStore()\r\n  \r\n  return {\r\n    success: (title: string, message: string, duration?: number) =>\r\n      addNotification({ type: 'success', title, message, duration }),\r\n    \r\n    error: (title: string, message: string, duration?: number) =>\r\n      addNotification({ type: 'error', title, message, duration }),\r\n    \r\n    warning: (title: string, message: string, duration?: number) =>\r\n      addNotification({ type: 'warning', title, message, duration }),\r\n    \r\n    info: (title: string, message: string, duration?: number) =>\r\n      addNotification({ type: 'info', title, message, duration }),\r\n    \r\n    remove: removeNotification,\r\n    clear: clearNotifications,\r\n  }\r\n}","import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return (\r\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }","import * as React from \"react\"\r\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\r\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst DropdownMenu = DropdownMenuPrimitive.Root\r\n\r\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\r\n\r\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\r\n\r\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\r\n\r\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\r\n\r\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\r\n\r\nconst DropdownMenuSubTrigger = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubTrigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\r\n  </DropdownMenuPrimitive.SubTrigger>\r\n))\r\nDropdownMenuSubTrigger.displayName =\r\n  DropdownMenuPrimitive.SubTrigger.displayName\r\n\r\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border border-border bg-card p-1 text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border border-border bg-card p-1 text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\r\nconst DropdownMenuItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\r\n\r\nconst DropdownMenuCheckboxItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\r\n>(({ className, children, checked, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.CheckboxItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    checked={checked}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <Check className=\"h-4 w-4\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.CheckboxItem>\r\n))\r\nDropdownMenuCheckboxItem.displayName =\r\n  DropdownMenuPrimitive.CheckboxItem.displayName\r\n\r\nconst DropdownMenuRadioItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.RadioItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <Circle className=\"h-2 w-2 fill-current\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.RadioItem>\r\n))\r\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\r\n\r\nconst DropdownMenuLabel = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Label\r\n    ref={ref}\r\n    className={cn(\r\n      \"px-2 py-1.5 text-sm font-semibold\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\r\n\r\nconst DropdownMenuSeparator = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Separator\r\n    ref={ref}\r\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\r\n\r\nconst DropdownMenuShortcut = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLSpanElement>) => {\r\n  return (\r\n    <span\r\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\r\n\r\nexport {\r\n  DropdownMenu,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuGroup,\r\n  DropdownMenuPortal,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubContent,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuRadioGroup,\r\n}","import { useQuery } from '@tanstack/react-query'\nimport { environmentApi } from '@/lib/api'\nimport { useAuthStore } from '@/stores/auth'\n\ninterface Environment {\n  type: string\n  displayName: string\n  description: string\n  enforceRestrictions: boolean\n  restrictionMessage: string\n  permissions: {\n    canCreateFlows: boolean\n    canCreateAdapters: boolean\n    canModifyAdapterConfig: boolean\n    canImportExportFlows: boolean\n    canDeployFlows: boolean\n  }\n}\n\nexport const useEnvironment = () => {\n  const { isAuthenticated } = useAuthStore()\n  \n  return useQuery({\n    queryKey: ['environment'],\n    queryFn: async () => {\n      const response = await environmentApi.getCurrentEnvironment()\n      return response.data as Environment\n    },\n    enabled: isAuthenticated, // Only run query if user is authenticated\n    refetchInterval: 30000, // Refetch every 30 seconds\n    staleTime: 10000, // Consider data stale after 10 seconds\n    retry: (failureCount, error: any) => {\n      // Don't retry on authentication errors\n      if (error?.response?.status === 401 || error?.response?.status === 403) {\n        return false\n      }\n      return failureCount < 3\n    }\n  })\n}\n\n// Helper function to get environment-specific styles\nexport const getEnvironmentStyles = (envType: string) => {\n  const baseClasses = \"inline-flex items-center gap-1 rounded-md border font-mono font-bold uppercase tracking-wide\"\n  \n  switch (envType?.toUpperCase()) {\n    case 'PRODUCTION':\n      return {\n        className: `${baseClasses} bg-red-100 text-red-800 border-red-200`,\n        pulseClass: 'animate-pulse bg-red-500'\n      }\n    case 'QUALITY_ASSURANCE':\n      return {\n        className: `${baseClasses} bg-purple-100 text-purple-800 border-purple-200`,\n        pulseClass: 'animate-pulse bg-purple-500'\n      }\n    case 'DEVELOPMENT':\n    default:\n      return {\n        className: `${baseClasses} bg-green-100 text-green-800 border-green-200`,\n        pulseClass: 'animate-pulse bg-green-500'\n      }\n  }\n}","import React from 'react'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { cn } from '@/lib/utils'\r\nimport { useEnvironment } from '@/hooks/useEnvironment'\r\n\r\ninterface EnvironmentBadgeProps {\r\n  size?: 'sm' | 'md' | 'lg'\r\n  className?: string\r\n  showName?: boolean\r\n}\r\n\r\nconst sizeClasses = {\r\n  sm: 'text-xs px-2 py-0.5',\r\n  md: 'text-sm px-2.5 py-1',\r\n  lg: 'text-base px-3 py-1.5'\r\n}\r\n\r\nconst getEnvironmentDetails = (envType?: string) => {\r\n  const type = envType?.toUpperCase() || 'DEVELOPMENT'\r\n  \r\n  switch (type) {\r\n    case 'DEVELOPMENT':\r\n      return {\r\n        id: 'H2H-DEV',\r\n        name: 'Development',\r\n        color: '#22c55e', // green-500\r\n        className: 'bg-green-100 text-green-800 border-green-200'\r\n      }\r\n    case 'QUALITY_ASSURANCE':\r\n      return {\r\n        id: 'H2H-QAS',\r\n        name: 'Quality Assurance', \r\n        color: '#8b5cf6', // purple-500\r\n        className: 'bg-purple-100 text-purple-800 border-purple-200'\r\n      }\r\n    case 'PRODUCTION':\r\n      return {\r\n        id: 'H2H-PRD',\r\n        name: 'Production',\r\n        color: '#ef4444', // red-500\r\n        className: 'bg-red-100 text-red-800 border-red-200'\r\n      }\r\n    default:\r\n      return {\r\n        id: 'H2H-UNK',\r\n        name: 'Unknown',\r\n        color: '#6b7280', // gray-500\r\n        className: 'bg-gray-100 text-gray-800 border-gray-200'\r\n      }\r\n  }\r\n}\r\n\r\nconst EnvironmentBadge: React.FC<EnvironmentBadgeProps> = ({\r\n  size = 'md',\r\n  className,\r\n  showName = false\r\n}) => {\r\n  const { data: environment, isLoading } = useEnvironment()\r\n\r\n  if (isLoading || !environment) {\r\n    return (\r\n      <div className=\"animate-pulse bg-gray-200 rounded-md h-6 w-16 inline-flex items-center justify-center\">\r\n        <div className=\"w-2 h-2 bg-gray-300 rounded-full mr-1\" />\r\n        <div className=\"w-8 h-4 bg-gray-300 rounded\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const envDetails = getEnvironmentDetails(environment.type)\r\n\r\n  return (\r\n    <Badge \r\n      className={cn(\r\n        envDetails.className,\r\n        sizeClasses[size],\r\n        \"inline-flex items-center gap-1.5 transition-all duration-200 font-mono font-bold\",\r\n        className\r\n      )}\r\n      title={`Environment: ${environment.displayName} (${environment.type})`}\r\n    >\r\n      {/* Animated pulsing dot indicator */}\r\n      <div \r\n        className=\"w-2 h-2 rounded-full animate-pulse\"\r\n        style={{ \r\n          backgroundColor: envDetails.color,\r\n          filter: 'brightness(1.2)'\r\n        }}\r\n      />\r\n      \r\n      {/* Environment ID */}\r\n      <span className=\"font-mono font-bold tracking-wide\">\r\n        {envDetails.id}\r\n      </span>\r\n      \r\n      {/* Optional environment name */}\r\n      {showName && (\r\n        <span className=\"font-sans font-normal ml-0.5\">\r\n          {envDetails.name}\r\n        </span>\r\n      )}\r\n    </Badge>\r\n  )\r\n}\r\n\r\n// Loading skeleton for environment badge\r\nexport const EnvironmentBadgeSkeleton: React.FC<{ size?: 'sm' | 'md' | 'lg' }> = ({ \r\n  size = 'md' \r\n}) => {\r\n  return (\r\n    <div className={cn(\r\n      'animate-pulse bg-gray-200 rounded-md inline-flex items-center gap-1',\r\n      sizeClasses[size]\r\n    )}>\r\n      <div className=\"w-2 h-2 bg-gray-300 rounded-full\" />\r\n      <div className=\"w-8 h-4 bg-gray-300 rounded\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EnvironmentBadge","import React from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { \r\n  Bell, \r\n  Settings, \r\n  User, \r\n  LogOut, \r\n  Menu,\r\n  Building2\r\n} from 'lucide-react'\r\nimport { useAuthStore } from '@/stores/auth'\r\nimport { useNotifications } from '@/stores/ui'\r\nimport { useMutation } from '@tanstack/react-query'\r\nimport { authApi } from '@/lib/api'\r\nimport { sessionManager } from '@/lib/session'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\nimport EnvironmentBadge from '@/components/common/EnvironmentBadge'\r\n\r\nconst Header: React.FC = () => {\r\n  const navigate = useNavigate()\r\n  const { user, clearAuth } = useAuthStore()\r\n  const { success, error } = useNotifications()\r\n\r\n  const logoutMutation = useMutation({\r\n    mutationFn: authApi.logout,\r\n    onSuccess: () => {\r\n      sessionManager.clearTokens()\r\n      clearAuth()\r\n      success('Logged out', 'Successfully logged out')\r\n      navigate('/login', { replace: true })\r\n    },\r\n    onError: () => {\r\n      // Still clear auth even if logout API fails\r\n      sessionManager.clearTokens()\r\n      clearAuth()\r\n      error('Logout Error', 'There was an issue logging out, but you have been signed out locally')\r\n      navigate('/login', { replace: true })\r\n    },\r\n  })\r\n\r\n  const handleLogout = () => {\r\n    logoutMutation.mutate()\r\n  }\r\n\r\n  return (\r\n    <header className=\"h-16 border-b border-border bg-card/80 backdrop-blur-md transition-all duration-300\">\r\n      <div className=\"flex h-full items-center justify-between px-6\">\r\n        <div className=\"flex items-center space-x-4\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            className=\"md:hidden\"\r\n            aria-label=\"Toggle sidebar\"\r\n          >\r\n            <Menu className=\"h-5 w-5\" />\r\n          </Button>\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"h-8 w-8 rounded-lg bg-primary flex items-center justify-center\">\r\n              <Building2 className=\"h-4 w-4 text-primary-foreground\" />\r\n            </div>\r\n            <h1 className=\"text-xl font-semibold app-name-gradient\">\r\n              Integrixs Host 2 Host\r\n            </h1>\r\n            <EnvironmentBadge size=\"sm\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center space-x-4\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            className=\"relative transition-all duration-300 hover:scale-110 hover:bg-accent/50\"\r\n          >\r\n            <Bell className=\"h-4 w-4\" />\r\n            <Badge\r\n              variant=\"destructive\"\r\n              className=\"absolute -top-1 -right-1 h-5 w-5 p-0 text-xs animate-pulse\"\r\n            >\r\n              0\r\n            </Badge>\r\n          </Button>\r\n\r\n          <DropdownMenu>\r\n            <DropdownMenuTrigger asChild>\r\n              <Button variant=\"ghost\" size=\"sm\" className=\"flex items-center space-x-2\">\r\n                <User className=\"h-4 w-4\" />\r\n                <span className=\"text-sm\">\r\n                  {user?.firstName} {user?.lastName}\r\n                </span>\r\n              </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent align=\"end\" className=\"w-56\">\r\n              <DropdownMenuItem>\r\n                <User className=\"mr-2 h-4 w-4\" />\r\n                Profile\r\n              </DropdownMenuItem>\r\n              <DropdownMenuItem>\r\n                <Settings className=\"mr-2 h-4 w-4\" />\r\n                Settings\r\n              </DropdownMenuItem>\r\n              <DropdownMenuSeparator />\r\n              <DropdownMenuItem \r\n                onClick={handleLogout}\r\n                disabled={logoutMutation.isPending}\r\n                className=\"text-destructive\"\r\n              >\r\n                <LogOut className=\"mr-2 h-4 w-4\" />\r\n                {logoutMutation.isPending ? 'Logging out...' : 'Logout'}\r\n              </DropdownMenuItem>\r\n            </DropdownMenuContent>\r\n          </DropdownMenu>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react'\nimport { Outlet } from 'react-router-dom'\nimport Sidebar from './Sidebar'\nimport Header from './Header'\nimport { SidebarProvider } from '@/contexts/SidebarContext'\n\nconst Layout: React.FC = () => {\n  return (\n    <SidebarProvider>\n      <div className=\"h-screen w-full bg-background flex flex-col overflow-hidden\">\n        <Header />\n        <div className=\"flex flex-1 w-full overflow-hidden\">\n          <Sidebar />\n          <div className=\"flex-1 flex flex-col min-w-0 w-full max-w-none overflow-hidden\">\n            <main className=\"flex-1 overflow-auto p-6 w-full\">\n              <Outlet />\n            </main>\n          </div>\n        </div>\n      </div>\n    </SidebarProvider>\n  )\n}\n\nexport default Layout","import React from 'react'\nimport { Navigate } from 'react-router-dom'\nimport { useAuthStore } from '@/stores/auth'\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode\n  roles?: string[]\n}\n\nconst ProtectedRoute: React.FC<ProtectedRouteProps> = ({ children, roles }) => {\n  const { isAuthenticated, user, isLoading, hasInitialized } = useAuthStore()\n\n  console.log('[ProtectedRoute] render', {\n    isAuthenticated,\n    isLoading,\n    hasInitialized,\n    userRole: user?.role,\n  })\n\n  // CRITICAL: Prevent premature redirect - wait for initialization to complete\n  // This prevents the redirect loop on browser refresh described in research\n  if (isLoading || !hasInitialized) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-slate-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Verifying authentication...</p>\n        </div>\n      </div>\n    )\n  }\n\n  // Only redirect after auth state is fully loaded and verified\n  if (!isAuthenticated) {\n    console.log('[ProtectedRoute] Authentication verification complete - not authenticated, redirecting to login')\n    return <Navigate to=\"/login\" replace />\n  }\n\n  // Check role-based access if roles are specified\n  if (roles && user && !roles.includes(user.role)) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-red-600 mb-2\">Access Denied</h1>\n          <p className=\"text-gray-600\">You don't have permission to access this page.</p>\n        </div>\n      </div>\n    )\n  }\n\n  return <>{children}</>\n}\n\nexport default ProtectedRoute","import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface InputProps\r\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }","import * as React from \"react\"\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst labelVariants = cva(\r\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\r\n)\r\n\r\nconst Label = React.forwardRef<\r\n  React.ElementRef<typeof LabelPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\r\n    VariantProps<typeof labelVariants>\r\n>(({ className, ...props }, ref) => (\r\n  <LabelPrimitive.Root\r\n    ref={ref}\r\n    className={cn(labelVariants(), className)}\r\n    {...props}\r\n  />\r\n))\r\nLabel.displayName = LabelPrimitive.Root.displayName\r\n\r\nexport { Label }","import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"flex flex-col space-y-1.5 p-6\", className)} {...props} />\r\n))\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n  <h3\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-2xl font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <p\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center p-6 pt-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }","import React, { useEffect } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useMutation } from '@tanstack/react-query'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { Eye, EyeOff, Lock, User as UserIcon } from 'lucide-react'\r\nimport { authApi } from '@/lib/api'\r\nimport { useAuthStore, User } from '@/stores/auth'\r\nimport { useNotifications } from '@/stores/ui'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '@/components/ui/card'\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface LoginForm {\r\n  username: string\r\n  password: string\r\n  rememberMe: boolean\r\n}\r\n\r\nconst LoginPage: React.FC = () => {\r\n  const navigate = useNavigate()\r\n  const [showPassword, setShowPassword] = React.useState(false)\r\n  const { setAuth, isAuthenticated, hasInitialized } = useAuthStore()\r\n  const { error } = useNotifications()\r\n  \r\n  const { register, handleSubmit, formState: { errors } } = useForm<LoginForm>({\r\n    defaultValues: {\r\n      username: '',\r\n      password: '',\r\n      rememberMe: false\r\n    },\r\n  })\r\n\r\n  const loginMutation = useMutation({\r\n    mutationFn: authApi.login,\r\n    onSuccess: (response, variables) => {\r\n      if (response.accessToken && response.username) {\r\n        // Decode JWT token to get actual user ID\r\n        const payload = JSON.parse(atob(response.accessToken.split('.')[1]))\r\n        \r\n        // Create user object from the response\r\n        const user: User = {\r\n          id: payload.sub, // Get actual user ID from JWT token\r\n          username: response.username,\r\n          firstName: response.fullName?.split(' ')[0] || response.username,\r\n          lastName: response.fullName?.split(' ').slice(1).join(' ') || '',\r\n          email: payload.email || `${response.username}@integrixs.com`, // Use email from token or default\r\n          role: response.role as 'ADMINISTRATOR' | 'VIEWER',\r\n          enabled: payload.enabled || true,\r\n          createdAt: new Date().toISOString(),\r\n          lastLogin: new Date().toISOString()\r\n        }\r\n        // Set auth with remember me flag from form\r\n        setAuth(user, response.accessToken, variables.rememberMe)\r\n      } else {\r\n        error('Login Failed', 'Invalid response from server')\r\n      }\r\n    },\r\n    onError: (err: any) => {\r\n      const message = err.response?.data?.message || 'Login failed. Please check your credentials.'\r\n      error('Login Failed', message)\r\n    },\r\n  })\r\n\r\n  const onSubmit = (data: LoginForm) => {\r\n    loginMutation.mutate({\r\n      username: data.username,\r\n      password: data.password,\r\n      rememberMe: data.rememberMe\r\n    })\r\n  }\r\n\r\n  // Redirect if already authenticated (after initialization)\r\n  useEffect(() => {\r\n    if (hasInitialized && isAuthenticated) {\r\n      navigate('/dashboard', { replace: true })\r\n    }\r\n  }, [hasInitialized, isAuthenticated, navigate])\r\n\r\n  // Show loading while checking auth status\r\n  if (!hasInitialized) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-slate-50\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Don't render login form if already authenticated\r\n  if (isAuthenticated) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen app-background flex items-center justify-center p-4\">\r\n      <div className=\"w-full max-w-md space-y-8\">\r\n        <div className=\"text-center\">\r\n          <h1 className=\"text-3xl font-bold text-foreground mb-2 app-name-gradient\">\r\n            Integrixs Host 2 Host\r\n          </h1>\r\n          <p className=\"text-muted-foreground\">\r\n            Secure Host-to-Host File Transfer System\r\n          </p>\r\n        </div>\r\n\r\n        <Card className=\"app-card shadow-xl border\">\r\n          <CardHeader className=\"space-y-1\">\r\n            <CardTitle className=\"text-2xl text-center text-foreground\">Welcome back</CardTitle>\r\n            <CardDescription className=\"text-center text-muted-foreground\">\r\n              Enter your credentials to access the system\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"username\">Username</Label>\r\n                <div className=\"relative\">\r\n                  <UserIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4\" />\r\n                  <Input\r\n                    id=\"username\"\r\n                    type=\"text\"\r\n                    placeholder=\"Enter your username\"\r\n                    className={cn(\r\n                      \"pl-10 bg-input border-border text-foreground\",\r\n                      errors.username && \"border-destructive focus-visible:ring-destructive\"\r\n                    )}\r\n                    {...register('username', { \r\n                      required: 'Username is required',\r\n                      minLength: {\r\n                        value: 3,\r\n                        message: 'Username must be at least 3 characters'\r\n                      }\r\n                    })}\r\n                  />\r\n                  {errors.username && (\r\n                    <p className=\"text-sm text-destructive mt-1\">{errors.username.message}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"password\">Password</Label>\r\n                <div className=\"relative\">\r\n                  <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4\" />\r\n                  <Input\r\n                    id=\"password\"\r\n                    type={showPassword ? 'text' : 'password'}\r\n                    placeholder=\"Enter your password\"\r\n                    className={cn(\r\n                      \"pl-10 pr-10 bg-input border-border text-foreground\",\r\n                      errors.password && \"border-destructive focus-visible:ring-destructive\"\r\n                    )}\r\n                    {...register('password', { \r\n                      required: 'Password is required',\r\n                      minLength: {\r\n                        value: 6,\r\n                        message: 'Password must be at least 6 characters'\r\n                      }\r\n                    })}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground\"\r\n                    onClick={() => setShowPassword(!showPassword)}\r\n                  >\r\n                    {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n                  </button>\r\n                  {errors.password && (\r\n                    <p className=\"text-sm text-destructive mt-1\">{errors.password.message}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-center space-x-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"rememberMe\"\r\n                  className=\"rounded border-border text-primary focus:ring-primary focus:ring-offset-0\"\r\n                  {...register('rememberMe')}\r\n                />\r\n                <Label \r\n                  htmlFor=\"rememberMe\" \r\n                  className=\"text-sm text-muted-foreground cursor-pointer\"\r\n                >\r\n                  Keep me signed in\r\n                </Label>\r\n              </div>\r\n\r\n              <Button\r\n                type=\"submit\"\r\n                className=\"w-full btn-primary\"\r\n                disabled={loginMutation.isPending}\r\n              >\r\n                {loginMutation.isPending ? (\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\r\n                    Signing in...\r\n                  </div>\r\n                ) : (\r\n                  'Sign in'\r\n                )}\r\n              </Button>\r\n\r\n              {loginMutation.isError && (\r\n                <div className=\"text-center text-sm text-destructive bg-destructive/10 border border-destructive/20 p-3 rounded-md\">\r\n                  {loginMutation.error?.response?.data?.message || 'Login failed. Please try again.'}\r\n                </div>\r\n              )}\r\n            </form>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <div className=\"text-center text-sm text-muted-foreground\">\r\n           2024 Integrix Host 2 Host System\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginPage","import React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { X } from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      'fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        'fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg',\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col space-y-1.5 text-center sm:text-left',\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = 'DialogHeader'\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = 'DialogFooter'\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      'text-lg font-semibold leading-none tracking-tight',\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}","import * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border bg-card text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1 bg-card\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}","import React, { useState } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { Play, Loader2, CheckCircle, AlertCircle } from 'lucide-react'\nimport { flowApi } from '@/lib/api'\nimport { Button } from '@/components/ui/button'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\n\ninterface ManualFlowExecutionModalProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n}\n\n\nexport const ManualFlowExecutionModal: React.FC<ManualFlowExecutionModalProps> = ({\n  open,\n  onOpenChange,\n}) => {\n  const [selectedFlowId, setSelectedFlowId] = useState<string>('')\n  const queryClient = useQueryClient()\n\n  // Fetch all flows\n  const { data: flowsResponse, isLoading: flowsLoading } = useQuery({\n    queryKey: ['flows'],\n    queryFn: flowApi.getAllFlows,\n    enabled: open, // Only fetch when modal is open\n  })\n\n  const flows = flowsResponse?.data || []\n\n  // Execute flow mutation\n  const executeFlowMutation = useMutation({\n    mutationFn: (flowId: string) => flowApi.executeFlow(flowId),\n    onSuccess: () => {\n      // Refresh dashboard data after execution\n      queryClient.invalidateQueries({ queryKey: ['dashboard'] })\n      onOpenChange(false) // Close modal on success\n      setSelectedFlowId('') // Reset selection\n    },\n    onError: (error) => {\n      console.error('Failed to execute flow:', error)\n    },\n  })\n\n  const handleExecute = () => {\n    if (selectedFlowId) {\n      executeFlowMutation.mutate(selectedFlowId)\n    }\n  }\n\n  const activeFlows = Array.isArray(flows) ? flows.filter(flow => \n    flow.active === true && \n    flow.deployed === true &&\n    flow.deploymentStatus === 'DEPLOYED'\n  ) : []\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center space-x-2\">\n            <Play className=\"h-5 w-5 text-primary\" />\n            <span>Manually Execute Flow</span>\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-4 pt-4\">\n          {flowsLoading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <div className=\"flex items-center space-x-3\">\n                <Loader2 className=\"h-5 w-5 animate-spin\" />\n                <span className=\"text-muted-foreground\">Loading flows...</span>\n              </div>\n            </div>\n          ) : activeFlows.length === 0 ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <div className=\"text-center\">\n                <AlertCircle className=\"h-8 w-8 text-muted-foreground mx-auto mb-2\" />\n                <p className=\"text-muted-foreground\">No active flows available</p>\n                <p className=\"text-sm text-muted-foreground mt-1\">\n                  Create and activate flows to enable manual execution\n                </p>\n              </div>\n            </div>\n          ) : (\n            <>\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium text-foreground\">\n                  Select Flow to Execute\n                </label>\n                <Select value={selectedFlowId} onValueChange={setSelectedFlowId}>\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Choose a flow...\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {activeFlows.map((flow) => (\n                      <SelectItem key={flow.id} value={flow.id}>\n                        <div className=\"flex items-center justify-between w-full\">\n                          <span>{flow.name}</span>\n                          {flow.deploymentStatus === 'DEPLOYED' && (\n                            <CheckCircle className=\"h-4 w-4 text-success ml-2\" />\n                          )}\n                        </div>\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {selectedFlowId && (\n                <div className=\"bg-secondary rounded-lg p-3\">\n                  <div className=\"text-sm\">\n                    <p className=\"text-muted-foreground\">Selected Flow:</p>\n                    <p className=\"font-medium text-foreground\">\n                      {activeFlows.find(f => f.id === selectedFlowId)?.name}\n                    </p>\n                    {activeFlows.find(f => f.id === selectedFlowId)?.description && (\n                      <p className=\"text-xs text-muted-foreground mt-1\">\n                        {activeFlows.find(f => f.id === selectedFlowId)?.description}\n                      </p>\n                    )}\n                  </div>\n                </div>\n              )}\n\n              {executeFlowMutation.error && (\n                <div className=\"bg-destructive/10 border border-destructive/20 rounded-lg p-3\">\n                  <div className=\"flex items-center space-x-2\">\n                    <AlertCircle className=\"h-4 w-4 text-destructive\" />\n                    <span className=\"text-sm text-destructive\">\n                      Failed to execute flow: {executeFlowMutation.error.message || 'Unknown error'}\n                    </span>\n                  </div>\n                </div>\n              )}\n\n              {executeFlowMutation.isSuccess && (\n                <div className=\"bg-success/10 border border-success/20 rounded-lg p-3\">\n                  <div className=\"flex items-center space-x-2\">\n                    <CheckCircle className=\"h-4 w-4 text-success\" />\n                    <span className=\"text-sm text-success\">\n                      Flow executed successfully!\n                    </span>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n        </div>\n\n        <div className=\"flex justify-between pt-4\">\n          <Button\n            variant=\"outline\"\n            onClick={() => {\n              onOpenChange(false)\n              setSelectedFlowId('')\n              executeFlowMutation.reset()\n            }}\n          >\n            Cancel\n          </Button>\n          <Button\n            onClick={handleExecute}\n            disabled={!selectedFlowId || executeFlowMutation.isPending || flowsLoading}\n            className=\"flex items-center space-x-2\"\n          >\n            {executeFlowMutation.isPending ? (\n              <Loader2 className=\"h-4 w-4 animate-spin\" />\n            ) : (\n              <Play className=\"h-4 w-4\" />\n            )}\n            <span>\n              {executeFlowMutation.isPending ? 'Executing...' : 'Execute'}\n            </span>\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useQuery } from '@tanstack/react-query'\r\nimport { Activity, FileText, CheckCircle, Clock, TrendingUp, AlertTriangle, RefreshCw, Boxes, Play } from 'lucide-react'\r\nimport { dashboardApi, configApi } from '@/lib/api'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ManualFlowExecutionModal } from '@/components/ui/ManualFlowExecutionModal'\r\nimport type { SystemHealth, AdapterStats, RecentExecution } from '@/types/dashboard'\r\n\r\nexport const Dashboard: React.FC = () => {\r\n  const [isFlowExecutionModalOpen, setIsFlowExecutionModalOpen] = useState(false)\r\n\r\n  // Fetch configuration intervals first\r\n  const { data: intervals } = useQuery({\r\n    queryKey: ['configuration', 'dashboard-intervals'],\r\n    queryFn: configApi.getDashboardIntervals,\r\n    staleTime: 5 * 60 * 1000, // Cache for 5 minutes\r\n  })\r\n\r\n  // Extract intervals with defaults\r\n  const refreshIntervals = intervals?.intervals || {\r\n    'dashboard.refresh.health_interval': 30000,\r\n    'dashboard.refresh.adapter_stats_interval': 60000,\r\n    'dashboard.refresh.recent_executions_interval': 60000,\r\n  }\r\n\r\n  // Fetch dashboard data with configurable intervals\r\n  const { data: systemHealth, isLoading: healthLoading } = useQuery<SystemHealth>({\r\n    queryKey: ['dashboard', 'health'],\r\n    queryFn: dashboardApi.getSystemHealth,\r\n    refetchInterval: refreshIntervals['dashboard.refresh.health_interval'],\r\n  })\r\n\r\n  const { data: adapterStats, isLoading: statsLoading } = useQuery<AdapterStats>({\r\n    queryKey: ['dashboard', 'adapter-stats'],\r\n    queryFn: dashboardApi.getAdapterStatistics,\r\n    refetchInterval: refreshIntervals['dashboard.refresh.adapter_stats_interval'],\r\n  })\r\n\r\n  const { data: recentExecutions, isLoading: executionsLoading } = useQuery<RecentExecution[]>({\r\n    queryKey: ['dashboard', 'recent-executions'],\r\n    queryFn: () => dashboardApi.getRecentExecutions(10),\r\n    refetchInterval: refreshIntervals['dashboard.refresh.recent_executions_interval'],\r\n  })\r\n\r\n  const isLoading = healthLoading || statsLoading || executionsLoading\r\n  // Loading state\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"content-spacing\">\r\n        <div className=\"flex items-center justify-center h-64\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\r\n            <span className=\"text-muted-foreground\">Loading dashboard...</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"content-spacing\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">Integrixs Host 2 Host Dashboard</h1>\r\n          <p className=\"text-muted-foreground\">Monitor your bank file transfer operations and system health</p>\r\n        </div>\r\n        <div className=\"flex items-center space-x-3\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <div className={`w-3 h-3 rounded-full ${\r\n              systemHealth?.status === 'UP' ? 'bg-green-500 animate-glow' : 'bg-red-500'\r\n            }`} />\r\n            <span className={`text-sm font-medium ${\r\n              systemHealth?.status === 'UP' ? 'text-green-500' : 'text-red-500'\r\n            }`}>\r\n              {systemHealth?.status === 'UP' ? 'Up' : 'Down'}\r\n            </span>\r\n          </div>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => window.location.reload()}\r\n            className=\"flex items-center space-x-2\"\r\n          >\r\n            <RefreshCw className=\"h-4 w-4\" />\r\n            <span>Refresh</span>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Status Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        {/* System Health Card */}\r\n        <div className=\"app-card rounded-lg p-6 border hover-scale animate-fade-in\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">System Status</p>\r\n              <p className={`text-2xl font-bold ${\r\n                systemHealth?.status === 'UP' ? 'text-green-500' : 'text-red-500'\r\n              }`}>\r\n                {systemHealth?.status === 'UP' ? 'Up' : 'Down'}\r\n              </p>\r\n            </div>\r\n            <Activity className={`h-8 w-8 ${\r\n              systemHealth?.status === 'UP' ? 'text-green-500' : 'text-red-500'\r\n            }`} />\r\n          </div>\r\n          <div className=\"mt-2\">\r\n            <span className=\"text-xs text-muted-foreground\">\r\n              Uptime: {systemHealth?.uptime || '0%'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Operations Today Card */}\r\n        <div className=\"app-card rounded-lg p-6 border hover-scale animate-fade-in\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Operations Today</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">\r\n                {adapterStats?.operationsToday || 0}\r\n              </p>\r\n            </div>\r\n            <TrendingUp className=\"h-8 w-8 text-primary\" />\r\n          </div>\r\n          <div className=\"mt-2\">\r\n            <span className=\"text-xs text-muted-foreground\">\r\n              {adapterStats?.operationsTrend || 'No trend data'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Files Processed Card */}\r\n        <div className=\"app-card rounded-lg p-6 border hover-scale animate-fade-in\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Files Processed</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">\r\n                {adapterStats?.filesProcessed || 0}\r\n              </p>\r\n            </div>\r\n            <FileText className=\"h-8 w-8 text-info\" />\r\n          </div>\r\n          <div className=\"mt-2\">\r\n            <span className=\"text-xs text-muted-foreground\">\r\n              Last hour: {adapterStats?.filesLastHour || 0} files\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Success Rate Card */}\r\n        <div className=\"app-card rounded-lg p-6 border hover-scale animate-fade-in\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Success Rate</p>\r\n              <p className={`text-2xl font-bold ${\r\n                (adapterStats?.successRate || 0) >= 95 ? 'text-success' :\r\n                (adapterStats?.successRate || 0) >= 85 ? 'text-warning' : 'text-destructive'\r\n              }`}>\r\n                {adapterStats?.successRate ? `${adapterStats.successRate}%` : '0%'}\r\n              </p>\r\n            </div>\r\n            <CheckCircle className={`h-8 w-8 ${\r\n              (adapterStats?.successRate || 0) >= 95 ? 'text-success' :\r\n              (adapterStats?.successRate || 0) >= 85 ? 'text-warning' : 'text-destructive'\r\n            }`} />\r\n          </div>\r\n          <div className=\"mt-2\">\r\n            <span className=\"text-xs text-muted-foreground\">\r\n              {adapterStats?.errorsToday || 0} errors today\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recent Operations */}\r\n      <div className=\"app-card rounded-lg p-6 border animate-fade-in\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h2 className=\"text-xl font-semibold text-foreground\">Recent Operations</h2>\r\n          <span className=\"text-sm text-muted-foreground\">\r\n            {recentExecutions?.length || 0} operations\r\n          </span>\r\n        </div>\r\n        \r\n        {recentExecutions && recentExecutions.length > 0 ? (\r\n          <div className=\"space-y-3\">\r\n            {recentExecutions.map((execution, index) => {\r\n              const getStatusIcon = (status: string) => {\r\n                switch (status.toUpperCase()) {\r\n                  case 'SUCCESS':\r\n                    return <CheckCircle className=\"h-5 w-5 text-success\" />\r\n                  case 'FAILED':\r\n                    return <AlertTriangle className=\"h-5 w-5 text-destructive\" />\r\n                  case 'IN_PROGRESS':\r\n                  case 'RUNNING':\r\n                    return <Clock className=\"h-5 w-5 text-warning animate-pulse\" />\r\n                  default:\r\n                    return <Clock className=\"h-5 w-5 text-muted-foreground\" />\r\n                }\r\n              }\r\n\r\n              const formatRelativeTime = (timestamp: string) => {\r\n                const now = new Date()\r\n                const executionTime = new Date(timestamp)\r\n                const diffMs = now.getTime() - executionTime.getTime()\r\n                const diffMins = Math.floor(diffMs / 60000)\r\n                \r\n                if (diffMins < 1) return 'Just now'\r\n                if (diffMins < 60) return `${diffMins} min ago`\r\n                const diffHours = Math.floor(diffMins / 60)\r\n                if (diffHours < 24) return `${diffHours}h ago`\r\n                return `${Math.floor(diffHours / 24)}d ago`\r\n              }\r\n\r\n              return (\r\n                <div key={execution.id || index} className=\"flex items-center justify-between p-3 rounded-md bg-secondary\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    {getStatusIcon(execution.status)}\r\n                    <div>\r\n                      <p className=\"font-medium text-foreground\">\r\n                        {execution.adapterName || 'Unknown'} - {execution.operation || 'Operation'}\r\n                      </p>\r\n                      <p className=\"text-sm text-muted-foreground\">\r\n                        {execution.message || `${execution.filesProcessed || 0} files processed`}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <p className=\"text-sm text-foreground\">\r\n                      {execution.startTime ? new Date(execution.startTime).toLocaleTimeString() : '--:--'}\r\n                    </p>\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                      {execution.startTime ? formatRelativeTime(execution.startTime) : 'Unknown'}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        ) : (\r\n          <div className=\"flex items-center justify-center py-8\">\r\n            <div className=\"text-center\">\r\n              <Activity className=\"h-12 w-12 text-muted-foreground mx-auto mb-2\" />\r\n              <p className=\"text-muted-foreground\">No recent operations</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Adapter Overview and Quick Actions */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Active Adapters */}\r\n        <div className=\"lg:col-span-2 app-card rounded-lg p-6 border animate-fade-in\">\r\n          <h2 className=\"text-xl font-semibold text-foreground mb-4\">Active Adapters</h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            {adapterStats?.adapters?.map((adapter, index) => (\r\n              <div key={adapter.id || index} className=\"bg-secondary rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between mb-3\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <div className={`w-3 h-3 rounded-full ${\r\n                      adapter.status === 'ACTIVE' ? 'bg-success animate-glow' :\r\n                      adapter.status === 'ERROR' ? 'bg-destructive' :\r\n                      'bg-warning'\r\n                    }`} />\r\n                    <h3 className=\"font-medium text-foreground\">{adapter.name}</h3>\r\n                  </div>\r\n                  <span className={`text-xs px-2 py-1 rounded ${\r\n                    adapter.status === 'ACTIVE' ? 'bg-success/20 text-success' :\r\n                    adapter.status === 'ERROR' ? 'bg-destructive/20 text-destructive' :\r\n                    'bg-warning/20 text-warning'\r\n                  }`}>\r\n                    {adapter.status}\r\n                  </span>\r\n                </div>\r\n                <div className=\"space-y-1 text-sm\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-muted-foreground\">Type:</span>\r\n                    <span className=\"text-foreground\">{adapter.type}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-muted-foreground\">Last Run:</span>\r\n                    <span className=\"text-foreground\">\r\n                      {adapter.lastRun ? new Date(adapter.lastRun).toLocaleString() : 'Never'}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-muted-foreground\">Files Today:</span>\r\n                    <span className=\"text-foreground\">{adapter.filesToday || 0}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )) || (\r\n              <div className=\"md:col-span-2 flex items-center justify-center py-8\">\r\n                <div className=\"text-center\">\r\n                  <Boxes className=\"h-12 w-12 text-muted-foreground mx-auto mb-2\" />\r\n                  <p className=\"text-muted-foreground\">No adapters configured</p>\r\n                  <Button variant=\"outline\" size=\"sm\" className=\"mt-2\">\r\n                    Configure Adapters\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Quick Actions */}\r\n        <div className=\"app-card rounded-lg p-6 border animate-fade-in\">\r\n          <h2 className=\"text-xl font-semibold text-foreground mb-4\">Quick Actions</h2>\r\n          <div className=\"space-y-3\">\r\n            <Button \r\n              className=\"w-full btn-primary justify-start\" \r\n              size=\"lg\"\r\n              onClick={() => setIsFlowExecutionModalOpen(true)}\r\n            >\r\n              <Play className=\"h-4 w-4 mr-2\" />\r\n              Manually Execute Flow\r\n            </Button>\r\n            <Button variant=\"outline\" className=\"w-full justify-start\" size=\"lg\" asChild>\r\n              <Link to=\"/admin?tab=logs\">\r\n                <FileText className=\"h-4 w-4 mr-2\" />\r\n                View System Logs\r\n              </Link>\r\n            </Button>\r\n          </div>\r\n\r\n          {/* System Info */}\r\n          <div className=\"mt-6 pt-4 border-t border-border\">\r\n            <h3 className=\"font-medium text-foreground mb-3\">System Info</h3>\r\n            <div className=\"space-y-2 text-sm\">\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-muted-foreground\">Version:</span>\r\n                <span className=\"text-foreground\">v1.0.0</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-muted-foreground\">Java:</span>\r\n                <span className=\"text-foreground\">{systemHealth?.javaVersion || 'Unknown'}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-muted-foreground\">Memory:</span>\r\n                <span className=\"text-foreground\">{systemHealth?.memoryUsage || '0%'}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Manual Flow Execution Modal */}\r\n      <ManualFlowExecutionModal \r\n        open={isFlowExecutionModalOpen}\r\n        onOpenChange={setIsFlowExecutionModalOpen}\r\n      />\r\n    </div>\r\n  )\r\n}","import React, { useState } from 'react'\nimport { useNavigate, Link } from 'react-router-dom'\nimport { useMutation, useQueryClient } from '@tanstack/react-query'\nimport { Key, ChevronRight, Home, Shield, Clock, FileKey, CheckCircle } from 'lucide-react'\nimport { sshKeyApi } from '@/lib/api'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\nimport { useNotifications } from '@/stores/ui'\n\ninterface CreateKeyRequest {\n  name: string\n  description: string\n  keyType: 'RSA' | 'DSA'\n  keySize: number\n}\n\nconst CreateSshKey: React.FC = () => {\n  const navigate = useNavigate()\n  const { success, error } = useNotifications()\n  const queryClient = useQueryClient()\n\n  const [formData, setFormData] = useState<CreateKeyRequest>({\n    name: '',\n    description: '',\n    keyType: 'RSA',\n    keySize: 2048,\n  })\n\n  const createKeyMutation = useMutation({\n    mutationFn: async (keyData: CreateKeyRequest) => {\n      console.log('Generating SSH key with data:', keyData)\n      const result = keyData.keyType === 'RSA' \n        ? await sshKeyApi.generateRSAKey(keyData)\n        : await sshKeyApi.generateDSAKey(keyData)\n      console.log('SSH key generation result:', result)\n      return result\n    },\n    onSuccess: (data) => {\n      console.log('SSH key generated successfully:', data)\n      success('SSH Key Generated', 'SSH key pair created successfully')\n      queryClient.invalidateQueries({ queryKey: ['ssh-keys'] })\n      navigate('/ssh-keys')\n    },\n    onError: (err: any) => {\n      console.error('SSH key generation failed:', err)\n      console.error('Error response:', err.response)\n      error('Generation Failed', err.response?.data?.message || err.message || 'Failed to generate SSH key')\n    },\n  })\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    createKeyMutation.mutate(formData)\n  }\n\n  const getSecurityLevel = () => {\n    if (formData.keyType === 'RSA') {\n      if (formData.keySize >= 4096) return { level: 'High', color: 'text-green-500' }\n      if (formData.keySize >= 3072) return { level: 'Strong', color: 'text-green-400' }\n      return { level: 'Standard', color: 'text-blue-400' }\n    }\n    return { level: formData.keySize >= 2048 ? 'Standard' : 'Basic', color: 'text-yellow-400' }\n  }\n\n  const isFormValid = formData.name.trim() !== '' && formData.description.trim() !== ''\n\n  return (\n    <div className=\"content-spacing\">\n      {/* Breadcrumb Navigation */}\n      <nav className=\"flex items-center space-x-2 text-sm mb-6\">\n        <Link \n          to=\"/dashboard\" \n          className=\"text-muted-foreground hover:text-foreground transition-colors flex items-center\"\n        >\n          <Home className=\"h-4 w-4\" />\n        </Link>\n        <ChevronRight className=\"h-4 w-4 text-muted-foreground\" />\n        <Link \n          to=\"/ssh-keys\" \n          className=\"text-muted-foreground hover:text-foreground transition-colors\"\n        >\n          SSH Keys\n        </Link>\n        <ChevronRight className=\"h-4 w-4 text-muted-foreground\" />\n        <span className=\"text-foreground font-medium\">Generate New Key</span>\n      </nav>\n\n      <div className=\"mb-6\">\n        <h1 className=\"text-3xl font-bold text-foreground mb-2\">Generate SSH Key Pair</h1>\n        <p className=\"text-muted-foreground\">Create a new SSH key pair for secure SFTP connections</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Form Section */}\n        <div className=\"lg:col-span-2\">\n          <Card className=\"app-card border\">\n            <CardHeader>\n              <CardTitle className=\"text-foreground flex items-center space-x-2\">\n                <Key className=\"h-5 w-5\" />\n                <span>Key Configuration</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"name\">Key Name</Label>\n                  <Input\n                    id=\"name\"\n                    value={formData.name}\n                    onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                    placeholder=\"e.g., production-sftp-key\"\n                    className=\"bg-input border-border text-foreground\"\n                    required\n                  />\n                  <p className=\"text-xs text-muted-foreground\">A unique name to identify this key</p>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"description\">Description</Label>\n                  <Input\n                    id=\"description\"\n                    value={formData.description}\n                    onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                    placeholder=\"e.g., Key for production SFTP server\"\n                    className=\"bg-input border-border text-foreground\"\n                    required\n                  />\n                  <p className=\"text-xs text-muted-foreground\">A brief description of what this key is used for</p>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"keyType\">Key Type</Label>\n                    <select\n                      id=\"keyType\"\n                      value={formData.keyType}\n                      onChange={(e) => setFormData(prev => ({ \n                        ...prev, \n                        keyType: e.target.value as 'RSA' | 'DSA',\n                        keySize: e.target.value === 'RSA' ? 2048 : 1024\n                      }))}\n                      className=\"w-full px-3 py-2 bg-input border border-border rounded-md text-foreground\"\n                    >\n                      <option value=\"RSA\">RSA (Recommended)</option>\n                      <option value=\"DSA\">DSA</option>\n                    </select>\n                    <p className=\"text-xs text-muted-foreground\">RSA is recommended for better compatibility</p>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"keySize\">Key Size</Label>\n                    <select\n                      id=\"keySize\"\n                      value={formData.keySize}\n                      onChange={(e) => setFormData(prev => ({ ...prev, keySize: parseInt(e.target.value) }))}\n                      className=\"w-full px-3 py-2 bg-input border border-border rounded-md text-foreground\"\n                    >\n                      {formData.keyType === 'RSA' ? (\n                        <>\n                          <option value={2048}>2048 bits (Recommended)</option>\n                          <option value={3072}>3072 bits</option>\n                          <option value={4096}>4096 bits (High Security)</option>\n                        </>\n                      ) : (\n                        <>\n                          <option value={1024}>1024 bits (Standard)</option>\n                          <option value={2048}>2048 bits</option>\n                        </>\n                      )}\n                    </select>\n                    <p className=\"text-xs text-muted-foreground\">Larger keys are more secure but slower</p>\n                  </div>\n                </div>\n\n                <div className=\"bg-secondary/50 rounded-lg p-4 border border-border\">\n                  <h4 className=\"font-medium text-foreground mb-2\">Security Notice</h4>\n                  <p className=\"text-sm text-muted-foreground\">\n                    The private key will be stored securely on the server. You can download it after generation \n                    for backup purposes. Keep your private key secure and never share it.\n                  </p>\n                </div>\n\n                <div className=\"flex items-center space-x-4 pt-4 border-t border-border\">\n                  <Button \n                    type=\"submit\" \n                    className=\"btn-primary\" \n                    disabled={createKeyMutation.isPending || !isFormValid}\n                  >\n                    {createKeyMutation.isPending ? 'Generating...' : 'Generate Key Pair'}\n                  </Button>\n                  <Button \n                    type=\"button\" \n                    variant=\"outline\" \n                    onClick={() => navigate('/ssh-keys')}\n                  >\n                    Cancel\n                  </Button>\n                </div>\n              </form>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Preview Section */}\n        <div className=\"lg:col-span-1\">\n          <Card className=\"app-card border sticky top-6\">\n            <CardHeader>\n              <CardTitle className=\"text-foreground flex items-center space-x-2\">\n                <FileKey className=\"h-5 w-5\" />\n                <span>Key Preview</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              {/* Key Name */}\n              <div className=\"space-y-1\">\n                <p className=\"text-xs text-muted-foreground uppercase tracking-wider\">Key Name</p>\n                <p className=\"text-foreground font-medium\">\n                  {formData.name || <span className=\"text-muted-foreground italic\">Not specified</span>}\n                </p>\n              </div>\n\n              {/* Description */}\n              <div className=\"space-y-1\">\n                <p className=\"text-xs text-muted-foreground uppercase tracking-wider\">Description</p>\n                <p className=\"text-foreground text-sm\">\n                  {formData.description || <span className=\"text-muted-foreground italic\">Not specified</span>}\n                </p>\n              </div>\n\n              <div className=\"border-t border-border pt-4 space-y-3\">\n                {/* Key Type */}\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-muted-foreground text-sm\">Algorithm</span>\n                  <span className=\"text-foreground font-medium\">{formData.keyType}</span>\n                </div>\n\n                {/* Key Size */}\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-muted-foreground text-sm\">Key Size</span>\n                  <span className=\"text-foreground font-medium\">{formData.keySize} bits</span>\n                </div>\n\n                {/* Security Level */}\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-muted-foreground text-sm\">Security</span>\n                  <span className={`font-medium ${getSecurityLevel().color}`}>\n                    {getSecurityLevel().level}\n                  </span>\n                </div>\n              </div>\n\n              {/* What will be generated */}\n              <div className=\"border-t border-border pt-4\">\n                <p className=\"text-xs text-muted-foreground uppercase tracking-wider mb-3\">Will Generate</p>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center space-x-2 text-sm\">\n                    <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                    <span className=\"text-foreground\">Public Key (.pub)</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2 text-sm\">\n                    <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                    <span className=\"text-foreground\">Private Key</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2 text-sm\">\n                    <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                    <span className=\"text-foreground\">Fingerprint</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Estimated time */}\n              <div className=\"bg-secondary/50 rounded-lg p-3 border border-border\">\n                <div className=\"flex items-center space-x-2\">\n                  <Clock className=\"h-4 w-4 text-muted-foreground\" />\n                  <span className=\"text-sm text-muted-foreground\">\n                    Est. generation time: {formData.keySize >= 4096 ? '5-10' : formData.keySize >= 3072 ? '3-5' : '1-3'} seconds\n                  </span>\n                </div>\n              </div>\n\n              {/* Ready indicator */}\n              {isFormValid && (\n                <div className=\"bg-green-500/10 rounded-lg p-3 border border-green-500/20\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Shield className=\"h-4 w-4 text-green-500\" />\n                    <span className=\"text-sm text-green-500 font-medium\">Ready to generate</span>\n                  </div>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CreateSshKey\n","import React, { useState } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { useNavigate } from 'react-router-dom'\nimport { \n  Play, \n  Square, \n  Activity, \n  CheckCircle, \n  XCircle, \n  Clock,\n  RefreshCw,\n  Eye,\n  BarChart3\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { useNotifications } from '@/stores/ui'\nimport { adapterApi } from '@/lib/api'\nimport { cn } from '@/lib/utils'\n\ninterface Adapter {\n  id: string\n  name: string\n  adapterType: 'FILE' | 'SFTP' | 'EMAIL'\n  direction: 'SENDER' | 'RECEIVER'\n  active: boolean\n  status: 'STARTED' | 'STOPPED' | 'STARTING' | 'STOPPING'\n  lastExecution?: string\n  executionCount: number\n  errorCount: number\n  lastError?: string\n  configuration: any\n  createdAt: string\n}\n\n\nconst AdapterMonitoring: React.FC = () => {\n  const { success, error } = useNotifications()\n  const queryClient = useQueryClient()\n  const navigate = useNavigate()\n  \n  const [statusFilter, setStatusFilter] = useState<string>('all')\n  const [typeFilter, setTypeFilter] = useState<string>('all')\n  const [selectedAdapterId, setSelectedAdapterId] = useState<string | null>(null)\n  const [pendingStartIds, setPendingStartIds] = useState<Set<string>>(new Set())\n  const [pendingStopIds, setPendingStopIds] = useState<Set<string>>(new Set())\n\n  // Fetch adapters with status\n  const { data: adaptersResponse, isLoading: adaptersLoading, refetch: refetchAdapters } = useQuery({\n    queryKey: ['adapters-monitoring'],\n    queryFn: () => adapterApi.getAllAdapters(),\n    refetchInterval: 5000, // Refresh every 5 seconds for real-time status\n  })\n\n\n  // Fetch adapter execution history for selected adapter\n  const { data: executionHistoryResponse } = useQuery({\n    queryKey: ['adapter-execution-history', selectedAdapterId],\n    queryFn: () => selectedAdapterId ? adapterApi.getAdapterExecutionHistory(selectedAdapterId, { limit: 5 }) : null,\n    enabled: !!selectedAdapterId,\n    refetchInterval: 5000, // Refresh every 5 seconds\n  })\n\n  const adapters = adaptersResponse?.data || []\n  const executionHistory = executionHistoryResponse?.data\n\n  // Start adapter mutation (optimistic UI)\n  const startAdapterMutation = useMutation({\n    mutationFn: (adapterId: string) => adapterApi.startAdapter(adapterId),\n    onMutate: async (adapterId) => {\n      await queryClient.cancelQueries({ queryKey: ['adapters-monitoring'] })\n\n      setPendingStartIds(prev => new Set(prev).add(adapterId))\n\n      const previous = queryClient.getQueryData<any>(['adapters-monitoring'])\n\n      queryClient.setQueryData(['adapters-monitoring'], (old: any) => {\n        if (!old) return old\n        const next = { ...old }\n        const list = Array.isArray(old.data) ? old.data : []\n        next.data = list.map((a: Adapter) =>\n          a.id === adapterId ? { ...a, status: 'STARTING' as const } : a\n        )\n        return next\n      })\n\n      return { previous, adapterId }\n    },\n    onSuccess: () => {\n      success('Adapter Started', 'Adapter started successfully')\n    },\n    onError: (err: any, _adapterId, ctx) => {\n      if (ctx?.previous) {\n        queryClient.setQueryData(['adapters-monitoring'], ctx.previous)\n      }\n      error('Start Failed', err.response?.data?.message || 'Failed to start adapter')\n    },\n    onSettled: (_data, _error, adapterId) => {\n      setPendingStartIds(prev => {\n        const next = new Set(prev)\n        next.delete(adapterId)\n        return next\n      })\n      queryClient.invalidateQueries({ queryKey: ['adapters-monitoring'] })\n    },\n  })\n\n  // Stop adapter mutation (optimistic UI)\n  const stopAdapterMutation = useMutation({\n    mutationFn: (adapterId: string) => adapterApi.stopAdapter(adapterId),\n    onMutate: async (adapterId) => {\n      await queryClient.cancelQueries({ queryKey: ['adapters-monitoring'] })\n\n      setPendingStopIds(prev => new Set(prev).add(adapterId))\n\n      const previous = queryClient.getQueryData<any>(['adapters-monitoring'])\n\n      queryClient.setQueryData(['adapters-monitoring'], (old: any) => {\n        if (!old) return old\n        const next = { ...old }\n        const list = Array.isArray(old.data) ? old.data : []\n        next.data = list.map((a: Adapter) =>\n          a.id === adapterId ? { ...a, status: 'STOPPING' as const } : a\n        )\n        return next\n      })\n\n      return { previous, adapterId }\n    },\n    onSuccess: () => {\n      success('Adapter Stopped', 'Adapter stopped successfully')\n    },\n    onError: (err: any, _adapterId, ctx) => {\n      if (ctx?.previous) {\n        queryClient.setQueryData(['adapters-monitoring'], ctx.previous)\n      }\n      error('Stop Failed', err.response?.data?.message || 'Failed to stop adapter')\n    },\n    onSettled: (_data, _error, adapterId) => {\n      setPendingStopIds(prev => {\n        const next = new Set(prev)\n        next.delete(adapterId)\n        return next\n      })\n      queryClient.invalidateQueries({ queryKey: ['adapters-monitoring'] })\n    },\n  })\n\n  const getStatusLED = (status: string, errorCount: number) => {\n    if (errorCount > 0) {\n      return \"bg-red-500\"  // Red for errors\n    } else if (status === 'STARTED') {\n      return \"bg-green-500\"  // Green for started\n    } else {\n      return \"bg-gray-400\"  // Gray for stopped\n    }\n  }\n\n\n\n  const filteredAdapters = adapters.filter((adapter: Adapter) => {\n    const statusMatch = statusFilter === 'all' || adapter.status === statusFilter\n    const typeMatch = typeFilter === 'all' || adapter.adapterType === typeFilter\n    return statusMatch && typeMatch\n  })\n\n\n  if (adaptersLoading) {\n    return (\n      <div className=\"content-spacing\">\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n            <span className=\"text-muted-foreground\">Loading adapter monitoring...</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"content-spacing\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">Adapter Monitoring</h1>\n          <p className=\"text-muted-foreground\">Monitor and control adapter status, performance, and logs</p>\n        </div>\n        <Button\n          variant=\"outline\"\n          onClick={() => refetchAdapters()}\n        >\n          <RefreshCw className=\"h-4 w-4 mr-2\" />\n          Refresh\n        </Button>\n      </div>\n\n      {/* Statistics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-6\">\n            <div className=\"flex items-center space-x-3\">\n              <Activity className=\"h-8 w-8 text-primary\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Total Adapters</p>\n                <p className=\"text-2xl font-bold text-foreground\">{adapters.length}</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-6\">\n            <div className=\"flex items-center space-x-3\">\n              <CheckCircle className=\"h-8 w-8 text-green-500\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Started</p>\n                <p className=\"text-2xl font-bold text-foreground\">\n                  {adapters.filter((a: Adapter) => a.status === 'STARTED').length}\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-6\">\n            <div className=\"flex items-center space-x-3\">\n              <Square className=\"h-8 w-8 text-gray-500\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Stopped</p>\n                <p className=\"text-2xl font-bold text-foreground\">\n                  {adapters.filter((a: Adapter) => a.status === 'STOPPED').length}\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-6\">\n            <div className=\"flex items-center space-x-3\">\n              <XCircle className=\"h-8 w-8 text-red-500\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Errors</p>\n                <p className=\"text-2xl font-bold text-foreground\">\n                  {adapters.filter((a: Adapter) => (a.configuration?.errorCount || 0) > 0).length}\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Filters */}\n      <Card className=\"app-card border mb-6\">\n        <CardHeader>\n          <CardTitle className=\"text-foreground\">Adapter Filters</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"text-sm font-medium text-muted-foreground\">Status</label>\n              <Select value={statusFilter} onValueChange={setStatusFilter}>\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">All Statuses</SelectItem>\n                  <SelectItem value=\"STARTED\">Started</SelectItem>\n                  <SelectItem value=\"STOPPED\">Stopped</SelectItem>\n                  <SelectItem value=\"STARTING\">Starting</SelectItem>\n                  <SelectItem value=\"STOPPING\">Stopping</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div>\n              <label className=\"text-sm font-medium text-muted-foreground\">Type</label>\n              <Select value={typeFilter} onValueChange={setTypeFilter}>\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">All Types</SelectItem>\n                  <SelectItem value=\"FILE\">File</SelectItem>\n                  <SelectItem value=\"SFTP\">SFTP</SelectItem>\n                  <SelectItem value=\"EMAIL\">Email</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div>\n              <label className=\"text-sm font-medium text-muted-foreground\">Search</label>\n              <Input\n                placeholder=\"Search adapters...\"\n                value=\"\"\n                onChange={() => {}}\n              />\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Adapters List */}\n      <div className=\"grid grid-cols-1 gap-6 mb-8\">\n        {filteredAdapters.map((adapter: Adapter) => (\n          <Card key={adapter.id} className=\"app-card border\">\n            <CardHeader>\n              <div className=\"flex items-center space-x-3\">\n                <input type=\"checkbox\" className=\"h-4 w-4 rounded border-border\" />\n                <div \n                  className={cn(\n                    \"h-3 w-3 rounded-full\",\n                    getStatusLED(adapter.status, adapter.configuration?.errorCount || 0)\n                  )}\n                />\n                <div>\n                  <CardTitle className=\"text-lg text-foreground\">{adapter.name}</CardTitle>\n                  <p className=\"text-sm text-muted-foreground\">\n                    {adapter.adapterType}  {adapter.direction}\n                  </p>\n                </div>\n              </div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm\">\n                <div>\n                  <span className=\"text-muted-foreground\">Executions:</span>\n                  <span className=\"ml-2 text-foreground\">{adapter.configuration?.executionCount || 0}</span>\n                </div>\n                <div>\n                  <span className=\"text-muted-foreground\">Last Run:</span>\n                  <span className=\"ml-2 text-foreground\">\n                    {adapter.configuration?.lastExecution ? new Date(adapter.configuration.lastExecution).toLocaleString() : 'Never'}\n                  </span>\n                </div>\n                <div>\n                  <span className=\"text-muted-foreground\">Active:</span>\n                  <span className=\"ml-2 text-foreground\">{adapter.active ? 'Yes' : 'No'}</span>\n                </div>\n              </div>\n\n              {adapter.configuration?.lastError && (\n                <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\n                  <div className=\"flex items-center space-x-2 text-red-700 mb-1\">\n                    <XCircle className=\"h-4 w-4\" />\n                    <span className=\"font-medium\">Last Error</span>\n                  </div>\n                  <p className=\"text-sm text-red-600\">{adapter.configuration.lastError}</p>\n                </div>\n              )}\n\n              {/* Action Buttons - Bottom Left */}\n              <div className=\"mt-4 flex items-center space-x-1\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => startAdapterMutation.mutate(adapter.id)}\n                  disabled={pendingStartIds.has(adapter.id) || adapter.status === 'STARTED' || adapter.status === 'STARTING'}\n                >\n                  <Play className=\"h-4 w-4 mr-1\" />\n                  Start\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => stopAdapterMutation.mutate(adapter.id)}\n                  disabled={pendingStopIds.has(adapter.id) || pendingStartIds.has(adapter.id) || adapter.status === 'STOPPED' || adapter.status === 'STOPPING'}\n                >\n                  <Square className=\"h-4 w-4 mr-1\" />\n                  Stop\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => setSelectedAdapterId(selectedAdapterId === adapter.id ? null : adapter.id)}\n                  className={selectedAdapterId === adapter.id ? 'bg-primary/10 border-primary' : ''}\n                >\n                  <BarChart3 className=\"h-4 w-4 mr-1\" />\n                  Logs\n                </Button>\n              </div>\n\n              {/* Adapter Execution History */}\n              {selectedAdapterId === adapter.id && executionHistory && (\n                <div className=\"mt-4 p-4 bg-secondary/20 border border-secondary rounded-lg\">\n                  <div className=\"flex items-center space-x-2 mb-3\">\n                    <BarChart3 className=\"h-4 w-4 text-primary\" />\n                    <h4 className=\"font-medium text-foreground\">Recent Executions</h4>\n                    <span className=\"text-xs text-muted-foreground\">\n                      ({executionHistory.recentExecutionsShown} of {executionHistory.totalExecutions})\n                    </span>\n                  </div>\n                  \n                  {executionHistory.executions && executionHistory.executions.length > 0 ? (\n                    <div className=\"space-y-2\">\n                      {executionHistory.executions.map((execution: any) => (\n                        <div \n                          key={execution.executionId}\n                          className=\"flex items-center justify-between p-2 bg-background rounded border hover:bg-secondary/30 transition-colors cursor-pointer\"\n                          onClick={() => navigate(`/execution-logs/${execution.executionId}`)}\n                        >\n                          <div className=\"flex items-center space-x-3\">\n                            <span className=\"text-lg\">{execution.statusIcon}</span>\n                            <div className=\"flex flex-col\">\n                              <span className=\"font-mono text-sm text-primary hover:underline\">\n                                {execution.messageId}\n                              </span>\n                              <span className=\"text-xs text-muted-foreground\">\n                                {execution.flowName}  {execution.startedAt ? new Date(execution.startedAt).toLocaleString() : 'Unknown'}\n                              </span>\n                            </div>\n                          </div>\n                          <div className=\"flex items-center space-x-2 text-sm\">\n                            <span className=\"text-muted-foreground\">{execution.statusText}</span>\n                            <span className=\"text-muted-foreground\"></span>\n                            <span className=\"text-muted-foreground\">{execution.duration}</span>\n                            <span className=\"text-muted-foreground\"></span>\n                            <span className=\"text-muted-foreground\">{execution.filesText}</span>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  ) : (\n                    <div className=\"text-center py-4\">\n                      <Clock className=\"h-8 w-8 text-muted-foreground mx-auto mb-2\" />\n                      <p className=\"text-sm text-muted-foreground\">No recent executions found</p>\n                    </div>\n                  )}\n                  \n                  <div className=\"mt-3 flex justify-end\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => navigate(`/flow-monitoring?adapterId=${adapter.id}`)}\n                    >\n                      <Eye className=\"h-4 w-4 mr-1\" />\n                      View All Executions\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n\n    </div>\n  )\n}\n\nexport default AdapterMonitoring","import React, { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { \n  RotateCcw, \n  Activity, \n  CheckCircle, \n  XCircle, \n  Clock,\n  RefreshCw,\n  Eye,\n  AlertTriangle\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { useNotifications } from '@/stores/ui'\nimport { executionApi, flowApi } from '@/lib/api'\nimport { cn } from '@/lib/utils'\n\ninterface FlowExecution {\n  id: string\n  flowId: string\n  flowName: string\n  status: 'PENDING' | 'RUNNING' | 'COMPLETED' | 'FAILED' | 'CANCELLED' | 'TIMEOUT' | 'RETRY_PENDING'\n  startedAt: string\n  completedAt?: string\n  duration?: string\n  filesProcessed?: number\n  bytesProcessed?: string\n  errorMessage?: string\n  correlationId?: string\n  isRetry?: boolean\n  triggerType?: string\n  priority?: number\n}\n\n\n// Removed unused FlowExecutionStepDetailed interface\n\n// Removed unused FlowStepLog interface\n\nconst FlowMonitoring: React.FC = () => {\n  const navigate = useNavigate()\n  const { success, error } = useNotifications()\n  const queryClient = useQueryClient()\n  \n  const [statusFilter, setStatusFilter] = useState<string>('all')\n  const [flowFilter, setFlowFilter] = useState<string>('all')\n\n  // Fetch flow executions\n  const { data: executionsResponse, isLoading: executionsLoading, refetch: refetchExecutions } = useQuery({\n    queryKey: ['flow-executions', statusFilter, flowFilter],\n    queryFn: () => executionApi.getAllExecutions({\n      status: statusFilter === 'all' ? undefined : statusFilter,\n      flowId: flowFilter === 'all' ? undefined : flowFilter,\n      size: 50\n    }),\n    refetchInterval: 5000, // Refresh every 5 seconds for real-time monitoring\n  })\n\n  // Fetch all flows for filter\n  const { data: flowsResponse } = useQuery({\n    queryKey: ['flows-for-monitoring'],\n    queryFn: () => flowApi.getAllFlows(),\n  })\n\n  const executions = executionsResponse?.data?.executions || []\n  const flows = flowsResponse?.data || []\n\n  // Restart execution mutation\n  const restartExecutionMutation = useMutation({\n    mutationFn: (executionId: string) => executionApi.retryExecution(executionId),\n    onSuccess: () => {\n      success('Execution Restarted', 'Flow execution has been restarted successfully')\n      queryClient.invalidateQueries({ queryKey: ['flow-executions'] })\n    },\n    onError: (err: any) => {\n      error('Restart Failed', err.response?.data?.message || 'Failed to restart execution')\n    },\n  })\n\n  // Removed unused cancelExecutionMutation\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'COMPLETED':\n        return <CheckCircle className=\"h-4 w-4 text-green-500\" />\n      case 'FAILED':\n        return <XCircle className=\"h-4 w-4 text-red-500\" />\n      case 'RUNNING':\n      case 'RETRY_PENDING':\n        return <Clock className=\"h-4 w-4 text-blue-500 animate-spin\" />\n      case 'CANCELLED':\n        return <XCircle className=\"h-4 w-4 text-gray-500\" />\n      case 'TIMEOUT':\n        return <AlertTriangle className=\"h-4 w-4 text-red-500\" />\n      case 'PENDING':\n        return <Clock className=\"h-4 w-4 text-yellow-500\" />\n      default:\n        return <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />\n    }\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'COMPLETED':\n        return 'bg-green-100 text-green-700'\n      case 'FAILED':\n        return 'bg-red-100 text-red-700'\n      case 'RUNNING':\n      case 'RETRY_PENDING':\n        return 'bg-blue-100 text-blue-700'\n      case 'CANCELLED':\n        return 'bg-gray-100 text-gray-700'\n      case 'TIMEOUT':\n        return 'bg-red-100 text-red-700'\n      case 'PENDING':\n        return 'bg-yellow-100 text-yellow-700'\n      default:\n        return 'bg-yellow-100 text-yellow-700'\n    }\n  }\n\n\n\n  if (executionsLoading) {\n    return (\n      <div className=\"content-spacing\">\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n            <span className=\"text-muted-foreground\">Loading flow monitoring...</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"content-spacing h-screen flex flex-col\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6 flex-shrink-0\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">Flow Monitoring</h1>\n          <p className=\"text-muted-foreground\">Monitor flow executions, logs, and restart failed flows</p>\n        </div>\n        <Button\n          variant=\"outline\"\n          onClick={() => refetchExecutions()}\n        >\n          <RefreshCw className=\"h-4 w-4 mr-2\" />\n          Refresh\n        </Button>\n      </div>\n\n      <div className=\"flex-1 flex flex-col space-y-6\">\n        {/* Executions List */}\n        <div className=\"flex-1 flex flex-col space-y-6\">\n          {/* Statistics */}\n          <div className=\"grid grid-cols-2 gap-4 flex-shrink-0\">\n            <Card className=\"app-card border\">\n              <CardContent className=\"flex items-center p-4\">\n                <div className=\"flex items-center space-x-3\">\n                  <Activity className=\"h-6 w-6 text-primary\" />\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Total Executions</p>\n                    <p className=\"text-xl font-bold text-foreground\">{executions.length}</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card className=\"app-card border\">\n              <CardContent className=\"flex items-center p-4\">\n                <div className=\"flex items-center space-x-3\">\n                  <XCircle className=\"h-6 w-6 text-red-500\" />\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Failed</p>\n                    <p className=\"text-xl font-bold text-foreground\">\n                      {executions.filter((e: FlowExecution) => e.status === 'FAILED' || e.status === 'TIMEOUT').length}\n                    </p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Filters */}\n          <Card className=\"app-card border flex-shrink-0\">\n            <CardHeader>\n              <CardTitle className=\"text-sm text-foreground\">Filters</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-1 gap-3\">\n                <Select value={statusFilter} onValueChange={setStatusFilter}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">All Statuses</SelectItem>\n                    <SelectItem value=\"PENDING\">Pending</SelectItem>\n                    <SelectItem value=\"RUNNING\">Running</SelectItem>\n                    <SelectItem value=\"COMPLETED\">Completed</SelectItem>\n                    <SelectItem value=\"FAILED\">Failed</SelectItem>\n                    <SelectItem value=\"CANCELLED\">Cancelled</SelectItem>\n                    <SelectItem value=\"TIMEOUT\">Timeout</SelectItem>\n                    <SelectItem value=\"RETRY_PENDING\">Retry Pending</SelectItem>\n                  </SelectContent>\n                </Select>\n\n                <Select value={flowFilter} onValueChange={setFlowFilter}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">All Flows</SelectItem>\n                    {flows.map((flow: any) => (\n                      <SelectItem key={flow.id} value={flow.id}>\n                        {flow.name}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Executions */}\n          <div className=\"flex-1 space-y-3 overflow-y-auto\">\n            {executions.map((execution: FlowExecution) => (\n              <Card \n                key={execution.id} \n                className=\"app-card border transition-all hover:shadow-md\"\n              >\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <div className=\"flex items-center space-x-2\">\n                      {getStatusIcon(execution.status)}\n                      <span className=\"font-medium text-foreground\">{execution.flowName}</span>\n                    </div>\n                    <span className={cn(\"text-xs px-2 py-1 rounded\", getStatusColor(execution.status))}>\n                      {execution.status}\n                    </span>\n                  </div>\n                  \n                  <div className=\"text-sm text-muted-foreground space-y-1\">\n                    <div className=\"flex items-center space-x-2\">\n                      <span>Started: {new Date(execution.startedAt).toLocaleString()}</span>\n                      {execution.triggerType && (\n                        <span> Trigger: {execution.triggerType}</span>\n                      )}\n                    </div>\n                    <div className=\"flex items-center space-x-4\">\n                      <span>Files: {execution.filesProcessed || 0}</span>\n                      <span>Size: {execution.bytesProcessed || '0 B'}</span>\n                      {execution.duration && (\n                        <span>Duration: {execution.duration}</span>\n                      )}\n                      {execution.isRetry && (\n                        <span className=\"text-orange-600\"> Retry</span>\n                      )}\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-2 mt-2\">\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={(e: React.MouseEvent) => {\n                          e.stopPropagation()\n                          navigate(`/execution-logs/${execution.id}`)\n                        }}\n                      >\n                        <Eye className=\"h-3 w-3 mr-1\" />\n                        View Logs\n                      </Button>\n                      \n                      {execution.status === 'FAILED' && (\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={(e: React.MouseEvent) => {\n                            e.stopPropagation()\n                            restartExecutionMutation.mutate(execution.id)\n                          }}\n                          disabled={restartExecutionMutation.isPending}\n                        >\n                          <RotateCcw className=\"h-3 w-3 mr-1\" />\n                          {restartExecutionMutation.isPending ? 'Retrying...' : 'Retry'}\n                        </Button>\n                      )}\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </div>\n      </div>\n\n    </div>\n  )\n}\n\nexport default FlowMonitoring","import React, { useState } from 'react'\nimport { useParams, useNavigate } from 'react-router-dom'\nimport { useQuery } from '@tanstack/react-query'\nimport { \n  ArrowLeft,\n  Filter,\n  Search,\n  Download,\n  RefreshCw,\n  Clock,\n  CheckCircle,\n  AlertTriangle,\n  XCircle,\n  Info,\n  AlertCircle,\n  Eye\n} from 'lucide-react'\nimport { executionApi } from '@/lib/api'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\n\ninterface ExecutionLog {\n  id: string\n  timestamp: string\n  level: 'INFO' | 'WARN' | 'ERROR' | 'DEBUG'\n  category: string\n  message: string\n  loggerName?: string\n  threadName?: string\n  adapterId?: string\n  adapterName?: string\n  flowId?: string\n  flowName?: string\n  executionId?: string\n  exceptionClass?: string\n  exceptionMessage?: string\n  stackTrace?: string\n  executionTimeMs?: number\n  mdcData?: Record<string, string>\n  requestMethod?: string\n  requestUri?: string\n}\n\nconst ExecutionLogsViewer: React.FC = () => {\n  const { executionId } = useParams<{ executionId: string }>()\n  const navigate = useNavigate()\n  \n  const [logFilter, setLogFilter] = useState('')\n  const [logLevelFilter, setLogLevelFilter] = useState('all')\n  const [autoRefresh, setAutoRefresh] = useState(true)\n\n  // Fetch execution details\n  const { data: executionResponse } = useQuery({\n    queryKey: ['execution-details', executionId],\n    queryFn: () => executionId ? executionApi.getExecutionById(executionId) : null,\n    enabled: !!executionId,\n  })\n\n  // Fetch execution logs\n  const { data: logsResponse, isLoading: logsLoading, refetch } = useQuery({\n    queryKey: ['execution-logs', executionId, logFilter, logLevelFilter],\n    queryFn: () => executionId ? executionApi.getExecutionLogs(executionId, { \n      filter: logFilter || undefined, \n      level: logLevelFilter !== 'all' ? logLevelFilter : undefined \n    }) : null,\n    enabled: !!executionId,\n    refetchInterval: autoRefresh ? 3000 : false, // Auto refresh every 3 seconds\n  })\n\n  const execution = executionResponse?.data\n  const logs = logsResponse?.data || []\n  const filteredLogs = logs.filter((log: ExecutionLog) => ['INFO', 'WARN', 'ERROR'].includes(log.level))\n\n  const getLogLevelIcon = (level: string) => {\n    switch (level) {\n      case 'ERROR':\n        return <XCircle className=\"h-4 w-4 text-red-500\" />\n      case 'WARN':\n        return <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />\n      case 'INFO':\n        return <Info className=\"h-4 w-4 text-blue-500\" />\n      case 'DEBUG':\n        return <Eye className=\"h-4 w-4 text-gray-500\" />\n      default:\n        return <AlertCircle className=\"h-4 w-4 text-gray-500\" />\n    }\n  }\n\n  const getLogLevelColor = (_level: string) => {\n    // All log levels use the same dark slate styling for consistency\n    return 'bg-slate-950/50 text-slate-400 border-slate-800/50'\n  }\n\n  const formatTimestamp = (timestamp: string) => {\n    const date = new Date(timestamp)\n    return date.toLocaleString('en-GB', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n      hour12: false\n    }) + '.' + date.getMilliseconds().toString().padStart(3, '0')\n  }\n\n  const handleExportLogs = () => {\n    const csvContent = filteredLogs.map((log: ExecutionLog) => \n      `\"${formatTimestamp(log.timestamp)}\",\"${log.level}\",\"${log.category}\",\"${log.message.replace(/\"/g, '\"\"')}\"`\n    ).join('\\n')\n    \n    const header = 'Timestamp,Level,Category,Message\\n'\n    const blob = new Blob([header + csvContent], { type: 'text/csv;charset=utf-8;' })\n    const link = document.createElement('a')\n    const url = URL.createObjectURL(blob)\n    link.setAttribute('href', url)\n    link.setAttribute('download', `execution-logs-${executionId}-${new Date().toISOString().split('T')[0]}.csv`)\n    link.style.visibility = 'hidden'\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n  }\n\n  const clearFilters = () => {\n    setLogFilter('')\n    setLogLevelFilter('all')\n  }\n\n  if (!executionId) {\n    return (\n      <div className=\"content-spacing\">\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center justify-center py-12\">\n            <div className=\"text-center\">\n              <AlertTriangle className=\"h-16 w-16 text-yellow-500 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">Invalid Execution</h3>\n              <p className=\"text-muted-foreground\">No execution ID provided</p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"content-spacing\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center space-x-4\">\n          <Button variant=\"outline\" size=\"sm\" onClick={() => navigate('/flow-monitoring')}>\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Back to Flow Monitoring\n          </Button>\n          <div>\n            <h1 className=\"text-3xl font-bold text-foreground\">Execution Logs</h1>\n            <p className=\"text-muted-foreground\">\n              Detailed step-by-step logs for execution: {executionId?.substring(0, 8)}\n            </p>\n          </div>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => setAutoRefresh(!autoRefresh)}\n            className={autoRefresh ? 'bg-primary/10 border-primary' : ''}\n          >\n            <RefreshCw className={`h-4 w-4 mr-2 ${autoRefresh ? 'animate-spin' : ''}`} />\n            Auto Refresh\n          </Button>\n          <Button variant=\"outline\" size=\"sm\" onClick={() => refetch()}>\n            <RefreshCw className=\"h-4 w-4 mr-2\" />\n            Refresh\n          </Button>\n          <Button variant=\"outline\" size=\"sm\" onClick={handleExportLogs} disabled={filteredLogs.length === 0}>\n            <Download className=\"h-4 w-4 mr-2\" />\n            Export CSV\n          </Button>\n        </div>\n      </div>\n\n      {/* Execution Summary */}\n      {execution && (\n        <Card className=\"app-card border mb-6\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center space-x-2\">\n              <Clock className=\"h-5 w-5\" />\n              <span>Execution Summary</span>\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n              <div>\n                <span className=\"text-muted-foreground\">Flow:</span>\n                <span className=\"ml-2 text-foreground font-medium\">{execution.flowName}</span>\n              </div>\n              <div>\n                <span className=\"text-muted-foreground\">Status:</span>\n                <span className=\"ml-2\">\n                  <span className={`inline-flex items-center space-x-1 px-2 py-1 rounded text-xs ${\n                    execution.status === 'COMPLETED' ? 'bg-green-100 text-green-700' :\n                    execution.status === 'FAILED' ? 'bg-red-100 text-red-700' :\n                    execution.status === 'RUNNING' ? 'bg-blue-100 text-blue-700' :\n                    'bg-gray-100 text-gray-700'\n                  }`}>\n                    {execution.status === 'COMPLETED' && <CheckCircle className=\"h-3 w-3\" />}\n                    {execution.status === 'FAILED' && <XCircle className=\"h-3 w-3\" />}\n                    {execution.status === 'RUNNING' && <Clock className=\"h-3 w-3\" />}\n                    <span>{execution.status}</span>\n                  </span>\n                </span>\n              </div>\n              <div>\n                <span className=\"text-muted-foreground\">Duration:</span>\n                <span className=\"ml-2 text-foreground\">{execution.duration || 'In progress'}</span>\n              </div>\n              <div>\n                <span className=\"text-muted-foreground\">Started:</span>\n                <span className=\"ml-2 text-foreground\">{new Date(execution.startedAt).toLocaleString()}</span>\n              </div>\n              <div>\n                <span className=\"text-muted-foreground\">Trigger:</span>\n                <span className=\"ml-2 text-foreground\">{execution.triggerType}</span>\n              </div>\n              <div>\n                <span className=\"text-muted-foreground\">Files Processed:</span>\n                <span className=\"ml-2 text-foreground\">{execution.filesProcessed || 0}</span>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Filters */}\n      <Card className=\"app-card border mb-6\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center space-x-2\">\n            <Filter className=\"h-5 w-5\" />\n            <span>Log Filters</span>\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-medium text-muted-foreground\">Search Message</label>\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search log messages...\"\n                  value={logFilter}\n                  onChange={(e) => setLogFilter(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-medium text-muted-foreground\">Log Level</label>\n              <Select value={logLevelFilter} onValueChange={setLogLevelFilter}>\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">All Levels</SelectItem>\n                  <SelectItem value=\"ERROR\">Error</SelectItem>\n                  <SelectItem value=\"WARN\">Warning</SelectItem>\n                  <SelectItem value=\"INFO\">Information</SelectItem>\n                  <SelectItem value=\"DEBUG\">Debug</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"flex items-end\">\n              <Button variant=\"outline\" onClick={clearFilters} className=\"w-full\">\n                Clear Filters\n              </Button>\n            </div>\n          </div>\n\n          <div className=\"mt-4 text-sm text-muted-foreground\">\n            Showing {filteredLogs.length} log entries (INFO, WARN, ERROR only)\n            {logFilter && <span>  Filtered by: \"{logFilter}\"</span>}\n            {logLevelFilter !== 'all' && <span>  Level: {logLevelFilter}</span>}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Log Entries */}\n      <Card className=\"app-card border\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-2\">\n              <Eye className=\"h-5 w-5\" />\n              <span>Detailed Execution Logs</span>\n            </div>\n            <span className=\"text-sm font-normal text-muted-foreground\">\n              {autoRefresh && 'Auto-refreshing every 3 seconds'}\n            </span>\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          {logsLoading ? (\n            <div className=\"flex items-center justify-center py-12\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n                <span className=\"text-muted-foreground\">Loading logs...</span>\n              </div>\n            </div>\n          ) : filteredLogs.length === 0 ? (\n            <div className=\"flex items-center justify-center py-12\">\n              <div className=\"text-center\">\n                <Eye className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n                <h3 className=\"text-lg font-semibold text-foreground mb-2\">No Logs Found</h3>\n                <p className=\"text-muted-foreground\">\n                  {logFilter || logLevelFilter !== 'all' \n                    ? 'No logs match your current filters'\n                    : 'No detailed logs available for this execution'\n                  }\n                </p>\n              </div>\n            </div>\n          ) : (\n            <div className=\"space-y-2 max-h-[600px] overflow-y-auto\">\n              {filteredLogs.map((log: ExecutionLog, index: number) => (\n                <div\n                  key={`${log.id}-${index}`}\n                  className={`flex items-start space-x-3 p-4 rounded-lg border ${getLogLevelColor(log.level)}`}\n                >\n                  <div className=\"flex-shrink-0 mt-0.5\">\n                    {getLogLevelIcon(log.level)}\n                  </div>\n                  \n                  <div className=\"flex-1 min-w-0 space-y-2\">\n                    {/* Timestamp and Level Header */}\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center space-x-3 text-sm\">\n                        <span className=\"font-mono text-foreground\">\n                          {formatTimestamp(log.timestamp)}\n                        </span>\n                        <span className={`px-2 py-1 rounded text-xs font-medium ${getLogLevelColor(log.level)}`}>\n                          {log.level}\n                        </span>\n                        <span className=\"text-muted-foreground\">{log.category}</span>\n                      </div>\n                      {log.executionTimeMs && (\n                        <span className=\"text-xs text-muted-foreground\">\n                          {log.executionTimeMs}ms\n                        </span>\n                      )}\n                    </div>\n\n                    {/* Main Message */}\n                    <div className=\"text-sm text-foreground\">\n                      <p className=\"whitespace-pre-wrap break-words\">{log.message}</p>\n                    </div>\n\n                    {/* Context Information */}\n                    {(log.adapterName || log.flowName || log.loggerName || log.threadName) && (\n                      <div className=\"flex flex-wrap gap-3 text-xs text-muted-foreground\">\n                        {log.adapterName && (\n                          <span>Adapter: {log.adapterName}</span>\n                        )}\n                        {log.flowName && (\n                          <span>Flow: {log.flowName}</span>\n                        )}\n                        {log.loggerName && (\n                          <span>Logger: {log.loggerName.split('.').pop()}</span>\n                        )}\n                        {log.threadName && (\n                          <span>Thread: {log.threadName}</span>\n                        )}\n                      </div>\n                    )}\n\n                    {/* Exception Details */}\n                    {log.exceptionClass && (\n                      <div className=\"mt-2 p-3 bg-red-950/30 border border-red-800/50 rounded\">\n                        <div className=\"flex items-center space-x-2 text-red-400 mb-2\">\n                          <AlertTriangle className=\"h-4 w-4\" />\n                          <span className=\"font-medium\">{log.exceptionClass}</span>\n                        </div>\n                        {log.exceptionMessage && (\n                          <p className=\"text-sm text-red-300 mb-2\">{log.exceptionMessage}</p>\n                        )}\n                        {log.stackTrace && (\n                          <details className=\"text-xs\">\n                            <summary className=\"cursor-pointer text-red-400 hover:text-red-300\">\n                              Show Stack Trace\n                            </summary>\n                            <pre className=\"mt-2 text-red-300 whitespace-pre-wrap overflow-x-auto\">\n                              {log.stackTrace}\n                            </pre>\n                          </details>\n                        )}\n                      </div>\n                    )}\n\n                    {/* MDC Data */}\n                    {log.mdcData && Object.keys(log.mdcData).length > 0 && (\n                      <details className=\"text-xs\">\n                        <summary className=\"cursor-pointer text-muted-foreground hover:text-foreground\">\n                          Context Data ({Object.keys(log.mdcData).length} items)\n                        </summary>\n                        <div className=\"mt-2 p-2 bg-secondary/20 rounded\">\n                          {Object.entries(log.mdcData).map(([key, value]) => (\n                            <div key={key} className=\"flex\">\n                              <span className=\"font-medium text-muted-foreground w-24\">{key}:</span>\n                              <span className=\"text-foreground\">{value}</span>\n                            </div>\n                          ))}\n                        </div>\n                      </details>\n                    )}\n\n                    {/* HTTP Request Details */}\n                    {(log.requestMethod || log.requestUri) && (\n                      <div className=\"text-xs text-muted-foreground\">\n                        {log.requestMethod && log.requestUri && (\n                          <span>{log.requestMethod} {log.requestUri}</span>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\nexport default ExecutionLogsViewer","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { authApi, userApi } from '@/lib/api'\r\nimport { useAuthStore } from '@/stores/auth'\r\nimport { useNotifications } from '@/stores/ui'\r\n\r\nexport const useAuth = () => {\r\n  const { user, token, isAuthenticated, setAuth, clearAuth, setLoading } = useAuthStore()\r\n  const { success, error } = useNotifications()\r\n  const queryClient = useQueryClient()\r\n\r\n  // Login mutation\r\n  const loginMutation = useMutation({\r\n    mutationFn: authApi.login,\r\n    onMutate: () => {\r\n      setLoading(true)\r\n    },\r\n    onSuccess: (response) => {\r\n      // Backend returns: { accessToken, refreshToken, username, fullName, role }\r\n      console.log('[Auth] Login response:', response)\r\n      \r\n      if (response.accessToken && response.username) {\r\n        const user = {\r\n          id: response.userId || response.username, // fallback to username if no ID\r\n          username: response.username,\r\n          firstName: response.fullName?.split(' ')[0] || response.username,\r\n          lastName: response.fullName?.split(' ')[1] || '',\r\n          email: response.email || `${response.username}@h2h.com`, // fallback email\r\n          role: response.role,\r\n          enabled: true,\r\n          createdAt: new Date().toISOString(),\r\n          lastLogin: new Date().toISOString()\r\n        }\r\n        \r\n        setAuth(user, response.accessToken)\r\n        success('Welcome back!', `Hello ${user.firstName}`)\r\n        queryClient.invalidateQueries({ queryKey: ['currentUser'] })\r\n      } else {\r\n        console.error('[Auth] Invalid login response structure:', response)\r\n        error('Login Failed', 'Invalid response from server')\r\n      }\r\n      setLoading(false)\r\n    },\r\n    onError: (err: any) => {\r\n      const message = err.response?.data?.message || 'Login failed. Please check your credentials.'\r\n      error('Login Failed', message)\r\n      setLoading(false)\r\n    },\r\n  })\r\n\r\n  // Logout mutation\r\n  const logoutMutation = useMutation({\r\n    mutationFn: authApi.logout,\r\n    onSuccess: () => {\r\n      clearAuth()\r\n      queryClient.clear()\r\n      success('Logged out', 'Successfully logged out')\r\n    },\r\n    onError: () => {\r\n      // Still clear auth even if logout API fails\r\n      clearAuth()\r\n      queryClient.clear()\r\n      error('Logout Error', 'There was an issue logging out, but you have been signed out locally')\r\n    },\r\n  })\r\n\r\n  // Refresh token mutation\r\n  const refreshMutation = useMutation({\r\n    mutationFn: (refreshToken: string) => authApi.refreshToken(refreshToken),\r\n    onSuccess: (response) => {\r\n      if (response.success && response.data.user && response.data.token) {\r\n        setAuth(response.data.user, response.data.token)\r\n      }\r\n    },\r\n    onError: () => {\r\n      clearAuth()\r\n      queryClient.clear()\r\n    },\r\n  })\r\n\r\n  // Get current user query\r\n  const currentUserQuery = useQuery({\r\n    queryKey: ['currentUser'],\r\n    queryFn: userApi.getCurrentUser,\r\n    enabled: !!token && isAuthenticated,\r\n    retry: false,\r\n    refetchOnWindowFocus: false,\r\n    refetchOnMount: false,\r\n  })\r\n\r\n  const login = (credentials: { username: string; password: string }) => {\r\n    return loginMutation.mutate(credentials)\r\n  }\r\n\r\n  const logout = () => {\r\n    return logoutMutation.mutate()\r\n  }\r\n\r\n  const refreshToken = (refreshToken: string) => {\r\n    return refreshMutation.mutate(refreshToken)\r\n  }\r\n\r\n  return {\r\n    // State\r\n    user,\r\n    token,\r\n    isAuthenticated,\r\n    isLoading: loginMutation.isPending || logoutMutation.isPending || refreshMutation.isPending,\r\n    \r\n    // Actions\r\n    login,\r\n    logout,\r\n    refreshToken,\r\n    \r\n    // Mutations\r\n    loginMutation,\r\n    logoutMutation,\r\n    refreshMutation,\r\n    \r\n    // Queries\r\n    currentUserQuery,\r\n  }\r\n}\r\n\r\n// Hook for checking if user has specific roles\r\nexport const usePermissions = () => {\r\n  const { user } = useAuthStore()\r\n\r\n  const hasRole = (role: string | string[]) => {\r\n    if (!user) return false\r\n    \r\n    const roles = Array.isArray(role) ? role : [role]\r\n    return roles.includes(user.role)\r\n  }\r\n\r\n  const isAdmin = () => hasRole('ADMINISTRATOR')\r\n  const isViewer = () => hasRole('VIEWER')\r\n\r\n  return {\r\n    hasRole,\r\n    isAdmin,\r\n    isViewer,\r\n    currentRole: user?.role,\r\n  }\r\n}","import React, { useState } from 'react'\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { Plus, Users, Shield, Edit, Trash2, Eye, EyeOff, CheckCircle, XCircle, Crown } from 'lucide-react'\r\nimport { userApi } from '@/lib/api'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { useNotifications } from '@/stores/ui'\r\nimport { usePermissions } from '@/hooks/auth'\r\nimport { useAuthStore } from '@/stores/auth'\r\n\r\ninterface User {\r\n  id: string\r\n  username: string\r\n  email: string\r\n  fullName: string\r\n  role: 'ADMINISTRATOR' | 'VIEWER'\r\n  enabled: boolean\r\n  accountNonExpired: boolean\r\n  accountNonLocked: boolean\r\n  credentialsNonExpired: boolean\r\n  timezone: string\r\n  failedLoginAttempts: number\r\n  createdAt: string\r\n  updatedAt: string\r\n  lastLogin?: string\r\n  displayName: string\r\n  roleDisplayName: string\r\n  administrator: boolean\r\n  integrator: boolean\r\n  viewer: boolean\r\n  authorities: Array<{ authority: string }>\r\n}\r\n\r\ninterface CreateUserRequest {\r\n  username: string\r\n  email: string\r\n  password: string\r\n  role: 'ADMINISTRATOR' | 'VIEWER'\r\n  enabled: boolean\r\n}\r\n\r\nconst UserManagement: React.FC = () => {\r\n  const { isAdmin } = usePermissions()\r\n  const { success, error } = useNotifications()\r\n  const queryClient = useQueryClient()\r\n  const { user: currentUser } = useAuthStore()\r\n  \r\n  const [showCreateForm, setShowCreateForm] = useState(false)\r\n  const [formKey, setFormKey] = useState(0)\r\n  const [_showPasswords, _setShowPasswords] = useState<Record<string, boolean>>({})\r\n  const [_editingUser, setEditingUser] = useState<string | null>(null)\r\n\r\n  // Fetch users\r\n  const { data: usersResponse, isLoading } = useQuery({\r\n    queryKey: ['users'],\r\n    queryFn: userApi.getAllUsers,\r\n  })\r\n\r\n  // Extract the users array from the API response and filter out system users\r\n  const users = (usersResponse || []).filter((user: any) => user.role !== 'INTEGRATOR')\r\n\r\n  // Mutations\r\n  const createUserMutation = useMutation({\r\n    mutationFn: userApi.createUser,\r\n    onSuccess: () => {\r\n      success('User Created', 'User account created successfully')\r\n      queryClient.invalidateQueries({ queryKey: ['users'] })\r\n      setShowCreateForm(false)\r\n    },\r\n    onError: (err: any) => {\r\n      error('Creation Failed', err.response?.data?.message || 'Failed to create user')\r\n    },\r\n  })\r\n\r\n  const updateUserMutation = useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: any }) => userApi.updateUser(id, data),\r\n    onSuccess: () => {\r\n      success('User Updated', 'User account updated successfully')\r\n      queryClient.invalidateQueries({ queryKey: ['users'] })\r\n      setEditingUser(null)\r\n    },\r\n    onError: (err: any) => {\r\n      error('Update Failed', err.response?.data?.message || 'Failed to update user')\r\n    },\r\n  })\r\n\r\n  const deleteUserMutation = useMutation({\r\n    mutationFn: userApi.deleteUser,\r\n    onSuccess: () => {\r\n      success('User Deleted', 'User account deleted successfully')\r\n      queryClient.invalidateQueries({ queryKey: ['users'] })\r\n    },\r\n    onError: (err: any) => {\r\n      error('Deletion Failed', err.response?.data?.message || 'Failed to delete user')\r\n    },\r\n  })\r\n\r\n\r\n  const getRoleIcon = (role: string) => {\r\n    return role === 'ADMINISTRATOR' ? <Crown className=\"h-4 w-4 text-warning\" /> : <Shield className=\"h-4 w-4 text-info\" />\r\n  }\r\n\r\n  const getRoleBadgeStyle = (role: string) => {\r\n    return role === 'ADMINISTRATOR' \r\n      ? 'bg-warning/20 text-warning' \r\n      : 'bg-info/20 text-info'\r\n  }\r\n\r\n  const canModifyUser = () => {\r\n    // Only admins can modify users\r\n    return isAdmin\r\n  }\r\n\r\n  if (!isAdmin) {\r\n    return (\r\n      <div className=\"content-spacing\">\r\n        <Card className=\"app-card border\">\r\n          <CardContent className=\"flex items-center justify-center py-12\">\r\n            <div className=\"text-center\">\r\n              <Shield className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">Access Denied</h3>\r\n              <p className=\"text-muted-foreground\">Administrator privileges required to manage users</p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"content-spacing\">\r\n        <div className=\"flex items-center justify-center h-64\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\r\n            <span className=\"text-muted-foreground\">Loading users...</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"content-spacing\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">User Management</h1>\r\n          <p className=\"text-muted-foreground\">Manage system users, roles, and permissions</p>\r\n        </div>\r\n        <Button \r\n          className=\"btn-primary\"\r\n          onClick={() => {\r\n            setFormKey(prev => prev + 1)\r\n            setShowCreateForm(true)\r\n          }}\r\n        >\r\n          <Plus className=\"h-4 w-4 mr-2\" />\r\n          Create User\r\n        </Button>\r\n      </div>\r\n\r\n      {/* User Statistics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n        <Card className=\"app-card border\">\r\n          <CardContent className=\"flex items-center p-6\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <Users className=\"h-8 w-8 text-primary\" />\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Total Users</p>\r\n                <p className=\"text-2xl font-bold text-foreground\">{users.length || 0}</p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"app-card border\">\r\n          <CardContent className=\"flex items-center p-6\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <Crown className=\"h-8 w-8 text-warning\" />\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Administrators</p>\r\n                <p className=\"text-2xl font-bold text-foreground\">\r\n                  {users.filter((u: User) => u.role === 'ADMINISTRATOR').length || 0}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"app-card border\">\r\n          <CardContent className=\"flex items-center p-6\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <CheckCircle className=\"h-8 w-8 text-success\" />\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Active Users</p>\r\n                <p className=\"text-2xl font-bold text-foreground\">\r\n                  {users.filter((u: User) => u.enabled).length || 0}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Create User Form */}\r\n      {showCreateForm && (\r\n        <Card className=\"app-card border mb-6\">\r\n          <CardHeader>\r\n            <CardTitle className=\"text-foreground flex items-center space-x-2\">\r\n              <Users className=\"h-5 w-5\" />\r\n              <span>Create New User</span>\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <CreateUserForm\r\n              key={formKey}\r\n              onSubmit={(data) => createUserMutation.mutate(data)}\r\n              onCancel={() => setShowCreateForm(false)}\r\n              isLoading={createUserMutation.isPending}\r\n            />\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Users List */}\r\n      {users && users.length > 0 ? (\r\n        <div className=\"grid grid-cols-1 gap-6\">\r\n          {users.map((user: User) => (\r\n            <Card key={user.id} className=\"app-card border\">\r\n              <CardHeader>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div className=\"relative\">\r\n                      {getRoleIcon(user.role)}\r\n                      {currentUser?.id === user.id && (\r\n                        <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-primary rounded-full border-2 border-background\" />\r\n                      )}\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <CardTitle className=\"text-lg text-foreground\">{user.username}</CardTitle>\r\n                        {currentUser?.id === user.id && (\r\n                          <span className=\"text-xs px-2 py-1 rounded bg-primary/20 text-primary\">You</span>\r\n                        )}\r\n                      </div>\r\n                      <p className=\"text-sm text-muted-foreground\">{user.email}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <span className={`text-xs px-2 py-1 rounded ${getRoleBadgeStyle(user.role)}`}>\r\n                      {user.role}\r\n                    </span>\r\n                    <div className={`w-3 h-3 rounded-full ${\r\n                      user.enabled ? 'bg-success animate-glow' : 'bg-muted-foreground'\r\n                    }`} />\r\n                    <span className={`text-xs px-2 py-1 rounded ${\r\n                      user.enabled ? 'bg-success/20 text-success' : 'bg-muted/20 text-muted-foreground'\r\n                    }`}>\r\n                      {user.enabled ? 'Active' : 'Inactive'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-4\">\r\n                  {/* User Details */}\r\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\r\n                    <div>\r\n                      <span className=\"text-muted-foreground\">Created:</span>\r\n                      <span className=\"ml-2 text-foreground\">{new Date(user.createdAt).toLocaleDateString()}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-muted-foreground\">Last Login:</span>\r\n                      <span className=\"ml-2 text-foreground\">\r\n                        {user.lastLogin ? new Date(user.lastLogin).toLocaleDateString() : 'Never'}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-muted-foreground\">Failed Attempts:</span>\r\n                      <span className=\"ml-2 text-foreground\">{user.failedLoginAttempts}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-muted-foreground\">Status:</span>\r\n                      <span className={`ml-2 ${user.enabled ? 'text-success' : 'text-muted-foreground'}`}>\r\n                        {user.enabled ? 'Active' : 'Inactive'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* User ID */}\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-foreground\">User ID:</label>\r\n                    <div className=\"mt-1 font-mono text-xs bg-secondary p-2 rounded\">\r\n                      {user.id}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Action Buttons */}\r\n                  <div className=\"flex items-center space-x-2 pt-4 border-t border-border\">\r\n                    {canModifyUser() && (\r\n                      <>\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          onClick={() => setEditingUser(user.id)}\r\n                        >\r\n                          <Edit className=\"h-4 w-4 mr-2\" />\r\n                          Edit User\r\n                        </Button>\r\n                        \r\n                        {currentUser?.id !== user.id && (\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            onClick={() => \r\n                              updateUserMutation.mutate({ \r\n                                id: user.id, \r\n                                data: { ...user, enabled: !user.enabled }\r\n                              })\r\n                            }\r\n                            disabled={updateUserMutation.isPending}\r\n                          >\r\n                            {user.enabled ? (\r\n                              <>\r\n                                <XCircle className=\"h-4 w-4 mr-2\" />\r\n                                Deactivate\r\n                              </>\r\n                            ) : (\r\n                              <>\r\n                                <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n                                Activate\r\n                              </>\r\n                            )}\r\n                          </Button>\r\n                        )}\r\n                        \r\n                        {currentUser?.id !== user.id && (\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            className=\"text-destructive\"\r\n                            onClick={() => deleteUserMutation.mutate(user.id)}\r\n                            disabled={deleteUserMutation.isPending}\r\n                          >\r\n                            <Trash2 className=\"h-4 w-4 mr-2\" />\r\n                            Delete\r\n                          </Button>\r\n                        )}\r\n                        \r\n                        {currentUser?.id === user.id && (\r\n                          <div className=\"text-sm text-muted-foreground\">\r\n                            You cannot deactivate or delete your own account\r\n                          </div>\r\n                        )}\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <Card className=\"app-card border\">\r\n          <CardContent className=\"flex items-center justify-center py-12\">\r\n            <div className=\"text-center\">\r\n              <Users className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">No Users Found</h3>\r\n              <p className=\"text-muted-foreground mb-6\">Create your first user account to get started</p>\r\n              <Button \r\n                className=\"btn-primary\"\r\n                onClick={() => {\r\n                  setFormKey(prev => prev + 1)\r\n                  setShowCreateForm(true)\r\n                }}\r\n              >\r\n                <Plus className=\"h-4 w-4 mr-2\" />\r\n                Create First User\r\n              </Button>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst CreateUserForm: React.FC<{\r\n  onSubmit: (data: CreateUserRequest) => void\r\n  onCancel: () => void\r\n  isLoading: boolean\r\n}> = ({ onSubmit, onCancel, isLoading }) => {\r\n  const [formData, setFormData] = useState<CreateUserRequest>({\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n    role: 'VIEWER',\r\n    enabled: true,\r\n  })\r\n\r\n  const [showPassword, setShowPassword] = useState(false)\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    onSubmit(formData)\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-4\" autoComplete=\"off\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"username\">Username</Label>\r\n          <Input\r\n            id=\"username\"\r\n            value={formData.username}\r\n            onChange={(e) => setFormData(prev => ({ ...prev, username: e.target.value }))}\r\n            placeholder=\"e.g., john.doe\"\r\n            className=\"bg-input border-border text-foreground\"\r\n            autoComplete=\"off\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"email\">Email</Label>\r\n          <Input\r\n            id=\"email\"\r\n            type=\"email\"\r\n            value={formData.email}\r\n            onChange={(e) => setFormData(prev => ({ ...prev, email: e.target.value }))}\r\n            placeholder=\"e.g., john.doe@company.com\"\r\n            className=\"bg-input border-border text-foreground\"\r\n            autoComplete=\"off\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"password\">Password</Label>\r\n          <div className=\"relative\">\r\n            <Input\r\n              id=\"password\"\r\n              type={showPassword ? 'text' : 'password'}\r\n              value={formData.password}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, password: e.target.value }))}\r\n              placeholder=\"Enter password\"\r\n              className=\"bg-input border-border text-foreground pr-10\"\r\n              autoComplete=\"new-password\"\r\n              required\r\n              minLength={8}\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowPassword(!showPassword)}\r\n              className=\"absolute right-3 top-3 text-muted-foreground\"\r\n            >\r\n              {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"role\">Role</Label>\r\n          <Select\r\n            value={formData.role}\r\n            onValueChange={(value) => setFormData(prev => ({ ...prev, role: value as 'ADMINISTRATOR' | 'VIEWER' }))}\r\n          >\r\n            <SelectTrigger className=\"w-full\">\r\n              <SelectValue placeholder=\"Select role\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"VIEWER\">Viewer (Read-only access)</SelectItem>\r\n              <SelectItem value=\"ADMINISTRATOR\">Administrator (Full access)</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex items-center space-x-2\">\r\n        <input\r\n          type=\"checkbox\"\r\n          id=\"enabled\"\r\n          checked={formData.enabled}\r\n          onChange={(e) => setFormData(prev => ({ ...prev, enabled: e.target.checked }))}\r\n          className=\"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary\"\r\n        />\r\n        <Label htmlFor=\"enabled\">Enable user account</Label>\r\n      </div>\r\n\r\n      <div className=\"flex items-center space-x-4 pt-4\">\r\n        <Button type=\"submit\" className=\"btn-primary\" disabled={isLoading}>\r\n          {isLoading ? 'Creating...' : 'Create User'}\r\n        </Button>\r\n        <Button type=\"button\" variant=\"outline\" onClick={onCancel}>\r\n          Cancel\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default UserManagement","import React, { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { Plus, Key, Download, Trash2, Eye, EyeOff, CheckCircle, XCircle, Copy, ShieldCheck, ShieldX } from 'lucide-react'\nimport { sshKeyApi } from '@/lib/api'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\nimport { useNotifications } from '@/stores/ui'\nimport { usePermissions } from '@/hooks/auth'\n\ninterface SshKey {\n  id: string\n  name: string\n  description: string\n  keyType: 'RSA' | 'DSA'\n  keySize: number\n  fingerprint: string\n  publicKey: string\n  enabled: boolean\n  createdAt: string\n  expiresAt: string\n}\n\nconst SshKeyManagement: React.FC = () => {\n  const navigate = useNavigate()\n  const { isAdmin } = usePermissions()\n  const { success, error } = useNotifications()\n  const queryClient = useQueryClient()\n  \n  const [showPrivateKeys, setShowPrivateKeys] = useState<Record<string, boolean>>({})\n\n  // Fetch SSH keys\n  const { data: sshKeys, isLoading } = useQuery<SshKey[]>({\n    queryKey: ['ssh-keys'],\n    queryFn: sshKeyApi.getAllKeys,\n  })\n\n  // Mutations\n  const toggleKeyStatusMutation = useMutation({\n    mutationFn: ({ id, enabled }: { id: string; enabled: boolean }) => \n      sshKeyApi.toggleKeyStatus(id, enabled),\n    onSuccess: () => {\n      success('Status Updated', 'SSH key status changed successfully')\n      queryClient.invalidateQueries({ queryKey: ['ssh-keys'] })\n    },\n    onError: (err: any) => {\n      error('Status Change Failed', err.response?.data?.message || 'Failed to change key status')\n    },\n  })\n\n  const deleteKeyMutation = useMutation({\n    mutationFn: sshKeyApi.deleteKey,\n    onSuccess: () => {\n      success('Key Deleted', 'SSH key deleted successfully')\n      queryClient.invalidateQueries({ queryKey: ['ssh-keys'] })\n    },\n    onError: (err: any) => {\n      error('Deletion Failed', err.response?.data?.message || 'Failed to delete SSH key')\n    },\n  })\n\n  const handleDownloadPrivateKey = async (keyId: string, keyName: string) => {\n    try {\n      const blob = await sshKeyApi.downloadPrivateKey(keyId)\n      const url = window.URL.createObjectURL(blob)\n      const link = document.createElement('a')\n      link.href = url\n      link.download = `${keyName}_private_key`\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n      window.URL.revokeObjectURL(url)\n      success('Download Complete', 'Private key downloaded successfully')\n    } catch (err: any) {\n      error('Download Failed', err.response?.data?.message || 'Failed to download private key')\n    }\n  }\n\n  const handleDownloadPublicKey = async (keyId: string, keyName: string) => {\n    try {\n      const blob = await sshKeyApi.downloadPublicKey(keyId)\n      const url = window.URL.createObjectURL(blob)\n      const link = document.createElement('a')\n      link.href = url\n      link.download = `${keyName}_public_key.pub`\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n      window.URL.revokeObjectURL(url)\n      success('Download Complete', 'Public key downloaded successfully')\n    } catch (err: any) {\n      error('Download Failed', err.response?.data?.message || 'Failed to download public key')\n    }\n  }\n\n  const handleCopyPublicKey = (publicKey: string) => {\n    navigator.clipboard.writeText(publicKey).then(() => {\n      success('Copied', 'Public key copied to clipboard')\n    }).catch(() => {\n      error('Copy Failed', 'Failed to copy public key to clipboard')\n    })\n  }\n\n  const togglePrivateKeyVisibility = (keyId: string) => {\n    setShowPrivateKeys(prev => ({\n      ...prev,\n      [keyId]: !prev[keyId]\n    }))\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"content-spacing\">\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n            <span className=\"text-muted-foreground\">Loading SSH keys...</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"content-spacing\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">SSH Key Management</h1>\n          <p className=\"text-muted-foreground\">Generate and manage SSH keys for secure SFTP connections</p>\n        </div>\n        <div className=\"flex items-center space-x-4\">\n          {sshKeys && sshKeys.length > 0 && (\n            <div className=\"text-sm text-muted-foreground\">\n              {sshKeys.filter(k => k.enabled).length} of {sshKeys.length} keys active\n            </div>\n          )}\n          {isAdmin() && (\n            <Button \n              className=\"btn-primary\"\n              onClick={() => navigate('/ssh-keys/create')}\n            >\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Generate New Key\n            </Button>\n          )}\n        </div>\n      </div>\n\n      {/* SSH Keys List */}\n      {sshKeys && sshKeys.length > 0 ? (\n        <div className=\"space-y-4\">\n          {/* Summary Cards */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n            <Card className=\"app-card border\">\n              <CardContent className=\"p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Total Keys</p>\n                    <p className=\"text-2xl font-bold text-foreground\">{sshKeys.length}</p>\n                  </div>\n                  <Key className=\"h-8 w-8 text-primary\" />\n                </div>\n              </CardContent>\n            </Card>\n            <Card className=\"app-card border\">\n              <CardContent className=\"p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Valid & Active</p>\n                    <p className=\"text-2xl font-bold text-green-500\">{sshKeys.filter(k => k.enabled).length}</p>\n                  </div>\n                  <ShieldCheck className=\"h-8 w-8 text-green-500\" />\n                </div>\n              </CardContent>\n            </Card>\n            <Card className=\"app-card border\">\n              <CardContent className=\"p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Disabled</p>\n                    <p className=\"text-2xl font-bold text-muted-foreground\">{sshKeys.filter(k => !k.enabled).length}</p>\n                  </div>\n                  <ShieldX className=\"h-8 w-8 text-muted-foreground\" />\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Keys Grid */}\n          <div className=\"grid grid-cols-1 gap-4\">\n            {sshKeys.map((key) => (\n              <Card key={key.id} className={`app-card border ${key.enabled ? 'border-l-4 border-l-green-500' : 'border-l-4 border-l-muted-foreground'}`}>\n                <CardHeader className=\"pb-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className={`p-2 rounded-lg ${key.enabled ? 'bg-green-500/10' : 'bg-muted/20'}`}>\n                        <Key className={`h-5 w-5 ${key.enabled ? 'text-green-500' : 'text-muted-foreground'}`} />\n                      </div>\n                      <div>\n                        <CardTitle className=\"text-lg text-foreground\">{key.name}</CardTitle>\n                        <p className=\"text-sm text-muted-foreground\">{key.description}</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-3\">\n                      {/* Validity Badge */}\n                      <div className={`flex items-center space-x-2 px-3 py-1.5 rounded-full ${\n                        key.enabled \n                          ? 'bg-green-500/10 border border-green-500/20' \n                          : 'bg-muted/20 border border-border'\n                      }`}>\n                        {key.enabled ? (\n                          <>\n                            <ShieldCheck className=\"h-4 w-4 text-green-500\" />\n                            <span className=\"text-sm font-medium text-green-500\">Valid</span>\n                          </>\n                        ) : (\n                          <>\n                            <ShieldX className=\"h-4 w-4 text-muted-foreground\" />\n                            <span className=\"text-sm font-medium text-muted-foreground\">Disabled</span>\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    {/* Key Details */}\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                      <div>\n                        <span className=\"text-muted-foreground\">Type:</span>\n                        <span className=\"ml-2 text-foreground font-medium\">{key.keyType} {key.keySize}</span>\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Created:</span>\n                        <span className=\"ml-2 text-foreground\">{new Date(key.createdAt).toLocaleDateString()}</span>\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Expires:</span>\n                        <span className={`ml-2 font-medium ${\n                          new Date(key.expiresAt) < new Date() ? 'text-red-500' : \n                          new Date(key.expiresAt) < new Date(Date.now() + 30 * 24 * 60 * 60 * 1000) ? 'text-yellow-500' : \n                          'text-foreground'\n                        }`}>\n                          {new Date(key.expiresAt).toLocaleDateString()}\n                        </span>\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Status:</span>\n                        <span className={`ml-2 font-medium ${\n                          new Date(key.expiresAt) < new Date() ? 'text-red-500' : 'text-green-500'\n                        }`}>\n                          {new Date(key.expiresAt) < new Date() ? 'Expired' : 'Valid'}\n                        </span>\n                      </div>\n                    </div>\n\n                    {/* Fingerprint */}\n                    <div>\n                      <label className=\"text-sm font-medium text-foreground\">Fingerprint:</label>\n                      <div className=\"mt-1 font-mono text-xs bg-secondary p-2 rounded\">\n                        {key.fingerprint}\n                      </div>\n                    </div>\n\n                    {/* Public Key */}\n                    <div>\n                      <div className=\"flex items-center justify-between\">\n                        <label className=\"text-sm font-medium text-foreground\">Public Key:</label>\n                        <div className=\"flex items-center space-x-2\">\n                          <Button \n                            variant=\"outline\" \n                            size=\"sm\"\n                            onClick={() => handleCopyPublicKey(key.publicKey)}\n                          >\n                            <Copy className=\"h-4 w-4\" />\n                          </Button>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => togglePrivateKeyVisibility(key.id)}\n                          >\n                            {showPrivateKeys[key.id] ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                          </Button>\n                        </div>\n                      </div>\n                      <div className=\"mt-1 font-mono text-xs bg-secondary p-2 rounded break-all\">\n                        {showPrivateKeys[key.id] ? key.publicKey : `${key.publicKey.substring(0, 50)}...`}\n                      </div>\n                    </div>\n\n                    {/* Action Buttons */}\n                    <div className=\"flex items-center flex-wrap gap-2 pt-4 border-t border-border\">\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => handleDownloadPublicKey(key.id, key.name)}\n                      >\n                        <Download className=\"h-4 w-4 mr-2\" />\n                        Download Public\n                      </Button>\n                      \n                      {isAdmin() && (\n                        <>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => handleDownloadPrivateKey(key.id, key.name)}\n                          >\n                            <Download className=\"h-4 w-4 mr-2\" />\n                            Download Private\n                          </Button>\n                          \n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => \n                              toggleKeyStatusMutation.mutate({ id: key.id, enabled: !key.enabled })\n                            }\n                            disabled={toggleKeyStatusMutation.isPending}\n                            className={key.enabled ? '' : 'text-green-500 hover:text-green-600'}\n                          >\n                            {key.enabled ? (\n                              <>\n                                <XCircle className=\"h-4 w-4 mr-2\" />\n                                Disable\n                              </>\n                            ) : (\n                              <>\n                                <CheckCircle className=\"h-4 w-4 mr-2\" />\n                                Enable\n                              </>\n                            )}\n                          </Button>\n                          \n                          \n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            className=\"text-destructive hover:text-destructive\"\n                            onClick={() => deleteKeyMutation.mutate(key.id)}\n                            disabled={deleteKeyMutation.isPending}\n                          >\n                            <Trash2 className=\"h-4 w-4 mr-2\" />\n                            Delete\n                          </Button>\n                        </>\n                      )}\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </div>\n      ) : (\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center justify-center py-12\">\n            <div className=\"text-center\">\n              <Key className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">No SSH Keys</h3>\n              <p className=\"text-muted-foreground mb-6\">Generate your first SSH key pair for secure SFTP connections</p>\n              {isAdmin() && (\n                <Button \n                  className=\"btn-primary\"\n                  onClick={() => navigate('/ssh-keys/create')}\n                >\n                  <Plus className=\"h-4 w-4 mr-2\" />\n                  Generate SSH Key\n                </Button>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  )\n}\n\nexport default SshKeyManagement","\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }","\"use client\"\n\nimport * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }","import React, { useState, useEffect } from 'react'\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { Layers, Save, RefreshCw, AlertCircle, CheckCircle2 } from 'lucide-react'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Alert, AlertDescription } from '@/components/ui/alert'\r\nimport { environmentApi } from '@/lib/api'\r\nimport { useNotifications } from '@/stores/ui'\r\n\r\ninterface EnvironmentInfo {\r\n  type: string\r\n  displayName: string\r\n  description: string\r\n  enforceRestrictions: boolean\r\n  restrictionMessage: string\r\n  permissions: {\r\n    canCreateFlows: boolean\r\n    canCreateAdapters: boolean\r\n    canModifyAdapterConfig: boolean\r\n    canImportExportFlows: boolean\r\n    canDeployFlows: boolean\r\n  }\r\n}\r\n\r\ninterface EnvironmentType {\r\n  name: string\r\n  displayName: string\r\n  description: string\r\n  textColorClass: string\r\n  backgroundColorClass: string\r\n}\r\n\r\nconst getEnvironmentStyle = (type: string) => {\r\n  switch (type) {\r\n    case 'DEVELOPMENT':\r\n      return { \r\n        color: 'text-info', \r\n        bgColor: 'bg-blue-100 border-blue-200', \r\n        badgeClass: 'bg-blue-600 text-white border-blue-600',\r\n        label: 'Development' \r\n      }\r\n    case 'QUALITY_ASSURANCE':\r\n      return { \r\n        color: 'text-warning', \r\n        bgColor: 'bg-yellow-100 border-yellow-200', \r\n        badgeClass: 'bg-purple-600 text-white border-purple-600',\r\n        label: 'Quality Assurance' \r\n      }\r\n    case 'PRODUCTION':\r\n      return { \r\n        color: 'text-destructive', \r\n        bgColor: 'bg-red-100 border-red-200', \r\n        badgeClass: 'bg-red-600 text-white border-red-600',\r\n        label: 'Production' \r\n      }\r\n    default:\r\n      return { \r\n        color: 'text-muted-foreground', \r\n        bgColor: 'bg-gray-100 border-gray-200', \r\n        badgeClass: 'bg-gray-600 text-white border-gray-600',\r\n        label: 'Unknown' \r\n      }\r\n  }\r\n}\r\n\r\nconst EnvironmentConfiguration: React.FC = () => {\r\n  const { success, error } = useNotifications()\r\n  const queryClient = useQueryClient()\r\n\r\n  const [selectedType, setSelectedType] = useState<string>('')\r\n  const [enforceRestrictions, setEnforceRestrictions] = useState<boolean>(true)\r\n  const [restrictionMessage, setRestrictionMessage] = useState<string>('')\r\n  const [hasChanges, setHasChanges] = useState<boolean>(false)\r\n\r\n  // Fetch current environment configuration\r\n  const { data: envResponse, isLoading: envLoading } = useQuery({\r\n    queryKey: ['environment-config'],\r\n    queryFn: () => {\r\n      console.log(' Fetching current environment...')\r\n      return environmentApi.getCurrentEnvironment()\r\n    },\r\n  })\r\n\r\n  // Fetch available environment types\r\n  const { data: typesResponse, isLoading: typesLoading } = useQuery({\r\n    queryKey: ['environment-types'],\r\n    queryFn: () => {\r\n      console.log(' Fetching environment types...')\r\n      return environmentApi.getEnvironmentTypes()\r\n    },\r\n  })\r\n\r\n  const environmentInfo: EnvironmentInfo | undefined = envResponse?.data\r\n  const environmentTypes: EnvironmentType[] = typesResponse?.data || []\r\n\r\n  // Update environment mutation\r\n  const updateEnvironmentMutation = useMutation({\r\n    mutationFn: environmentApi.updateEnvironment,\r\n    onSuccess: () => {\r\n      success('Environment Updated', 'Environment configuration updated successfully')\r\n      queryClient.invalidateQueries({ queryKey: ['environment-config'] })\r\n      setHasChanges(false)\r\n    },\r\n    onError: (err: any) => {\r\n      error('Update Failed', err.response?.data?.message || 'Failed to update environment configuration')\r\n    },\r\n  })\r\n\r\n  // Initialize form values when data loads\r\n  useEffect(() => {\r\n    if (environmentInfo) {\r\n      setSelectedType(environmentInfo.type)\r\n      setEnforceRestrictions(environmentInfo.enforceRestrictions)\r\n      setRestrictionMessage(environmentInfo.restrictionMessage)\r\n      setHasChanges(false)\r\n    }\r\n  }, [environmentInfo])\r\n\r\n  // Check for changes\r\n  useEffect(() => {\r\n    if (!environmentInfo) return\r\n    \r\n    const hasTypeChange = selectedType !== environmentInfo.type\r\n    const hasEnforceChange = enforceRestrictions !== environmentInfo.enforceRestrictions\r\n    const hasMessageChange = restrictionMessage !== environmentInfo.restrictionMessage\r\n    \r\n    setHasChanges(hasTypeChange || hasEnforceChange || hasMessageChange)\r\n  }, [selectedType, enforceRestrictions, restrictionMessage, environmentInfo])\r\n\r\n  const handleSave = () => {\r\n    updateEnvironmentMutation.mutate({\r\n      type: selectedType,\r\n      enforceRestrictions,\r\n      restrictionMessage,\r\n    })\r\n  }\r\n\r\n  const handleReset = () => {\r\n    if (environmentInfo) {\r\n      setSelectedType(environmentInfo.type)\r\n      setEnforceRestrictions(environmentInfo.enforceRestrictions)\r\n      setRestrictionMessage(environmentInfo.restrictionMessage)\r\n      setHasChanges(false)\r\n    }\r\n  }\r\n\r\n  if (envLoading || typesLoading) {\r\n    return (\r\n      <Card>\r\n        <CardHeader>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Layers className=\"h-5 w-5\" />\r\n            <CardTitle>Environment Configuration</CardTitle>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"flex items-center justify-center p-8\">\r\n            <RefreshCw className=\"h-8 w-8 animate-spin text-muted-foreground\" />\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  const currentEnvStyle = getEnvironmentStyle(selectedType)\r\n  const restrictedFeatures = !enforceRestrictions ? [] : selectedType === 'DEVELOPMENT' ? [] : ['Flow Creation', 'Adapter Creation']\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <div className=\"flex justify-between items-start\">\r\n          <div>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <Layers className=\"h-5 w-5\" />\r\n              Environment Configuration\r\n            </CardTitle>\r\n            <CardDescription>\r\n              Configure the system environment type and restrictions\r\n            </CardDescription>\r\n          </div>\r\n          <Badge className={currentEnvStyle.badgeClass}>\r\n            {currentEnvStyle.label}\r\n          </Badge>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-6\">\r\n        {/* Environment Type Selection */}\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"environment-type\">Environment Type</Label>\r\n          <Select value={selectedType} onValueChange={setSelectedType}>\r\n            <SelectTrigger id=\"environment-type\">\r\n              <SelectValue placeholder=\"Select environment type\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              {environmentTypes.map((type) => (\r\n                <SelectItem key={type.name} value={type.name}>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div \r\n                      className={`w-3 h-3 rounded-full ${getEnvironmentStyle(type.name).bgColor}`}\r\n                    />\r\n                    {type.displayName}\r\n                  </div>\r\n                </SelectItem>\r\n              ))}\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n\r\n        {/* Enforce Restrictions Toggle */}\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"space-y-0.5\">\r\n            <Label htmlFor=\"enforce-restrictions\">Enforce Environment Restrictions</Label>\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              Enable or disable environment-based feature restrictions\r\n            </p>\r\n          </div>\r\n          <Switch\r\n            id=\"enforce-restrictions\"\r\n            checked={enforceRestrictions}\r\n            onCheckedChange={setEnforceRestrictions}\r\n          />\r\n        </div>\r\n\r\n        {/* Custom Restriction Message */}\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"restriction-message\">Custom Restriction Message</Label>\r\n          <Input\r\n            id=\"restriction-message\"\r\n            value={restrictionMessage}\r\n            onChange={(e) => setRestrictionMessage(e.target.value)}\r\n            placeholder=\"This action is not allowed in %s environment\"\r\n          />\r\n          <p className=\"text-sm text-muted-foreground\">\r\n            Use %s as placeholder for environment name\r\n          </p>\r\n        </div>\r\n\r\n        {/* Environment Restrictions Info */}\r\n        {enforceRestrictions && restrictedFeatures.length > 0 && (\r\n          <Alert className={currentEnvStyle.bgColor}>\r\n            <AlertCircle className=\"h-4 w-4\" />\r\n            <AlertDescription>\r\n              <strong>Environment Restrictions Active:</strong> The following features are restricted in {currentEnvStyle.label} environment: {restrictedFeatures.join(', ')}\r\n            </AlertDescription>\r\n          </Alert>\r\n        )}\r\n\r\n        {/* Permissions Preview */}\r\n        {environmentInfo && (\r\n          <div className=\"space-y-3\">\r\n            <Label>Current Environment Permissions</Label>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              {Object.entries(environmentInfo.permissions).map(([permission, allowed]) => (\r\n                <div key={permission} className=\"flex items-center gap-2 text-sm\">\r\n                  {allowed ? (\r\n                    <CheckCircle2 className=\"h-4 w-4 text-green-600\" />\r\n                  ) : (\r\n                    <AlertCircle className=\"h-4 w-4 text-red-600\" />\r\n                  )}\r\n                  <span className={allowed ? 'text-green-700' : 'text-red-700'}>\r\n                    {permission.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}\r\n                  </span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Save Actions */}\r\n        {hasChanges && (\r\n          <div className=\"flex items-center justify-between pt-4 border-t\">\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              You have unsaved changes\r\n            </p>\r\n            <div className=\"flex gap-2\">\r\n              <Button variant=\"outline\" onClick={handleReset} disabled={updateEnvironmentMutation.isPending}>\r\n                Cancel\r\n              </Button>\r\n              <Button onClick={handleSave} disabled={updateEnvironmentMutation.isPending}>\r\n                {updateEnvironmentMutation.isPending ? (\r\n                  <>\r\n                    <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                    Saving...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Save className=\"h-4 w-4 mr-2\" />\r\n                    Save Changes\r\n                  </>\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default EnvironmentConfiguration","import React, { useState } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { Settings, Search, Edit, Save, X, RotateCcw, AlertCircle, Database, FileText, Shield, Monitor, Activity } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { useNotifications } from '@/stores/ui'\nimport { configApi } from '@/lib/api'\nimport { cn } from '@/lib/utils'\nimport EnvironmentConfiguration from '@/components/admin/EnvironmentConfiguration'\n\ninterface SystemConfiguration {\n  id: string\n  configKey: string\n  configValue: string\n  configType: 'STRING' | 'INTEGER' | 'BOOLEAN' | 'JSON'\n  description: string\n  category: 'DASHBOARD' | 'SECURITY' | 'NOTIFICATIONS' | 'FILE_PROCESSING' | 'SYSTEM' | 'LOGGING' | 'ADAPTER' | 'GENERAL'\n  encrypted: boolean\n  readonly: boolean\n  defaultValue: string\n  createdAt: string\n  updatedAt: string\n}\n\ninterface ConfigUpdateRequest {\n  configValue: string\n}\n\nconst categoryIcons: Record<string, React.ComponentType<{ className?: string }>> = {\n  DASHBOARD: Monitor,\n  SECURITY: Shield,\n  NOTIFICATIONS: AlertCircle,\n  FILE_PROCESSING: FileText,\n  SYSTEM: Settings,\n  LOGGING: Activity,\n  ADAPTER: Database,\n  GENERAL: Settings,\n}\n\nconst categoryColors: Record<string, string> = {\n  DASHBOARD: 'text-blue-500',\n  SECURITY: 'text-red-500',\n  NOTIFICATIONS: 'text-yellow-500',\n  FILE_PROCESSING: 'text-green-500',\n  SYSTEM: 'text-purple-500',\n  LOGGING: 'text-orange-500',\n  ADAPTER: 'text-cyan-500',\n  GENERAL: 'text-gray-500',\n}\n\nconst SystemConfigurations: React.FC = () => {\n  const { success, error } = useNotifications()\n  const queryClient = useQueryClient()\n  \n  const [searchTerm, setSearchTerm] = useState('')\n  const [selectedCategory, setSelectedCategory] = useState<string>('ALL')\n  const [editingConfig, setEditingConfig] = useState<string | null>(null)\n  const [editValues, setEditValues] = useState<Record<string, string>>({})\n\n  // Fetch configurations\n  const { data: configurationsResponse, isLoading } = useQuery({\n    queryKey: ['system-configurations'],\n    queryFn: configApi.getAllConfigurations,\n  })\n\n  const configurations: SystemConfiguration[] = configurationsResponse?.configurations || []\n\n  // Update configuration mutation\n  const updateConfigMutation = useMutation({\n    mutationFn: ({ id, data }: { id: string; data: ConfigUpdateRequest }) => \n      configApi.updateConfigurationValue(id, data.configValue),\n    onSuccess: () => {\n      success('Configuration Updated', 'System configuration updated successfully')\n      queryClient.invalidateQueries({ queryKey: ['system-configurations'] })\n      setEditingConfig(null)\n      setEditValues({})\n    },\n    onError: (err: any) => {\n      error('Update Failed', err.response?.data?.message || 'Failed to update configuration')\n    },\n  })\n\n  const handleEdit = (config: SystemConfiguration) => {\n    if (config.readonly) return\n    setEditingConfig(config.id)\n    setEditValues({ [config.id]: config.configValue })\n  }\n\n  const handleSave = (configId: string) => {\n    const newValue = editValues[configId]\n    if (newValue !== undefined) {\n      updateConfigMutation.mutate({\n        id: configId,\n        data: { configValue: newValue }\n      })\n    }\n  }\n\n  const handleCancel = () => {\n    setEditingConfig(null)\n    setEditValues({})\n  }\n\n  const handleReset = (config: SystemConfiguration) => {\n    if (config.defaultValue && !config.readonly) {\n      updateConfigMutation.mutate({\n        id: config.id,\n        data: { configValue: config.defaultValue }\n      })\n    }\n  }\n\n  const filteredConfigurations = configurations.filter((config: SystemConfiguration) => {\n    const matchesSearch = config.configKey.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         config.description?.toLowerCase().includes(searchTerm.toLowerCase())\n    const matchesCategory = selectedCategory === 'ALL' || config.category === selectedCategory\n    return matchesSearch && matchesCategory\n  })\n\n  const categories: string[] = ['ALL', ...Array.from(new Set(configurations.map((c) => c.category)))]\n\n  const getConfigsByCategory = (category: string) => {\n    return filteredConfigurations.filter((config: SystemConfiguration) => \n      category === 'ALL' || config.category === category\n    )\n  }\n\n  const renderConfigValue = (config: SystemConfiguration) => {\n    const isEditing = editingConfig === config.id\n    const currentValue = isEditing ? editValues[config.id] : config.configValue\n\n    if (config.encrypted && !isEditing) {\n      return <span className=\"text-muted-foreground\"></span>\n    }\n\n    if (isEditing) {\n      if (config.configType === 'BOOLEAN') {\n        return (\n          <Select\n            value={currentValue}\n            onValueChange={(value) => setEditValues(prev => ({ ...prev, [config.id]: value }))}\n          >\n            <SelectTrigger className=\"w-full\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"true\">True</SelectItem>\n              <SelectItem value=\"false\">False</SelectItem>\n            </SelectContent>\n          </Select>\n        )\n      } else if (config.configKey === 'system.timezone.default') {\n        return (\n          <Select\n            value={currentValue}\n            onValueChange={(value) => setEditValues(prev => ({ ...prev, [config.id]: value }))}\n          >\n            <SelectTrigger className=\"w-full\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"UTC-12:00\">UTC-12:00 (Baker Island)</SelectItem>\n              <SelectItem value=\"UTC-11:00\">UTC-11:00 (Samoa)</SelectItem>\n              <SelectItem value=\"UTC-10:00\">UTC-10:00 (Hawaii)</SelectItem>\n              <SelectItem value=\"UTC-09:00\">UTC-09:00 (Alaska)</SelectItem>\n              <SelectItem value=\"UTC-08:00\">UTC-08:00 (Pacific Time)</SelectItem>\n              <SelectItem value=\"UTC-07:00\">UTC-07:00 (Mountain Time)</SelectItem>\n              <SelectItem value=\"UTC-06:00\">UTC-06:00 (Central Time)</SelectItem>\n              <SelectItem value=\"UTC-05:00\">UTC-05:00 (Eastern Time)</SelectItem>\n              <SelectItem value=\"UTC-04:00\">UTC-04:00 (Atlantic Time)</SelectItem>\n              <SelectItem value=\"UTC-03:30\">UTC-03:30 (Newfoundland)</SelectItem>\n              <SelectItem value=\"UTC-03:00\">UTC-03:00 (Brazil, Argentina)</SelectItem>\n              <SelectItem value=\"UTC-02:00\">UTC-02:00 (Mid-Atlantic)</SelectItem>\n              <SelectItem value=\"UTC-01:00\">UTC-01:00 (Azores)</SelectItem>\n              <SelectItem value=\"UTC+00:00\">UTC+00:00 (Greenwich Mean Time)</SelectItem>\n              <SelectItem value=\"UTC+01:00\">UTC+01:00 (Central European Time)</SelectItem>\n              <SelectItem value=\"UTC+02:00\">UTC+02:00 (South Africa, Eastern Europe)</SelectItem>\n              <SelectItem value=\"UTC+03:00\">UTC+03:00 (Russia, East Africa)</SelectItem>\n              <SelectItem value=\"UTC+03:30\">UTC+03:30 (Iran)</SelectItem>\n              <SelectItem value=\"UTC+04:00\">UTC+04:00 (Gulf States, Russia)</SelectItem>\n              <SelectItem value=\"UTC+04:30\">UTC+04:30 (Afghanistan)</SelectItem>\n              <SelectItem value=\"UTC+05:00\">UTC+05:00 (Pakistan, Kazakhstan)</SelectItem>\n              <SelectItem value=\"UTC+05:30\">UTC+05:30 (India, Sri Lanka)</SelectItem>\n              <SelectItem value=\"UTC+05:45\">UTC+05:45 (Nepal)</SelectItem>\n              <SelectItem value=\"UTC+06:00\">UTC+06:00 (Bangladesh, Central Asia)</SelectItem>\n              <SelectItem value=\"UTC+06:30\">UTC+06:30 (Myanmar)</SelectItem>\n              <SelectItem value=\"UTC+07:00\">UTC+07:00 (Thailand, Vietnam)</SelectItem>\n              <SelectItem value=\"UTC+08:00\">UTC+08:00 (China, Singapore)</SelectItem>\n              <SelectItem value=\"UTC+08:30\">UTC+08:30 (North Korea)</SelectItem>\n              <SelectItem value=\"UTC+09:00\">UTC+09:00 (Japan, Korea)</SelectItem>\n              <SelectItem value=\"UTC+09:30\">UTC+09:30 (Australia Central)</SelectItem>\n              <SelectItem value=\"UTC+10:00\">UTC+10:00 (Australia Eastern)</SelectItem>\n              <SelectItem value=\"UTC+10:30\">UTC+10:30 (Lord Howe Island)</SelectItem>\n              <SelectItem value=\"UTC+11:00\">UTC+11:00 (Solomon Islands)</SelectItem>\n              <SelectItem value=\"UTC+12:00\">UTC+12:00 (New Zealand)</SelectItem>\n              <SelectItem value=\"UTC+12:45\">UTC+12:45 (Chatham Islands)</SelectItem>\n              <SelectItem value=\"UTC+13:00\">UTC+13:00 (Samoa, Tonga)</SelectItem>\n              <SelectItem value=\"UTC+14:00\">UTC+14:00 (Line Islands)</SelectItem>\n            </SelectContent>\n          </Select>\n        )\n      } else {\n        return (\n          <Input\n            type={config.configType === 'INTEGER' ? 'number' : 'text'}\n            value={currentValue}\n            onChange={(e) => setEditValues(prev => ({ ...prev, [config.id]: e.target.value }))}\n            className=\"font-mono text-sm\"\n            onKeyDown={(e) => {\n              if (e.key === 'Enter') {\n                handleSave(config.id)\n              } else if (e.key === 'Escape') {\n                handleCancel()\n              }\n            }}\n          />\n        )\n      }\n    }\n\n    // Display value based on type\n    if (config.configType === 'BOOLEAN') {\n      return (\n        <div className=\"flex items-center space-x-2\">\n          <div className={cn(\n            \"w-3 h-3 rounded-full\",\n            currentValue === 'true' ? 'bg-success' : 'bg-muted-foreground'\n          )} />\n          <span className={cn(\n            \"font-mono text-sm\",\n            currentValue === 'true' ? 'text-success' : 'text-muted-foreground'\n          )}>\n            {currentValue === 'true' ? 'Enabled' : 'Disabled'}\n          </span>\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"font-mono text-sm bg-secondary/50 px-2 py-1 rounded\">\n        {currentValue}\n      </div>\n    )\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n          <span className=\"text-muted-foreground\">Loading configurations...</span>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-foreground mb-2\">System Configuration</h2>\n          <p className=\"text-muted-foreground\">Manage runtime system settings and parameters</p>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <Database className=\"h-5 w-5 text-primary\" />\n          <span className=\"text-sm text-muted-foreground\">{configurations.length} configurations</span>\n        </div>\n      </div>\n\n      {/* Environment Configuration */}\n      <EnvironmentConfiguration />\n\n      {/* Filters */}\n      <Card className=\"app-card border\">\n        <CardContent className=\"p-4\">\n          <div className=\"flex flex-col sm:flex-row gap-4\">\n            <div className=\"flex-1\">\n              <div className=\"relative\">\n                <Search className=\"h-4 w-4 absolute left-3 top-3 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search configurations...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n            <div className=\"w-full sm:w-48\">\n              <Select value={selectedCategory} onValueChange={setSelectedCategory}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"All Categories\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {categories.map((category) => (\n                    <SelectItem key={category} value={category}>\n                      {category === 'ALL' ? 'All Categories' : category.replace('_', ' ')}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Configurations by Category */}\n      {categories.filter((cat) => cat !== 'ALL').map((category) => {\n        const categoryConfigs = getConfigsByCategory(category)\n        if (categoryConfigs.length === 0) return null\n\n        const Icon = categoryIcons[category] || Settings\n        const iconColor = categoryColors[category] || 'text-muted-foreground'\n\n        return (\n          <Card key={category} className=\"app-card border\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-2\">\n                <Icon className={cn(\"h-5 w-5\", iconColor)} />\n                <span>{category.replace('_', ' ')}</span>\n                <span className=\"text-sm font-normal text-muted-foreground\">\n                  ({categoryConfigs.length} settings)\n                </span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              {categoryConfigs.map((config: SystemConfiguration) => (\n                <div key={config.id} className=\"border border-border rounded-lg p-4 space-y-3\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1 space-y-1\">\n                      <div className=\"flex items-center space-x-2\">\n                        <Label className=\"font-mono text-sm text-primary\">{config.configKey}</Label>\n                        {config.readonly && (\n                          <span className=\"text-xs px-2 py-1 bg-muted/50 text-muted-foreground rounded\">\n                            Read Only\n                          </span>\n                        )}\n                        {config.encrypted && (\n                          <span className=\"text-xs px-2 py-1 bg-warning/20 text-warning rounded\">\n                            Encrypted\n                          </span>\n                        )}\n                      </div>\n                      <p className=\"text-sm text-muted-foreground\">{config.description}</p>\n                      <div className=\"flex items-center space-x-2 text-xs text-muted-foreground\">\n                        <span>Type: {config.configType}</span>\n                        {config.defaultValue && (\n                          <span> Default: {config.defaultValue}</span>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-2 ml-4\">\n                      {editingConfig === config.id ? (\n                        <>\n                          <Button\n                            size=\"sm\"\n                            onClick={() => handleSave(config.id)}\n                            disabled={updateConfigMutation.isPending}\n                          >\n                            <Save className=\"h-4 w-4\" />\n                          </Button>\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            onClick={handleCancel}\n                          >\n                            <X className=\"h-4 w-4\" />\n                          </Button>\n                        </>\n                      ) : (\n                        <>\n                          {!config.readonly && (\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => handleEdit(config)}\n                            >\n                              <Edit className=\"h-4 w-4\" />\n                            </Button>\n                          )}\n                          {config.defaultValue && config.configValue !== config.defaultValue && !config.readonly && (\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => handleReset(config)}\n                              title=\"Reset to default\"\n                            >\n                              <RotateCcw className=\"h-4 w-4\" />\n                            </Button>\n                          )}\n                        </>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div className=\"space-y-2\">\n                    <Label className=\"text-sm\">Current Value:</Label>\n                    {renderConfigValue(config)}\n                  </div>\n\n                  <div className=\"text-xs text-muted-foreground\">\n                    Last updated: {new Date(config.updatedAt).toLocaleString()}\n                  </div>\n                </div>\n              ))}\n            </CardContent>\n          </Card>\n        )\n      })}\n\n      {filteredConfigurations.length === 0 && (\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center justify-center py-12\">\n            <div className=\"text-center\">\n              <Settings className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">No Configurations Found</h3>\n              <p className=\"text-muted-foreground\">\n                No system configurations match your search criteria\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  )\n}\n\nexport default SystemConfigurations","import React, { useState } from 'react'\nimport { useQuery } from '@tanstack/react-query'\nimport { FileText, Search, Download, RefreshCw, Info, AlertTriangle, XCircle, Bug, Activity, Database, Shield, Settings, Clock } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Card, CardContent } from '@/components/ui/card'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { systemLogsApi } from '@/lib/api'\nimport { cn } from '@/lib/utils'\n\ninterface SystemLog {\n  id: string\n  timestamp: string\n  logLevel: 'TRACE' | 'DEBUG' | 'INFO' | 'WARN' | 'ERROR'\n  logCategory: 'SYSTEM' | 'ADAPTER_EXECUTION' | 'FLOW_EXECUTION' | 'AUTHENTICATION' | 'DATABASE' | 'SCHEDULER' | 'API'\n  loggerName: string\n  threadName: string\n  message: string\n  formattedMessage: string\n  correlationId?: string\n  userId?: string\n  adapterId?: string\n  adapterName?: string\n  flowId?: string\n  flowName?: string\n  executionId?: string\n  requestMethod?: string\n  requestUri?: string\n  remoteAddress?: string\n  applicationName: string\n  environment: string\n  exceptionClass?: string\n  exceptionMessage?: string\n  stackTrace?: string\n}\n\n// LogsResponse interface removed as it's not used\n\nconst logLevelIcons: Record<string, React.ComponentType<{ className?: string }>> = {\n  TRACE: Bug,\n  DEBUG: Info,\n  INFO: Info,\n  WARN: AlertTriangle,\n  ERROR: XCircle,\n}\n\nconst logLevelColors: Record<string, string> = {\n  TRACE: 'text-slate-500',\n  DEBUG: 'text-blue-500',\n  INFO: 'text-green-500',\n  WARN: 'text-yellow-500',\n  ERROR: 'text-red-500',\n}\n\nconst categoryIcons: Record<string, React.ComponentType<{ className?: string }>> = {\n  SYSTEM: Settings,\n  ADAPTER_EXECUTION: Activity,\n  FLOW_EXECUTION: Activity,\n  AUTHENTICATION: Shield,\n  DATABASE: Database,\n  SCHEDULER: Clock,\n  API: Activity,\n}\n\nconst categoryColors: Record<string, string> = {\n  SYSTEM: 'text-purple-500',\n  ADAPTER_EXECUTION: 'text-blue-500',\n  FLOW_EXECUTION: 'text-green-500',\n  AUTHENTICATION: 'text-red-500',\n  DATABASE: 'text-yellow-500',\n  SCHEDULER: 'text-orange-500',\n  API: 'text-indigo-500',\n}\n\nconst SystemLogs: React.FC = () => {\n  const [searchTerm, setSearchTerm] = useState('')\n  const [selectedCategory, setSelectedCategory] = useState<string>('ALL')\n  const [selectedLevel, setSelectedLevel] = useState<string>('ALL')\n  const [currentPage, setCurrentPage] = useState(0)\n  const [pageSize, setPageSize] = useState(50)\n  const [expandedLog, setExpandedLog] = useState<string | null>(null)\n\n  // Fetch logs with filters\n  const { data: logsResponse, isLoading, refetch } = useQuery({\n    queryKey: ['system-logs', selectedCategory, selectedLevel, searchTerm, currentPage, pageSize],\n    queryFn: () => systemLogsApi.getRecentLogs({\n      level: selectedLevel !== 'ALL' ? selectedLevel : undefined,\n      search: searchTerm || undefined,\n      limit: pageSize\n    }),\n    refetchInterval: 30000, // Auto-refresh every 30 seconds\n  })\n\n  const logs = logsResponse || []\n  const totalPages = Math.ceil(logs.length / pageSize) || 0\n  const totalElements = logs.length || 0\n\n  const handleExport = async () => {\n    try {\n      // This would be implemented to export logs as CSV/JSON\n      console.log('Export functionality would be implemented here')\n    } catch (err) {\n      console.error('Export failed:', err)\n    }\n  }\n\n  const formatTimestamp = (timestamp: string) => {\n    return new Date(timestamp).toLocaleString('en-US', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n      hour12: false\n    })\n  }\n\n  const renderLogLevel = (level: string) => {\n    const Icon = logLevelIcons[level] || Info\n    const color = logLevelColors[level] || 'text-muted-foreground'\n\n    return (\n      <div className=\"flex items-center space-x-1\">\n        <Icon className={cn(\"h-4 w-4\", color)} />\n        <span className={cn(\"text-xs font-medium px-2 py-1 rounded\", \n          level === 'ERROR' && 'bg-red-100 text-red-700',\n          level === 'WARN' && 'bg-yellow-100 text-yellow-700',\n          level === 'INFO' && 'bg-green-100 text-green-700',\n          level === 'DEBUG' && 'bg-blue-100 text-blue-700',\n          level === 'TRACE' && 'bg-slate-100 text-slate-700'\n        )}>\n          {level}\n        </span>\n      </div>\n    )\n  }\n\n  const renderLogCategory = (category: string) => {\n    const Icon = categoryIcons[category] || Settings\n    const color = categoryColors[category] || 'text-muted-foreground'\n\n    return (\n      <div className=\"flex items-center space-x-1\">\n        <Icon className={cn(\"h-4 w-4\", color)} />\n        <span className=\"text-xs px-2 py-1 bg-secondary rounded\">\n          {category.replace('_', ' ')}\n        </span>\n      </div>\n    )\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n          <span className=\"text-muted-foreground\">Loading logs...</span>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-foreground mb-2\">System Logs</h2>\n          <p className=\"text-muted-foreground\">Monitor application logs with category filtering</p>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <Button variant=\"outline\" onClick={() => refetch()}>\n            <RefreshCw className=\"h-4 w-4 mr-2\" />\n            Refresh\n          </Button>\n          <Button variant=\"outline\" onClick={handleExport}>\n            <Download className=\"h-4 w-4 mr-2\" />\n            Export\n          </Button>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <Card className=\"app-card border\">\n        <CardContent className=\"p-4\">\n          <div className=\"flex flex-col lg:flex-row gap-4\">\n            <div className=\"flex-1\">\n              <div className=\"relative\">\n                <Search className=\"h-4 w-4 absolute left-3 top-3 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search logs by message, logger name, or correlation ID...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n            <div className=\"w-full lg:w-48\">\n              <Select value={selectedCategory} onValueChange={setSelectedCategory}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"All Categories\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"ALL\">All Categories</SelectItem>\n                  <SelectItem value=\"ADAPTER_EXECUTION\">Adapter Execution</SelectItem>\n                  <SelectItem value=\"FLOW_EXECUTION\">Flow Execution</SelectItem>\n                  <SelectItem value=\"AUTHENTICATION\">Authentication</SelectItem>\n                  <SelectItem value=\"DATABASE\">Database</SelectItem>\n                  <SelectItem value=\"API\">API</SelectItem>\n                  <SelectItem value=\"SCHEDULER\">Scheduler</SelectItem>\n                  <SelectItem value=\"SYSTEM\">System</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"w-full lg:w-36\">\n              <Select value={selectedLevel} onValueChange={setSelectedLevel}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"All Levels\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"ALL\">All Levels</SelectItem>\n                  <SelectItem value=\"ERROR\">Error</SelectItem>\n                  <SelectItem value=\"WARN\">Warning</SelectItem>\n                  <SelectItem value=\"INFO\">Info</SelectItem>\n                  <SelectItem value=\"DEBUG\">Debug</SelectItem>\n                  <SelectItem value=\"TRACE\">Trace</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"w-full lg:w-24\">\n              <Select value={pageSize.toString()} onValueChange={(value) => setPageSize(parseInt(value))}>\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"25\">25</SelectItem>\n                  <SelectItem value=\"50\">50</SelectItem>\n                  <SelectItem value=\"100\">100</SelectItem>\n                  <SelectItem value=\"200\">200</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Stats */}\n      <div className=\"flex items-center justify-between text-sm text-muted-foreground\">\n        <span>\n          Showing {logs.length} of {totalElements} logs\n          {selectedCategory !== 'ALL' && ` in ${selectedCategory} category`}\n          {selectedLevel !== 'ALL' && ` at ${selectedLevel} level`}\n        </span>\n        <span>Page {currentPage + 1} of {totalPages}</span>\n      </div>\n\n      {/* Logs List */}\n      {logs.length > 0 ? (\n        <div className=\"space-y-2\">\n          {logs.map((log: SystemLog) => (\n            <Card key={log.id} className=\"app-card border hover:border-primary/30 transition-all duration-200\">\n              <CardContent className=\"p-4\">\n                <div className=\"flex items-start space-x-4\">\n                  <div className=\"flex flex-col items-center space-y-2 min-w-0\">\n                    <div className=\"text-xs font-mono text-muted-foreground\">\n                      {formatTimestamp(log.timestamp)}\n                    </div>\n                    {renderLogLevel(log.logLevel)}\n                  </div>\n                  \n                  <div className=\"flex-1 min-w-0 space-y-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center space-x-2 min-w-0\">\n                        {renderLogCategory(log.logCategory)}\n                        <span className=\"text-xs font-mono text-muted-foreground truncate\">\n                          {log.loggerName}\n                        </span>\n                        {log.threadName && (\n                          <span className=\"text-xs px-2 py-1 bg-muted rounded\">\n                            {log.threadName}\n                          </span>\n                        )}\n                      </div>\n                      {(log.stackTrace || log.correlationId || log.adapterId || log.flowId) && (\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => setExpandedLog(expandedLog === log.id ? null : log.id)}\n                        >\n                          {expandedLog === log.id ? 'Less' : 'More'}\n                        </Button>\n                      )}\n                    </div>\n\n                    <div className=\"text-sm text-foreground\">\n                      {log.formattedMessage || log.message}\n                    </div>\n\n                    {/* Context Information */}\n                    <div className=\"flex flex-wrap gap-2 text-xs\">\n                      {log.correlationId && (\n                        <span className=\"px-2 py-1 bg-primary/10 text-primary rounded\">\n                          ID: {log.correlationId}\n                        </span>\n                      )}\n                      {log.adapterName && (\n                        <span className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded\">\n                          Adapter: {log.adapterName}\n                        </span>\n                      )}\n                      {log.flowName && (\n                        <span className=\"px-2 py-1 bg-green-100 text-green-700 rounded\">\n                          Flow: {log.flowName}\n                        </span>\n                      )}\n                      {log.requestMethod && log.requestUri && (\n                        <span className=\"px-2 py-1 bg-indigo-100 text-indigo-700 rounded\">\n                          {log.requestMethod} {log.requestUri}\n                        </span>\n                      )}\n                      {log.remoteAddress && (\n                        <span className=\"px-2 py-1 bg-orange-100 text-orange-700 rounded\">\n                          IP: {log.remoteAddress}\n                        </span>\n                      )}\n                    </div>\n\n                    {/* Expanded Details */}\n                    {expandedLog === log.id && (\n                      <div className=\"mt-4 space-y-3 border-t border-border pt-3\">\n                        {log.exceptionClass && (\n                          <div>\n                            <span className=\"text-sm font-medium text-foreground\">Exception:</span>\n                            <div className=\"mt-1 font-mono text-sm bg-red-50 text-red-800 p-2 rounded\">\n                              {log.exceptionClass}: {log.exceptionMessage}\n                            </div>\n                          </div>\n                        )}\n                        {log.stackTrace && (\n                          <div>\n                            <span className=\"text-sm font-medium text-foreground\">Stack Trace:</span>\n                            <pre className=\"mt-1 font-mono text-xs bg-secondary/50 p-3 rounded overflow-x-auto max-h-48\">\n                              {log.stackTrace}\n                            </pre>\n                          </div>\n                        )}\n                        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                          <div>\n                            <span className=\"text-muted-foreground\">Application:</span>\n                            <span className=\"ml-2 text-foreground\">{log.applicationName}</span>\n                          </div>\n                          <div>\n                            <span className=\"text-muted-foreground\">Environment:</span>\n                            <span className=\"ml-2 text-foreground\">{log.environment}</span>\n                          </div>\n                          {log.userId && (\n                            <div>\n                              <span className=\"text-muted-foreground\">User ID:</span>\n                              <span className=\"ml-2 font-mono text-foreground\">{log.userId}</span>\n                            </div>\n                          )}\n                          {log.executionId && (\n                            <div>\n                              <span className=\"text-muted-foreground\">Execution ID:</span>\n                              <span className=\"ml-2 font-mono text-foreground\">{log.executionId}</span>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      ) : (\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center justify-center py-12\">\n            <div className=\"text-center\">\n              <FileText className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">No Logs Found</h3>\n              <p className=\"text-muted-foreground\">\n                No system logs match your current filter criteria\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Pagination */}\n      {totalPages > 1 && (\n        <div className=\"flex items-center justify-between\">\n          <Button\n            variant=\"outline\"\n            onClick={() => setCurrentPage(Math.max(0, currentPage - 1))}\n            disabled={currentPage === 0}\n          >\n            Previous\n          </Button>\n          <span className=\"text-sm text-muted-foreground\">\n            Page {currentPage + 1} of {totalPages}\n          </span>\n          <Button\n            variant=\"outline\"\n            onClick={() => setCurrentPage(Math.min(totalPages - 1, currentPage + 1))}\n            disabled={currentPage === totalPages - 1}\n          >\n            Next\n          </Button>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default SystemLogs","import React, { useState } from 'react'\nimport { useQuery } from '@tanstack/react-query'\nimport { FileText, Search, Download, RefreshCw, Info, AlertTriangle, XCircle, Bug, Activity, Database, Shield, Settings, User } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Card, CardContent } from '@/components/ui/card'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { transactionLogsApi } from '@/lib/api'\nimport { cn } from '@/lib/utils'\n\ninterface TransactionLog {\n  id: string\n  timestamp: string\n  level: 'TRACE' | 'DEBUG' | 'INFO' | 'WARN' | 'ERROR' | 'FATAL'\n  category: string\n  component: string\n  source: string\n  message: string\n  username?: string\n  ipAddress?: string\n  userAgent?: string\n  sessionId?: string\n  correlationId?: string\n  adapterId?: string\n  executionId?: string\n  fileName?: string\n  details?: string\n  executionTimeMs?: number\n  createdAt: string\n}\n\nconst logLevelIcons: Record<string, React.ComponentType<{ className?: string }>> = {\n  TRACE: Bug,\n  DEBUG: Info,\n  INFO: Info,\n  WARN: AlertTriangle,\n  ERROR: XCircle,\n  FATAL: XCircle,\n}\n\nconst logLevelColors: Record<string, string> = {\n  TRACE: 'text-slate-500',\n  DEBUG: 'text-blue-500',\n  INFO: 'text-green-500',\n  WARN: 'text-yellow-500',\n  ERROR: 'text-red-500',\n  FATAL: 'text-red-700',\n}\n\nconst categoryIcons: Record<string, React.ComponentType<{ className?: string }>> = {\n  AUTHENTICATION: Shield,\n  FILE_PROCESSING: FileText,\n  ADAPTER_EXECUTION: Activity,\n  FLOW_EXECUTION: Activity,\n  SYSTEM_OPERATION: Settings,\n  USER_MANAGEMENT: User,\n  CONFIGURATION_CHANGE: Settings,\n  SECURITY: Shield,\n}\n\nconst categoryColors: Record<string, string> = {\n  AUTHENTICATION: 'text-red-500',\n  FILE_PROCESSING: 'text-blue-500',\n  ADAPTER_EXECUTION: 'text-green-500',\n  FLOW_EXECUTION: 'text-purple-500',\n  SYSTEM_OPERATION: 'text-orange-500',\n  USER_MANAGEMENT: 'text-indigo-500',\n  CONFIGURATION_CHANGE: 'text-yellow-600',\n  SECURITY: 'text-red-600',\n}\n\nconst TransactionalLogs: React.FC = () => {\n  const [searchTerm, setSearchTerm] = useState('')\n  const [selectedCategory, setSelectedCategory] = useState<string>('ALL')\n  const [selectedLevel, setSelectedLevel] = useState<string>('ALL')\n  const [pageSize, setPageSize] = useState(50)\n  const [expandedLog, setExpandedLog] = useState<string | null>(null)\n\n  // Fetch transaction logs with filters\n  const { data: logsResponse, isLoading, refetch } = useQuery({\n    queryKey: ['transaction-logs', selectedCategory, selectedLevel, searchTerm, pageSize],\n    queryFn: () => transactionLogsApi.getRecentLogs({\n      level: selectedLevel !== 'ALL' ? selectedLevel : undefined,\n      category: selectedCategory !== 'ALL' ? selectedCategory : undefined,\n      search: searchTerm || undefined,\n      limit: pageSize\n    }),\n    refetchInterval: 30000, // Auto-refresh every 30 seconds\n  })\n\n  const logs: TransactionLog[] = logsResponse || []\n\n  const handleExport = async () => {\n    try {\n      await transactionLogsApi.exportLogs({\n        level: selectedLevel !== 'ALL' ? selectedLevel : undefined,\n        category: selectedCategory !== 'ALL' ? selectedCategory : undefined,\n        limit: 1000,\n        format: 'csv'\n      })\n    } catch (err) {\n      console.error('Export failed:', err)\n    }\n  }\n\n  const formatTimestamp = (timestamp: string) => {\n    return new Date(timestamp).toLocaleString('en-US', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n      hour12: false\n    })\n  }\n\n  const renderLogLevel = (level: string) => {\n    const Icon = logLevelIcons[level] || Info\n    const color = logLevelColors[level] || 'text-muted-foreground'\n\n    return (\n      <div className=\"flex items-center space-x-1\">\n        <Icon className={cn(\"h-4 w-4\", color)} />\n        <span className={cn(\"text-xs font-medium px-2 py-1 rounded\", \n          level === 'ERROR' && 'bg-red-100 text-red-700',\n          level === 'FATAL' && 'bg-red-100 text-red-700',\n          level === 'WARN' && 'bg-yellow-100 text-yellow-700',\n          level === 'INFO' && 'bg-green-100 text-green-700',\n          level === 'DEBUG' && 'bg-blue-100 text-blue-700',\n          level === 'TRACE' && 'bg-slate-100 text-slate-700'\n        )}>\n          {level}\n        </span>\n      </div>\n    )\n  }\n\n  const renderLogCategory = (category: string) => {\n    const Icon = categoryIcons[category] || Settings\n    const color = categoryColors[category] || 'text-muted-foreground'\n\n    return (\n      <div className=\"flex items-center space-x-1\">\n        <Icon className={cn(\"h-4 w-4\", color)} />\n        <span className=\"text-xs px-2 py-1 bg-secondary rounded\">\n          {category.replace(/_/g, ' ')}\n        </span>\n      </div>\n    )\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n          <span className=\"text-muted-foreground\">Loading transaction logs...</span>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-xl font-bold text-foreground mb-2\">Transactional Logs</h3>\n          <p className=\"text-muted-foreground\">Monitor business transactions, authentication, and file processing events</p>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <Button variant=\"outline\" onClick={() => refetch()}>\n            <RefreshCw className=\"h-4 w-4 mr-2\" />\n            Refresh\n          </Button>\n          <Button variant=\"outline\" onClick={handleExport}>\n            <Download className=\"h-4 w-4 mr-2\" />\n            Export\n          </Button>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <Card className=\"app-card border\">\n        <CardContent className=\"p-4\">\n          <div className=\"flex flex-col lg:flex-row gap-4\">\n            <div className=\"flex-1\">\n              <div className=\"relative\">\n                <Search className=\"h-4 w-4 absolute left-3 top-3 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search logs by message, username, or correlation ID...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n            <div className=\"w-full lg:w-48\">\n              <Select value={selectedCategory} onValueChange={setSelectedCategory}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"All Categories\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"ALL\">All Categories</SelectItem>\n                  <SelectItem value=\"AUTHENTICATION\">Authentication</SelectItem>\n                  <SelectItem value=\"FILE_PROCESSING\">File Processing</SelectItem>\n                  <SelectItem value=\"ADAPTER_EXECUTION\">Adapter Execution</SelectItem>\n                  <SelectItem value=\"FLOW_EXECUTION\">Flow Execution</SelectItem>\n                  <SelectItem value=\"SYSTEM_OPERATION\">System Operation</SelectItem>\n                  <SelectItem value=\"USER_MANAGEMENT\">User Management</SelectItem>\n                  <SelectItem value=\"CONFIGURATION_CHANGE\">Configuration Change</SelectItem>\n                  <SelectItem value=\"SECURITY\">Security</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"w-full lg:w-36\">\n              <Select value={selectedLevel} onValueChange={setSelectedLevel}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"All Levels\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"ALL\">All Levels</SelectItem>\n                  <SelectItem value=\"ERROR\">Error</SelectItem>\n                  <SelectItem value=\"WARN\">Warning</SelectItem>\n                  <SelectItem value=\"INFO\">Info</SelectItem>\n                  <SelectItem value=\"DEBUG\">Debug</SelectItem>\n                  <SelectItem value=\"TRACE\">Trace</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"w-full lg:w-24\">\n              <Select value={pageSize.toString()} onValueChange={(value) => setPageSize(parseInt(value))}>\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"25\">25</SelectItem>\n                  <SelectItem value=\"50\">50</SelectItem>\n                  <SelectItem value=\"100\">100</SelectItem>\n                  <SelectItem value=\"200\">200</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Stats */}\n      <div className=\"flex items-center justify-between text-sm text-muted-foreground\">\n        <span>\n          Showing {logs.length} transaction logs\n          {selectedCategory !== 'ALL' && ` in ${selectedCategory} category`}\n          {selectedLevel !== 'ALL' && ` at ${selectedLevel} level`}\n        </span>\n      </div>\n\n      {/* Transaction Logs List */}\n      {logs.length > 0 ? (\n        <div className=\"space-y-2\">\n          {logs.map((log: TransactionLog) => (\n            <Card key={log.id} className=\"app-card border hover:border-primary/30 transition-all duration-200\">\n              <CardContent className=\"p-4\">\n                <div className=\"flex items-start space-x-4\">\n                  <div className=\"flex flex-col items-center space-y-2 min-w-0\">\n                    <div className=\"text-xs font-mono text-muted-foreground\">\n                      {formatTimestamp(log.timestamp)}\n                    </div>\n                    {renderLogLevel(log.level)}\n                  </div>\n                  \n                  <div className=\"flex-1 min-w-0 space-y-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center space-x-2 min-w-0\">\n                        {renderLogCategory(log.category)}\n                        <span className=\"text-xs font-mono text-muted-foreground truncate\">\n                          {log.component}\n                        </span>\n                        <span className=\"text-xs px-2 py-1 bg-muted rounded\">\n                          {log.source}\n                        </span>\n                      </div>\n                      {(log.details || log.correlationId || log.adapterId || log.executionId || log.fileName) && (\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => setExpandedLog(expandedLog === log.id ? null : log.id)}\n                        >\n                          {expandedLog === log.id ? 'Less' : 'More'}\n                        </Button>\n                      )}\n                    </div>\n\n                    <div className=\"text-sm text-foreground\">\n                      {log.message}\n                    </div>\n\n                    {/* Context Information */}\n                    <div className=\"flex flex-wrap gap-2 text-xs\">\n                      {log.username && (\n                        <span className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded\">\n                          User: {log.username}\n                        </span>\n                      )}\n                      {log.correlationId && (\n                        <span className=\"px-2 py-1 bg-primary/10 text-primary rounded\">\n                          ID: {log.correlationId}\n                        </span>\n                      )}\n                      {log.fileName && (\n                        <span className=\"px-2 py-1 bg-green-100 text-green-700 rounded\">\n                          File: {log.fileName}\n                        </span>\n                      )}\n                      {log.ipAddress && (\n                        <span className=\"px-2 py-1 bg-orange-100 text-orange-700 rounded\">\n                          IP: {log.ipAddress}\n                        </span>\n                      )}\n                      {log.executionTimeMs && (\n                        <span className=\"px-2 py-1 bg-purple-100 text-purple-700 rounded\">\n                          {log.executionTimeMs}ms\n                        </span>\n                      )}\n                    </div>\n\n                    {/* Expanded Details */}\n                    {expandedLog === log.id && (\n                      <div className=\"mt-4 space-y-3 border-t border-border pt-3\">\n                        {log.details && (\n                          <div>\n                            <span className=\"text-sm font-medium text-foreground\">Additional Details:</span>\n                            <pre className=\"mt-1 font-mono text-xs bg-secondary/50 p-3 rounded overflow-x-auto max-h-48\">\n                              {log.details}\n                            </pre>\n                          </div>\n                        )}\n                        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                          {log.sessionId && (\n                            <div>\n                              <span className=\"text-muted-foreground\">Session ID:</span>\n                              <span className=\"ml-2 font-mono text-foreground\">{log.sessionId}</span>\n                            </div>\n                          )}\n                          {log.adapterId && (\n                            <div>\n                              <span className=\"text-muted-foreground\">Adapter ID:</span>\n                              <span className=\"ml-2 font-mono text-foreground\">{log.adapterId}</span>\n                            </div>\n                          )}\n                          {log.executionId && (\n                            <div>\n                              <span className=\"text-muted-foreground\">Execution ID:</span>\n                              <span className=\"ml-2 font-mono text-foreground\">{log.executionId}</span>\n                            </div>\n                          )}\n                          {log.userAgent && (\n                            <div>\n                              <span className=\"text-muted-foreground\">User Agent:</span>\n                              <span className=\"ml-2 text-foreground\">{log.userAgent}</span>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      ) : (\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center justify-center py-12\">\n            <div className=\"text-center\">\n              <Database className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">No Transaction Logs Found</h3>\n              <p className=\"text-muted-foreground\">\n                No transaction logs match your current filter criteria\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  )\n}\n\nexport default TransactionalLogs","import React, { useState } from 'react'\nimport { FileText, Database, Activity } from 'lucide-react'\nimport { cn } from '@/lib/utils'\nimport { usePermissions } from '@/hooks/auth'\n\n// Import existing log components\nimport SystemLogs from './SystemLogs'\nimport TransactionalLogs from './TransactionalLogs'\n\ntype LogTab = 'system' | 'transactional'\n\nconst logTabs: { id: LogTab; label: string; icon: React.ComponentType<{ className?: string }>; description: string; adminOnly?: boolean }[] = [\n  {\n    id: 'system',\n    label: 'System Logs',\n    icon: Activity,\n    description: 'Application logs, errors, and system events',\n    adminOnly: true\n  },\n  {\n    id: 'transactional',\n    label: 'Transactional Logs',\n    icon: Database,\n    description: 'Transaction audit trails and business process logs'\n    // No adminOnly - available to viewers\n  }\n]\n\nconst LogsPage: React.FC = () => {\n  const { isAdmin } = usePermissions()\n  \n  // Filter tabs based on user role\n  const availableTabs = logTabs.filter(tab => !tab.adminOnly || isAdmin())\n  \n  // Set default tab based on role\n  const defaultTab: LogTab = isAdmin() ? 'system' : 'transactional'\n  const [activeTab, setActiveTab] = useState<LogTab>(defaultTab)\n\n  const renderTabContent = () => {\n    switch (activeTab) {\n      case 'system':\n        return <SystemLogs />\n      case 'transactional':\n        return <TransactionalLogs />\n      default:\n        return <SystemLogs />\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <div className=\"flex items-center space-x-3 mb-2\">\n          <FileText className=\"h-8 w-8 text-primary\" />\n          <h1 className=\"text-3xl font-bold text-foreground\">Logs</h1>\n        </div>\n        <p className=\"text-muted-foreground\">\n          Monitor system and transactional logs for application insights and debugging\n        </p>\n      </div>\n\n      {/* Tab Navigation - only show if there are multiple tabs */}\n      {availableTabs.length > 1 && (\n        <div className=\"mb-8\">\n          <div className=\"flex space-x-4 border-b border-border\">\n            {availableTabs.map((tab) => {\n            const Icon = tab.icon\n            const isActive = activeTab === tab.id\n            \n            return (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className={cn(\n                  \"flex items-center space-x-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 -mb-px\",\n                  isActive\n                    ? \"text-primary border-primary bg-primary/5\"\n                    : \"text-muted-foreground border-transparent hover:text-foreground hover:border-border\"\n                )}\n              >\n                <Icon className=\"h-4 w-4\" />\n                <span>{tab.label}</span>\n              </button>\n            )\n          })}\n          </div>\n          <div className=\"mt-4\">\n            <p className=\"text-sm text-muted-foreground\">\n              {availableTabs.find(tab => tab.id === activeTab)?.description}\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Tab Content */}\n      <div className=\"transition-all duration-300\">\n        {renderTabContent()}\n      </div>\n    </div>\n  )\n}\n\nexport default LogsPage","import React, { useState } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { Lock, Key, Plus, Download, Upload, Shield, AlertTriangle, Eye, EyeOff, Trash2, CheckCircle, XCircle } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { useNotifications } from '@/stores/ui'\nimport { pgpKeyApi } from '@/lib/api'\nimport { cn } from '@/lib/utils'\n\ninterface PgpKey {\n  id: string\n  keyName: string\n  description: string\n  keyType: 'RSA' | 'ECC' | 'DSA'\n  keySize: number\n  userId: string\n  fingerprint: string\n  keyId: string\n  publicKey: string\n  privateKey?: string\n  algorithm: string\n  expiresAt?: string\n  revokedAt?: string\n  revocationReason?: string\n  canEncrypt: boolean\n  canSign: boolean\n  canCertify: boolean\n  canAuthenticate: boolean\n  importedFrom?: string\n  exportedCount: number\n  lastUsedAt?: string\n  createdAt: string\n  updatedAt: string\n}\n\ninterface GenerateKeyRequest {\n  keyName: string\n  userId: string\n  passphrase: string\n  keyType: 'RSA' | 'ECC' | 'DSA'\n  keySize: number\n  expiresAt?: string\n  description?: string\n}\n\ninterface ImportKeyRequest {\n  keyName: string\n  armoredKey: string\n  description?: string\n}\n\nconst PgpKeys: React.FC = () => {\n  const { success, error } = useNotifications()\n  const queryClient = useQueryClient()\n  \n  const [showGenerateForm, setShowGenerateForm] = useState(false)\n  const [showImportForm, setShowImportForm] = useState(false)\n  // Removed unused state variables\n\n  // Fetch PGP keys\n  const { data: keysResponse, isLoading } = useQuery({\n    queryKey: ['pgp-keys'],\n    queryFn: pgpKeyApi.getAllKeys,\n  })\n\n  const keys = keysResponse?.data || []\n\n  // Generate key mutation\n  const generateKeyMutation = useMutation({\n    mutationFn: pgpKeyApi.generateKey,\n    onSuccess: () => {\n      success('PGP Key Generated', 'PGP key pair generated successfully')\n      queryClient.invalidateQueries({ queryKey: ['pgp-keys'] })\n      setShowGenerateForm(false)\n    },\n    onError: (err: any) => {\n      error('Generation Failed', err.response?.data?.message || 'Failed to generate PGP key')\n    },\n  })\n\n  // Import key mutation\n  const importKeyMutation = useMutation({\n    mutationFn: pgpKeyApi.importKey,\n    onSuccess: () => {\n      success('PGP Key Imported', 'PGP key imported successfully')\n      queryClient.invalidateQueries({ queryKey: ['pgp-keys'] })\n      setShowImportForm(false)\n    },\n    onError: (err: any) => {\n      error('Import Failed', err.response?.data?.message || 'Failed to import PGP key')\n    },\n  })\n\n  // Delete key mutation\n  const deleteKeyMutation = useMutation({\n    mutationFn: pgpKeyApi.deleteKey,\n    onSuccess: () => {\n      success('PGP Key Deleted', 'PGP key deleted successfully')\n      queryClient.invalidateQueries({ queryKey: ['pgp-keys'] })\n    },\n    onError: (err: any) => {\n      error('Deletion Failed', err.response?.data?.message || 'Failed to delete PGP key')\n    },\n  })\n\n  // Revoke key mutation\n  const revokeKeyMutation = useMutation({\n    mutationFn: ({ id, reason }: { id: string; reason: string }) => \n      pgpKeyApi.revokeKey(id, reason),\n    onSuccess: () => {\n      success('PGP Key Revoked', 'PGP key revoked successfully')\n      queryClient.invalidateQueries({ queryKey: ['pgp-keys'] })\n    },\n    onError: (err: any) => {\n      error('Revocation Failed', err.response?.data?.message || 'Failed to revoke PGP key')\n    },\n  })\n\n  const handleExportPublic = async (keyId: string, keyName: string) => {\n    try {\n      const response = await pgpKeyApi.exportPublicKey(keyId)\n      \n      // Create download\n      const blob = new Blob([response], { type: 'text/plain' })\n      const url = window.URL.createObjectURL(blob)\n      const link = document.createElement('a')\n      link.href = url\n      link.download = `${keyName}-public.asc`\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n      window.URL.revokeObjectURL(url)\n      \n      success('Export Complete', 'Public key exported successfully')\n    } catch (err: any) {\n      error('Export Failed', 'Failed to export public key')\n    }\n  }\n\n  const handleExportPrivate = async (keyId: string, keyName: string) => {\n    try {\n      const response = await pgpKeyApi.exportPrivateKey(keyId)\n      \n      // Create download\n      const blob = new Blob([response], { type: 'text/plain' })\n      const url = window.URL.createObjectURL(blob)\n      const link = document.createElement('a')\n      link.href = url\n      link.download = `${keyName}-private.asc`\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n      window.URL.revokeObjectURL(url)\n      \n      success('Export Complete', 'Private key exported successfully')\n    } catch (err: any) {\n      error('Export Failed', 'Failed to export private key')\n    }\n  }\n\n  const getKeyStatusIcon = (key: PgpKey) => {\n    if (key.revokedAt) {\n      return <XCircle className=\"h-4 w-4 text-red-500\" />\n    }\n    if (key.expiresAt && new Date(key.expiresAt) < new Date()) {\n      return <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />\n    }\n    return <CheckCircle className=\"h-4 w-4 text-green-500\" />\n  }\n\n  const getKeyStatusText = (key: PgpKey) => {\n    if (key.revokedAt) {\n      return 'Revoked'\n    }\n    if (key.expiresAt && new Date(key.expiresAt) < new Date()) {\n      return 'Expired'\n    }\n    return 'Valid'\n  }\n\n  const getKeyTypeIcon = (keyType: string) => {\n    switch (keyType) {\n      case 'RSA':\n        return <Key className=\"h-4 w-4 text-blue-500\" />\n      case 'ECC':\n        return <Shield className=\"h-4 w-4 text-green-500\" />\n      case 'DSA':\n        return <Lock className=\"h-4 w-4 text-purple-500\" />\n      default:\n        return <Key className=\"h-4 w-4 text-gray-500\" />\n    }\n  }\n\n  const formatFingerprint = (fingerprint: string) => {\n    if (!fingerprint || fingerprint.length !== 40) return fingerprint\n    return fingerprint.replace(/(.{4})/g, '$1 ').trim()\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n          <span className=\"text-muted-foreground\">Loading PGP keys...</span>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-foreground mb-2\">PGP Key Management</h2>\n          <p className=\"text-muted-foreground\">Manage PGP encryption keys for secure file transfers</p>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <Button variant=\"outline\" onClick={() => setShowImportForm(true)}>\n            <Upload className=\"h-4 w-4 mr-2\" />\n            Import Key\n          </Button>\n          <Button className=\"btn-primary\" onClick={() => setShowGenerateForm(true)}>\n            <Plus className=\"h-4 w-4 mr-2\" />\n            Generate Key\n          </Button>\n        </div>\n      </div>\n\n      {/* Statistics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-4\">\n            <div className=\"flex items-center space-x-3\">\n              <Key className=\"h-8 w-8 text-primary\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Total Keys</p>\n                <p className=\"text-2xl font-bold text-foreground\">{keys.length}</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-4\">\n            <div className=\"flex items-center space-x-3\">\n              <CheckCircle className=\"h-8 w-8 text-green-500\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Valid Keys</p>\n                <p className=\"text-2xl font-bold text-foreground\">\n                  {keys.filter((k: PgpKey) => !k.revokedAt && (!k.expiresAt || new Date(k.expiresAt) > new Date())).length}\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-4\">\n            <div className=\"flex items-center space-x-3\">\n              <AlertTriangle className=\"h-8 w-8 text-yellow-500\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Expired</p>\n                <p className=\"text-2xl font-bold text-foreground\">\n                  {keys.filter((k: PgpKey) => !k.revokedAt && k.expiresAt && new Date(k.expiresAt) < new Date()).length}\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-4\">\n            <div className=\"flex items-center space-x-3\">\n              <XCircle className=\"h-8 w-8 text-red-500\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Revoked</p>\n                <p className=\"text-2xl font-bold text-foreground\">\n                  {keys.filter((k: PgpKey) => k.revokedAt).length}\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Generate Form */}\n      {showGenerateForm && (\n        <GenerateKeyForm\n          onSubmit={(data) => generateKeyMutation.mutate(data)}\n          onCancel={() => setShowGenerateForm(false)}\n          isLoading={generateKeyMutation.isPending}\n        />\n      )}\n\n      {/* Import Form */}\n      {showImportForm && (\n        <ImportKeyForm\n          onSubmit={(data) => importKeyMutation.mutate(data)}\n          onCancel={() => setShowImportForm(false)}\n          isLoading={importKeyMutation.isPending}\n        />\n      )}\n\n      {/* Keys List */}\n      {keys.length > 0 ? (\n        <div className=\"space-y-4\">\n          {keys.map((key: PgpKey) => (\n            <Card key={key.id} className=\"app-card border\">\n              <CardHeader>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-3\">\n                    {getKeyTypeIcon(key.keyType)}\n                    <div>\n                      <CardTitle className=\"text-lg text-foreground\">{key.keyName}</CardTitle>\n                      <p className=\"text-sm text-muted-foreground\">{key.userId}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    {getKeyStatusIcon(key)}\n                    <span className={cn(\n                      \"text-sm px-2 py-1 rounded\",\n                      key.revokedAt && \"bg-red-100 text-red-700\",\n                      !key.revokedAt && key.expiresAt && new Date(key.expiresAt) < new Date() && \"bg-yellow-100 text-yellow-700\",\n                      !key.revokedAt && (!key.expiresAt || new Date(key.expiresAt) > new Date()) && \"bg-green-100 text-green-700\"\n                    )}>\n                      {getKeyStatusText(key)}\n                    </span>\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {/* Key Details */}\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                    <div>\n                      <span className=\"text-muted-foreground\">Type:</span>\n                      <span className=\"ml-2 text-foreground\">{key.keyType} {key.keySize}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-muted-foreground\">Algorithm:</span>\n                      <span className=\"ml-2 text-foreground\">{key.algorithm}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-muted-foreground\">Key ID:</span>\n                      <span className=\"ml-2 font-mono text-foreground\">{key.keyId}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-muted-foreground\">Exports:</span>\n                      <span className=\"ml-2 text-foreground\">{key.exportedCount}</span>\n                    </div>\n                  </div>\n\n                  {/* Usage Flags */}\n                  <div>\n                    <span className=\"text-sm text-muted-foreground\">Usage:</span>\n                    <div className=\"flex items-center space-x-2 mt-1\">\n                      {key.canEncrypt && (\n                        <span className=\"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded\">Encrypt</span>\n                      )}\n                      {key.canSign && (\n                        <span className=\"text-xs px-2 py-1 bg-green-100 text-green-700 rounded\">Sign</span>\n                      )}\n                      {key.canCertify && (\n                        <span className=\"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded\">Certify</span>\n                      )}\n                      {key.canAuthenticate && (\n                        <span className=\"text-xs px-2 py-1 bg-orange-100 text-orange-700 rounded\">Authenticate</span>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Fingerprint */}\n                  <div>\n                    <Label className=\"text-sm text-muted-foreground\">Fingerprint:</Label>\n                    <div className=\"mt-1 font-mono text-sm bg-secondary/50 px-3 py-2 rounded\">\n                      {formatFingerprint(key.fingerprint)}\n                    </div>\n                  </div>\n\n                  {/* Description */}\n                  {key.description && (\n                    <div>\n                      <Label className=\"text-sm text-muted-foreground\">Description:</Label>\n                      <p className=\"mt-1 text-sm text-foreground\">{key.description}</p>\n                    </div>\n                  )}\n\n                  {/* Expiry and Dates */}\n                  <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm\">\n                    <div>\n                      <span className=\"text-muted-foreground\">Created:</span>\n                      <span className=\"ml-2 text-foreground\">{new Date(key.createdAt).toLocaleDateString()}</span>\n                    </div>\n                    {key.expiresAt && (\n                      <div>\n                        <span className=\"text-muted-foreground\">Expires:</span>\n                        <span className=\"ml-2 text-foreground\">{new Date(key.expiresAt).toLocaleDateString()}</span>\n                      </div>\n                    )}\n                    {key.lastUsedAt && (\n                      <div>\n                        <span className=\"text-muted-foreground\">Last Used:</span>\n                        <span className=\"ml-2 text-foreground\">{new Date(key.lastUsedAt).toLocaleDateString()}</span>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Import Source */}\n                  {key.importedFrom && (\n                    <div className=\"text-sm\">\n                      <span className=\"text-muted-foreground\">Imported from:</span>\n                      <span className=\"ml-2 text-foreground\">{key.importedFrom}</span>\n                    </div>\n                  )}\n\n                  {/* Revocation Info */}\n                  {key.revokedAt && (\n                    <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\n                      <div className=\"flex items-center space-x-2 text-red-700 mb-1\">\n                        <XCircle className=\"h-4 w-4\" />\n                        <span className=\"font-medium\">Key Revoked</span>\n                      </div>\n                      <div className=\"text-sm text-red-600\">\n                        <p>Revoked on: {new Date(key.revokedAt).toLocaleString()}</p>\n                        {key.revocationReason && <p>Reason: {key.revocationReason}</p>}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Action Buttons */}\n                  <div className=\"flex items-center space-x-2 pt-4 border-t border-border\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => handleExportPublic(key.id, key.keyName)}\n                    >\n                      <Download className=\"h-4 w-4 mr-2\" />\n                      Export Public\n                    </Button>\n                    \n                    {key.privateKey && (\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => handleExportPrivate(key.id, key.keyName)}\n                      >\n                        <Download className=\"h-4 w-4 mr-2\" />\n                        Export Private\n                      </Button>\n                    )}\n\n                    {!key.revokedAt && (\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        className=\"text-yellow-600\"\n                        onClick={() => {\n                          const reason = prompt('Enter revocation reason:')\n                          if (reason) {\n                            revokeKeyMutation.mutate({ id: key.id, reason })\n                          }\n                        }}\n                      >\n                        <XCircle className=\"h-4 w-4 mr-2\" />\n                        Revoke\n                      </Button>\n                    )}\n                    \n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"text-red-600\"\n                      onClick={() => {\n                        if (window.confirm('Are you sure you want to delete this PGP key?')) {\n                          deleteKeyMutation.mutate(key.id)\n                        }\n                      }}\n                    >\n                      <Trash2 className=\"h-4 w-4 mr-2\" />\n                      Delete\n                    </Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      ) : (\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center justify-center py-12\">\n            <div className=\"text-center\">\n              <Lock className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">No PGP Keys Found</h3>\n              <p className=\"text-muted-foreground mb-6\">Generate or import your first PGP key to get started</p>\n              <div className=\"flex items-center justify-center space-x-2\">\n                <Button variant=\"outline\" onClick={() => setShowImportForm(true)}>\n                  <Upload className=\"h-4 w-4 mr-2\" />\n                  Import Key\n                </Button>\n                <Button className=\"btn-primary\" onClick={() => setShowGenerateForm(true)}>\n                  <Plus className=\"h-4 w-4 mr-2\" />\n                  Generate Key\n                </Button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  )\n}\n\nconst GenerateKeyForm: React.FC<{\n  onSubmit: (data: GenerateKeyRequest) => void\n  onCancel: () => void\n  isLoading: boolean\n}> = ({ onSubmit, onCancel, isLoading }) => {\n  const [formData, setFormData] = useState<GenerateKeyRequest>({\n    keyName: '',\n    userId: '',\n    passphrase: '',\n    keyType: 'RSA',\n    keySize: 2048,\n    expiresAt: '',\n    description: '',\n  })\n\n  const [showPassphrase, setShowPassphrase] = useState(false)\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    onSubmit(formData)\n  }\n\n  return (\n    <Card className=\"app-card border\">\n      <CardHeader>\n        <CardTitle className=\"text-foreground flex items-center space-x-2\">\n          <Key className=\"h-5 w-5\" />\n          <span>Generate PGP Key Pair</span>\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"keyName\">Key Name</Label>\n              <Input\n                id=\"keyName\"\n                value={formData.keyName}\n                onChange={(e) => setFormData(prev => ({ ...prev, keyName: e.target.value }))}\n                placeholder=\"e.g., Production Encryption Key\"\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"userId\">User ID (Email)</Label>\n              <Input\n                id=\"userId\"\n                type=\"email\"\n                value={formData.userId}\n                onChange={(e) => setFormData(prev => ({ ...prev, userId: e.target.value }))}\n                placeholder=\"e.g., admin@company.com\"\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"keyType\">Key Type</Label>\n              <Select\n                value={formData.keyType}\n                onValueChange={(value) => setFormData(prev => ({ ...prev, keyType: value as any }))}\n              >\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"RSA\">RSA (Recommended)</SelectItem>\n                  <SelectItem value=\"ECC\" disabled>ECC (Coming Soon)</SelectItem>\n                  <SelectItem value=\"DSA\" disabled>DSA (Coming Soon)</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"keySize\">Key Size (bits)</Label>\n              <Select\n                value={formData.keySize.toString()}\n                onValueChange={(value) => setFormData(prev => ({ ...prev, keySize: parseInt(value) }))}\n              >\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"2048\">2048 (Standard)</SelectItem>\n                  <SelectItem value=\"3072\">3072 (High Security)</SelectItem>\n                  <SelectItem value=\"4096\">4096 (Maximum Security)</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"passphrase\">Passphrase</Label>\n              <div className=\"relative\">\n                <Input\n                  id=\"passphrase\"\n                  type={showPassphrase ? 'text' : 'password'}\n                  value={formData.passphrase}\n                  onChange={(e) => setFormData(prev => ({ ...prev, passphrase: e.target.value }))}\n                  placeholder=\"Enter secure passphrase\"\n                  className=\"pr-10\"\n                  required\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassphrase(!showPassphrase)}\n                  className=\"absolute right-3 top-3 text-muted-foreground\"\n                >\n                  {showPassphrase ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                </button>\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"expiresAt\">Expiry Date (Optional)</Label>\n              <Input\n                id=\"expiresAt\"\n                type=\"datetime-local\"\n                value={formData.expiresAt}\n                onChange={(e) => setFormData(prev => ({ ...prev, expiresAt: e.target.value }))}\n              />\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"description\">Description (Optional)</Label>\n            <Input\n              id=\"description\"\n              value={formData.description}\n              onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n              placeholder=\"e.g., Used for encrypting payment files\"\n            />\n          </div>\n\n          <div className=\"flex items-center space-x-4 pt-4\">\n            <Button type=\"submit\" className=\"btn-primary\" disabled={isLoading}>\n              {isLoading ? 'Generating...' : 'Generate Key Pair'}\n            </Button>\n            <Button type=\"button\" variant=\"outline\" onClick={onCancel}>\n              Cancel\n            </Button>\n          </div>\n        </form>\n      </CardContent>\n    </Card>\n  )\n}\n\nconst ImportKeyForm: React.FC<{\n  onSubmit: (data: ImportKeyRequest) => void\n  onCancel: () => void\n  isLoading: boolean\n}> = ({ onSubmit, onCancel, isLoading }) => {\n  const [formData, setFormData] = useState<ImportKeyRequest>({\n    keyName: '',\n    armoredKey: '',\n    description: '',\n  })\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    onSubmit(formData)\n  }\n\n  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (file) {\n      const reader = new FileReader()\n      reader.onload = (event) => {\n        const content = event.target?.result as string\n        setFormData(prev => ({ ...prev, armoredKey: content }))\n      }\n      reader.readAsText(file)\n    }\n  }\n\n  return (\n    <Card className=\"app-card border\">\n      <CardHeader>\n        <CardTitle className=\"text-foreground flex items-center space-x-2\">\n          <Upload className=\"h-5 w-5\" />\n          <span>Import PGP Key</span>\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"importKeyName\">Key Name</Label>\n              <Input\n                id=\"importKeyName\"\n                value={formData.keyName}\n                onChange={(e) => setFormData(prev => ({ ...prev, keyName: e.target.value }))}\n                placeholder=\"e.g., Customer Public Key\"\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"keyFile\">Import from File (Optional)</Label>\n              <Input\n                id=\"keyFile\"\n                type=\"file\"\n                accept=\".asc,.gpg,.pgp\"\n                onChange={handleFileUpload}\n              />\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"armoredKey\">ASCII Armored Key</Label>\n            <textarea\n              id=\"armoredKey\"\n              value={formData.armoredKey}\n              onChange={(e) => setFormData(prev => ({ ...prev, armoredKey: e.target.value }))}\n              placeholder=\"Paste ASCII armored PGP key here...\"\n              className=\"w-full h-32 px-3 py-2 border border-border rounded-md bg-background text-foreground font-mono text-sm\"\n              required\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"importDescription\">Description (Optional)</Label>\n            <Input\n              id=\"importDescription\"\n              value={formData.description}\n              onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n              placeholder=\"e.g., Customer XYZ public key for file encryption\"\n            />\n          </div>\n\n          <div className=\"flex items-center space-x-4 pt-4\">\n            <Button type=\"submit\" className=\"btn-primary\" disabled={isLoading}>\n              {isLoading ? 'Importing...' : 'Import Key'}\n            </Button>\n            <Button type=\"button\" variant=\"outline\" onClick={onCancel}>\n              Cancel\n            </Button>\n          </div>\n        </form>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport default PgpKeys","import React from 'react'\nimport { CheckCircle, AlertTriangle, XCircle, Info } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport {\n  Dialog,\n  DialogContent,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\n\nexport type NotificationType = 'success' | 'error' | 'warning' | 'info'\n\ninterface NotificationModalProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  type: NotificationType\n  title?: string\n  message: string\n}\n\nconst iconMap = {\n  success: { icon: CheckCircle, className: 'text-success' },\n  error: { icon: XCircle, className: 'text-destructive' },\n  warning: { icon: AlertTriangle, className: 'text-warning' },\n  info: { icon: Info, className: 'text-info' },\n}\n\nconst defaultTitles = {\n  success: 'Success',\n  error: 'Error',\n  warning: 'Warning',\n  info: 'Information',\n}\n\nexport const NotificationModal: React.FC<NotificationModalProps> = ({\n  open,\n  onOpenChange,\n  type,\n  title,\n  message,\n}) => {\n  const { icon: Icon, className } = iconMap[type]\n  const displayTitle = title || defaultTitles[type]\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-md\">\n        <DialogHeader className=\"pb-0\">\n          <DialogTitle className=\"flex items-center space-x-2 text-lg\">\n            <Icon className={`h-5 w-5 ${className}`} />\n            <span>{displayTitle}</span>\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"py-4\">\n          <p className=\"text-foreground leading-relaxed whitespace-pre-wrap\">{message}</p>\n        </div>\n\n        <DialogFooter>\n          <Button\n            onClick={() => onOpenChange(false)}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-8 py-2 font-medium\"\n          >\n            OK\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","import { useState, useEffect } from 'react';\r\nimport { api } from '@/lib/api';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Switch } from '@/components/ui/switch';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue\r\n} from '@/components/ui/select';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger\r\n} from '@/components/ui/dialog';\r\nimport {\r\n  Play,\r\n  Trash2,\r\n  Plus,\r\n  Edit,\r\n  Clock,\r\n  Database,\r\n  FileText,\r\n  CheckCircle,\r\n  XCircle,\r\n  AlertTriangle\r\n} from 'lucide-react';\r\nimport { NotificationModal, NotificationType } from '@/components/ui/NotificationModal';\r\n\r\ninterface DataRetentionConfig {\r\n  id: string;\r\n  dataType: 'LOG_FILES' | 'SYSTEM_LOGS' | 'TRANSACTION_LOGS' | 'SCHEDULE';\r\n  name: string;\r\n  description: string;\r\n  retentionDays: number;\r\n  archiveDays?: number;\r\n  scheduleCron?: string;\r\n  executorClass: string;\r\n  enabled: boolean;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  lastExecution?: string;\r\n  lastExecutionStatus?: string;\r\n  lastItemsProcessed?: number;\r\n}\r\n\r\ninterface DataRetentionStatus {\r\n  lastExecution?: string;\r\n  status: string;\r\n  filesProcessed: number;\r\n  databaseRecordsDeleted: number;\r\n  nextExecution?: string;\r\n}\r\n\r\nconst DATA_TYPE_OPTIONS = [\r\n  { value: 'LOG_FILES', label: 'Log Files', description: 'Manages log file archiving and deletion', icon: FileText },\r\n  { value: 'SYSTEM_LOGS', label: 'System Logs', description: 'Manages system_logs table cleanup', icon: Database },\r\n  { value: 'TRANSACTION_LOGS', label: 'Transaction Logs', description: 'Manages transaction_logs table cleanup', icon: Database },\r\n  { value: 'SCHEDULE', label: 'Schedule', description: 'Defines when retention cleanup should run', icon: Clock }\r\n];\r\n\r\nexport default function DataRetentionManagement() {\r\n  const [configs, setConfigs] = useState<DataRetentionConfig[]>([]);\r\n  const [status, setStatus] = useState<DataRetentionStatus | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showCreateDialog, setShowCreateDialog] = useState(false);\r\n  const [editingConfig, setEditingConfig] = useState<DataRetentionConfig | null>(null);\r\n  const [newConfig, setNewConfig] = useState({\r\n    dataType: '',\r\n    name: '',\r\n    description: '',\r\n    retentionDays: 30,\r\n    archiveDays: 90,\r\n    scheduleCron: '0 0 2 * * ?',\r\n    executorClass: '',\r\n    enabled: true\r\n  });\r\n  const [defaultConfigs, setDefaultConfigs] = useState<DataRetentionConfig[]>([]);\r\n  const [availableJobs, setAvailableJobs] = useState<Array<{value: string, label: string, description: string}>>([]);\r\n  const [notificationModal, setNotificationModal] = useState<{\r\n    open: boolean;\r\n    type: NotificationType;\r\n    title?: string;\r\n    message: string;\r\n  }>({ open: false, type: 'info', message: '' });\r\n\r\n  const showNotification = (type: NotificationType, message: string, title?: string) => {\r\n    setNotificationModal({ open: true, type, title, message });\r\n  };\r\n\r\n  // Toast-compatible wrapper for easier migration\r\n  const toast = ({ title, description, variant }: { title: string; description: string; variant?: string }) => {\r\n    const type: NotificationType = variant === 'destructive' ? 'error' : 'success';\r\n    showNotification(type, description, title);\r\n  };\r\n\r\n  // Load configurations and status\r\n  useEffect(() => {\r\n    loadConfigurations();\r\n    loadStatus();\r\n    loadDefaultConfigurations();\r\n    loadAvailableJobs();\r\n  }, []);\r\n\r\n  const loadConfigurations = async () => {\r\n    try {\r\n      const response = await api.get('/api/admin/data-retention');\r\n      const configs = response.data?.data?.statistics?.configurations || [];\r\n      setConfigs(configs);\r\n    } catch (error) {\r\n      console.error('Error loading configurations:', error);\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error',\r\n        description: 'Failed to load retention configurations'\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadStatus = async () => {\r\n    try {\r\n      const response = await api.get('/api/admin/data-retention/status');\r\n      setStatus(response.data);\r\n    } catch (error) {\r\n      console.error('Error loading status:', error);\r\n    }\r\n  };\r\n\r\n  const loadDefaultConfigurations = async () => {\r\n    try {\r\n      const response = await api.get('/api/admin/data-retention/defaults');\r\n      setDefaultConfigs(response.data);\r\n    } catch (error) {\r\n      console.error('Error loading default configurations:', error);\r\n    }\r\n  };\r\n\r\n  const loadAvailableJobs = async () => {\r\n    try {\r\n      const response = await api.get('/api/admin/data-retention/available-jobs');\r\n      const jobs = response.data?.data?.statistics?.availableJobs || [];\r\n      setAvailableJobs(jobs);\r\n    } catch (error) {\r\n      console.error('Error loading available jobs:', error);\r\n    }\r\n  };\r\n\r\n  const resetNewConfigForm = () => {\r\n    // Use database defaults if available, fallback to sensible defaults\r\n    const defaultSchedule = defaultConfigs.find(config => config.dataType === 'SCHEDULE');\r\n    setNewConfig({\r\n      dataType: '',\r\n      name: '',\r\n      description: '',\r\n      retentionDays: defaultSchedule?.retentionDays || 30,\r\n      archiveDays: defaultSchedule?.archiveDays || 90,\r\n      scheduleCron: defaultSchedule?.scheduleCron || '0 0 2 * * ?',\r\n      executorClass: '',\r\n      enabled: true\r\n    });\r\n  };\r\n\r\n  const createConfiguration = async () => {\r\n    try {\r\n      await api.post('/api/admin/data-retention', newConfig);\r\n      await loadConfigurations();\r\n      setShowCreateDialog(false);\r\n      resetNewConfigForm();\r\n        toast({\r\n          title: 'Success',\r\n          description: 'Retention configuration created successfully'\r\n        });\r\n    } catch (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error',\r\n        description: 'Failed to create configuration'\r\n      });\r\n    }\r\n  };\r\n\r\n  const updateConfiguration = async () => {\r\n    if (!editingConfig) return;\r\n\r\n    try {\r\n      await api.put(`/api/admin/data-retention/${editingConfig.id}`, editingConfig);\r\n      await loadConfigurations();\r\n      setEditingConfig(null);\r\n      toast({\r\n        title: 'Success',\r\n        description: 'Configuration updated successfully'\r\n      });\r\n    } catch (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error',\r\n        description: 'Failed to update configuration'\r\n      });\r\n    }\r\n  };\r\n\r\n  const deleteConfiguration = async (id: string) => {\r\n    try {\r\n      await api.delete(`/api/admin/data-retention/${id}`);\r\n      await loadConfigurations();\r\n      toast({\r\n        title: 'Success',\r\n        description: 'Configuration deleted successfully'\r\n      });\r\n    } catch (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error',\r\n        description: 'Failed to delete configuration'\r\n      });\r\n    }\r\n  };\r\n\r\n  const toggleConfiguration = async (id: string) => {\r\n    try {\r\n      await api.patch(`/api/admin/data-retention/${id}/toggle`);\r\n      await loadConfigurations();\r\n      toast({\r\n        title: 'Success',\r\n        description: 'Configuration toggled successfully'\r\n      });\r\n    } catch (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error',\r\n        description: 'Failed to toggle configuration'\r\n      });\r\n    }\r\n  };\r\n\r\n  const executeManualRetention = async () => {\r\n    try {\r\n      await api.post('/api/admin/data-retention/execute');\r\n      toast({\r\n        title: 'Success',\r\n        description: 'Data retention execution started'\r\n      });\r\n      // Reload status after a short delay\r\n      setTimeout(loadStatus, 2000);\r\n    } catch (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error',\r\n        description: 'Failed to execute retention'\r\n      });\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    if (!status || typeof status !== 'string') {\r\n      return <Clock className=\"h-4 w-4 text-gray-500\" />;\r\n    }\r\n    \r\n    if (status.includes('Completed')) {\r\n      return <CheckCircle className=\"h-4 w-4 text-green-500\" />;\r\n    } else if (status.includes('Failed')) {\r\n      return <XCircle className=\"h-4 w-4 text-red-500\" />;\r\n    } else if (status.includes('Progress')) {\r\n      return <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />;\r\n    }\r\n    return <Clock className=\"h-4 w-4 text-gray-500\" />;\r\n  };\r\n\r\n  const formatDateTime = (dateString?: string) => {\r\n    if (!dateString) return 'Never';\r\n    return new Date(dateString).toLocaleString();\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold\">Data Retention Management</h1>\r\n          <p className=\"text-gray-600\">\r\n            Configure automated cleanup policies for log files and database tables\r\n          </p>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Button onClick={executeManualRetention} variant=\"outline\">\r\n            <Play className=\"h-4 w-4 mr-2\" />\r\n            Execute Now\r\n          </Button>\r\n          <Dialog open={showCreateDialog} onOpenChange={setShowCreateDialog}>\r\n            <DialogTrigger asChild>\r\n              <Button>\r\n                <Plus className=\"h-4 w-4 mr-2\" />\r\n                Add Configuration\r\n              </Button>\r\n            </DialogTrigger>\r\n            <DialogContent className=\"max-w-md\">\r\n              <DialogHeader>\r\n                <DialogTitle>Create Retention Configuration</DialogTitle>\r\n                <DialogDescription>\r\n                  Add a new data retention policy\r\n                </DialogDescription>\r\n              </DialogHeader>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label>Data Type</Label>\r\n                  <Select \r\n                    value={newConfig.dataType} \r\n                    onValueChange={(value) => setNewConfig({...newConfig, dataType: value})}\r\n                  >\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Select data type\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {DATA_TYPE_OPTIONS.map((option) => (\r\n                        <SelectItem key={option.value} value={option.value}>\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <option.icon className=\"h-4 w-4\" />\r\n                            <span>{option.label}</span>\r\n                          </div>\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n                \r\n                <div className=\"space-y-2\">\r\n                  <Label>Name</Label>\r\n                  <Input\r\n                    value={newConfig.name}\r\n                    onChange={(e) => setNewConfig({...newConfig, name: e.target.value})}\r\n                    placeholder=\"Configuration name\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label>Description</Label>\r\n                  <textarea\r\n                    className=\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\r\n                    value={newConfig.description}\r\n                    onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) => setNewConfig({...newConfig, description: e.target.value})}\r\n                    placeholder=\"Description\"\r\n                    rows={2}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label>Executor Job</Label>\r\n                  <Select \r\n                    value={newConfig.executorClass} \r\n                    onValueChange={(value) => setNewConfig({...newConfig, executorClass: value})}\r\n                  >\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Select which job will execute this policy\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {Array.isArray(availableJobs) && availableJobs.map((job) => (\r\n                        <SelectItem key={job.value} value={job.value}>\r\n                          <div className=\"flex flex-col\">\r\n                            <span className=\"font-medium\">{job.label}</span>\r\n                            <span className=\"text-xs text-muted-foreground\">{job.description}</span>\r\n                          </div>\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label>Retention Days</Label>\r\n                  <Input\r\n                    type=\"number\"\r\n                    value={newConfig.retentionDays}\r\n                    onChange={(e) => setNewConfig({...newConfig, retentionDays: parseInt(e.target.value)})}\r\n                    min=\"1\"\r\n                  />\r\n                </div>\r\n\r\n                {newConfig.dataType === 'LOG_FILES' && (\r\n                  <div className=\"space-y-2\">\r\n                    <Label>Archive Days</Label>\r\n                    <Input\r\n                      type=\"number\"\r\n                      value={newConfig.archiveDays}\r\n                      onChange={(e) => setNewConfig({...newConfig, archiveDays: parseInt(e.target.value)})}\r\n                      min=\"1\"\r\n                    />\r\n                  </div>\r\n                )}\r\n\r\n                {newConfig.dataType === 'SCHEDULE' && (\r\n                  <div className=\"space-y-2\">\r\n                    <Label>Cron Expression</Label>\r\n                    <Input\r\n                      value={newConfig.scheduleCron}\r\n                      onChange={(e) => setNewConfig({...newConfig, scheduleCron: e.target.value})}\r\n                      placeholder=\"0 0 2 * * ?\"\r\n                    />\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <Switch\r\n                    checked={newConfig.enabled}\r\n                    onCheckedChange={(checked) => setNewConfig({...newConfig, enabled: checked})}\r\n                  />\r\n                  <Label>Enabled</Label>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex justify-end gap-2\">\r\n                <Button variant=\"outline\" onClick={() => setShowCreateDialog(false)}>\r\n                  Cancel\r\n                </Button>\r\n                <Button onClick={createConfiguration}>Create</Button>\r\n              </div>\r\n            </DialogContent>\r\n          </Dialog>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Status Overview */}\r\n      {status && (\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              {getStatusIcon(status?.status || 'Unknown')}\r\n              Execution Status\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n              <div>\r\n                <div className=\"text-sm text-gray-500\">Last Execution</div>\r\n                <div className=\"font-medium\">{formatDateTime(status.lastExecution)}</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-sm text-gray-500\">Status</div>\r\n                <div className=\"font-medium\">{status.status}</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-sm text-gray-500\">Files Processed</div>\r\n                <div className=\"font-medium\">{status.filesProcessed}</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-sm text-gray-500\">DB Records Deleted</div>\r\n                <div className=\"font-medium\">{status.databaseRecordsDeleted}</div>\r\n              </div>\r\n            </div>\r\n            {status.nextExecution && (\r\n              <div className=\"mt-4 pt-4 border-t\">\r\n                <div className=\"text-sm text-gray-500\">Next Scheduled Execution</div>\r\n                <div className=\"font-medium\">{formatDateTime(status.nextExecution)}</div>\r\n              </div>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Configurations List */}\r\n      <div className=\"grid gap-4\">\r\n        {Array.isArray(configs) && configs.map((config) => {\r\n          const dataTypeOption = DATA_TYPE_OPTIONS.find(opt => opt.value === config.dataType);\r\n          const Icon = dataTypeOption?.icon || FileText;\r\n          \r\n          return (\r\n            <Card key={config.id} className={config.enabled ? '' : 'opacity-50'}>\r\n              <CardContent className=\"p-6\">\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <Icon className=\"h-5 w-5 mt-1 text-gray-600\" />\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-2 mb-1\">\r\n                        <h3 className=\"font-semibold\">{config.name}</h3>\r\n                        <Badge variant={config.enabled ? 'default' : 'secondary'}>\r\n                          {config.enabled ? 'Enabled' : 'Disabled'}\r\n                        </Badge>\r\n                        <Badge variant=\"outline\">{dataTypeOption?.label}</Badge>\r\n                      </div>\r\n                      <p className=\"text-sm text-gray-600 mb-2\">{config.description}</p>\r\n                      \r\n                      <div className=\"flex flex-wrap gap-4 text-sm\">\r\n                        <div>\r\n                          <span className=\"text-gray-500\">Retention:</span> {config.retentionDays} days\r\n                        </div>\r\n                        {config.archiveDays && (\r\n                          <div>\r\n                            <span className=\"text-gray-500\">Archive:</span> {config.archiveDays} days\r\n                          </div>\r\n                        )}\r\n                        {config.scheduleCron && (\r\n                          <div>\r\n                            <span className=\"text-gray-500\">Schedule:</span> {config.scheduleCron}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n\r\n                      {config.lastExecution && (\r\n                        <div className=\"mt-2 text-sm text-gray-500\">\r\n                          Last run: {formatDateTime(config.lastExecution)} - {config.lastExecutionStatus}\r\n                          {config.lastItemsProcessed !== undefined && (\r\n                            <span> ({config.lastItemsProcessed} items)</span>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Switch\r\n                      checked={config.enabled}\r\n                      onCheckedChange={() => toggleConfiguration(config.id)}\r\n                    />\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      onClick={() => setEditingConfig(config)}\r\n                    >\r\n                      <Edit className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Button \r\n                      variant=\"outline\" \r\n                      size=\"sm\"\r\n                      onClick={() => {\r\n                        if (confirm('Are you sure you want to delete this retention configuration? This action cannot be undone.')) {\r\n                          deleteConfiguration(config.id);\r\n                        }\r\n                      }}\r\n                    >\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {(!Array.isArray(configs) || configs.length === 0) && (\r\n        <Card>\r\n          <CardContent className=\"text-center py-8\">\r\n            <FileText className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-semibold mb-2\">No Retention Configurations</h3>\r\n            <p className=\"text-gray-600 mb-4\">\r\n              Get started by creating your first data retention policy\r\n            </p>\r\n            <Button onClick={() => setShowCreateDialog(true)}>\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n              Create Configuration\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Edit Dialog */}\r\n      {editingConfig && (\r\n        <Dialog open={!!editingConfig} onOpenChange={() => setEditingConfig(null)}>\r\n          <DialogContent className=\"max-w-md\">\r\n            <DialogHeader>\r\n              <DialogTitle>Edit Configuration</DialogTitle>\r\n              <DialogDescription>\r\n                Update the retention configuration settings\r\n              </DialogDescription>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label>Name</Label>\r\n                <Input\r\n                  value={editingConfig.name}\r\n                  onChange={(e) => setEditingConfig({...editingConfig, name: e.target.value})}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label>Description</Label>\r\n                <textarea\r\n                  className=\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\r\n                  value={editingConfig.description}\r\n                  onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) => setEditingConfig({...editingConfig, description: e.target.value})}\r\n                  rows={2}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label>Executor Job</Label>\r\n                <Select \r\n                  value={editingConfig.executorClass} \r\n                  onValueChange={(value) => setEditingConfig({...editingConfig, executorClass: value})}\r\n                >\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select which job will execute this policy\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {Array.isArray(availableJobs) && availableJobs.map((job) => (\r\n                      <SelectItem key={job.value} value={job.value}>\r\n                        <div className=\"flex flex-col\">\r\n                          <span className=\"font-medium\">{job.label}</span>\r\n                          <span className=\"text-xs text-muted-foreground\">{job.description}</span>\r\n                        </div>\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label>Retention Days</Label>\r\n                <Input\r\n                  type=\"number\"\r\n                  value={editingConfig.retentionDays}\r\n                  onChange={(e) => setEditingConfig({...editingConfig, retentionDays: parseInt(e.target.value)})}\r\n                  min=\"1\"\r\n                />\r\n              </div>\r\n\r\n              {editingConfig.dataType === 'LOG_FILES' && (\r\n                <div className=\"space-y-2\">\r\n                  <Label>Archive Days</Label>\r\n                  <Input\r\n                    type=\"number\"\r\n                    value={editingConfig.archiveDays || 0}\r\n                    onChange={(e) => setEditingConfig({...editingConfig, archiveDays: parseInt(e.target.value)})}\r\n                    min=\"1\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {editingConfig.dataType === 'SCHEDULE' && (\r\n                <div className=\"space-y-2\">\r\n                  <Label>Cron Expression</Label>\r\n                  <Input\r\n                    value={editingConfig.scheduleCron || ''}\r\n                    onChange={(e) => setEditingConfig({...editingConfig, scheduleCron: e.target.value})}\r\n                    placeholder=\"0 0 2 * * ?\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Switch\r\n                  checked={editingConfig.enabled}\r\n                  onCheckedChange={(checked) => setEditingConfig({...editingConfig, enabled: checked})}\r\n                />\r\n                <Label>Enabled</Label>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex justify-end gap-2\">\r\n              <Button variant=\"outline\" onClick={() => setEditingConfig(null)}>\r\n                Cancel\r\n              </Button>\r\n              <Button onClick={updateConfiguration}>Save Changes</Button>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      )}\r\n\r\n      {/* Notification Modal */}\r\n      <NotificationModal\r\n        open={notificationModal.open}\r\n        onOpenChange={(open) => setNotificationModal(prev => ({ ...prev, open }))}\r\n        type={notificationModal.type}\r\n        title={notificationModal.title}\r\n        message={notificationModal.message}\r\n      />\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from 'react'\nimport { useSearchParams } from 'react-router-dom'\nimport { Users, Key, Shield, Settings, FileText, Database, Lock, Clock } from 'lucide-react'\nimport { Card, CardContent } from '@/components/ui/card'\nimport { usePermissions } from '@/hooks/auth'\nimport { useAuthStore } from '@/stores/auth'\nimport { cn } from '@/lib/utils'\n\n// Import existing components\nimport UserManagement from './users/UserManagement'\nimport SshKeyManagement from './ssh-keys/SshKeyManagement'\n\n// New components for the admin page\nimport SystemConfigurations from './admin/SystemConfigurations'\nimport LogsPage from './admin/LogsPage'\nimport PgpKeys from './admin/PgpKeys'\nimport DataRetentionManagement from './admin/DataRetentionManagement'\n\ntype AdminTab = 'users' | 'ssh-keys' | 'pgp-keys' | 'system-config' | 'logs' | 'data-retention'\n\nconst adminTabs: { id: AdminTab; label: string; icon: React.ComponentType<{ className?: string }>; description: string; adminOnly?: boolean }[] = [\n  {\n    id: 'users',\n    label: 'Users',\n    icon: Users,\n    description: 'Manage user accounts, roles, and permissions',\n    adminOnly: true\n  },\n  {\n    id: 'ssh-keys',\n    label: 'SSH Keys',\n    icon: Key,\n    description: 'Generate and manage SSH key pairs for SFTP adapters',\n    adminOnly: true\n  },\n  {\n    id: 'pgp-keys',\n    label: 'PGP Keys',\n    icon: Lock,\n    description: 'Manage PGP encryption keys for secure file transfers',\n    adminOnly: true\n  },\n  {\n    id: 'system-config',\n    label: 'System Configuration',\n    icon: Settings,\n    description: 'Configure system settings, logging, and performance parameters',\n    adminOnly: true\n  },\n  {\n    id: 'logs',\n    label: 'Logs',\n    icon: FileText,\n    description: 'View and manage system and transactional logs'\n    // No adminOnly - available to viewers\n  },\n  {\n    id: 'data-retention',\n    label: 'Data Retention',\n    icon: Clock,\n    description: 'Configure automated cleanup policies for logs and database tables',\n    adminOnly: true\n  }\n]\n\nconst AdminPage: React.FC = () => {\n  const { isAdmin } = usePermissions()\n  const { user } = useAuthStore()\n  const [searchParams, setSearchParams] = useSearchParams()\n  \n  // Filter tabs based on user role\n  const availableTabs = adminTabs.filter(tab => !tab.adminOnly || isAdmin())\n  \n  // Set default tab based on role\n  const defaultTab: AdminTab = isAdmin() ? 'users' : 'logs'\n  const [activeTab, setActiveTab] = useState<AdminTab>(defaultTab)\n\n  // Handle URL parameters to set active tab\n  useEffect(() => {\n    const tabParam = searchParams.get('tab') as AdminTab\n    if (tabParam && availableTabs.some(tab => tab.id === tabParam)) {\n      setActiveTab(tabParam)\n    } else if (!isAdmin()) {\n      // Redirect viewers to logs if they try to access admin-only tabs\n      setActiveTab('logs')\n      setSearchParams({ tab: 'logs' })\n    }\n  }, [searchParams, availableTabs, isAdmin])\n\n  // Update URL when tab changes\n  const handleTabChange = (tabId: AdminTab) => {\n    setActiveTab(tabId)\n    setSearchParams({ tab: tabId })\n  }\n\n  // Check if user has any access (admin or viewer with logs access)\n  if (!user) {\n    return (\n      <div className=\"content-spacing\">\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center justify-center py-12\">\n            <div className=\"text-center\">\n              <Shield className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">Access Denied</h3>\n              <p className=\"text-muted-foreground\">Authentication required to access this section</p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  const renderTabContent = () => {\n    switch (activeTab) {\n      case 'users':\n        return <UserManagement />\n      case 'ssh-keys':\n        return <SshKeyManagement />\n      case 'pgp-keys':\n        return <PgpKeys />\n      case 'system-config':\n        return <SystemConfigurations />\n      case 'logs':\n        return <LogsPage />\n      case 'data-retention':\n        return <DataRetentionManagement />\n      default:\n        return <UserManagement />\n    }\n  }\n\n  return (\n    <div className=\"content-spacing\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <div className=\"flex items-center space-x-3 mb-2\">\n          <Database className=\"h-8 w-8 text-primary\" />\n          <h1 className=\"text-3xl font-bold text-foreground\">\n            {isAdmin() ? 'System Administration' : 'System Logs'}\n          </h1>\n        </div>\n        <p className=\"text-muted-foreground\">\n          {isAdmin() \n            ? 'Centralized administration for users, security, configuration, and monitoring'\n            : 'Monitor system and transactional logs for application insights and debugging'\n          }\n        </p>\n      </div>\n\n      {/* Tab Navigation */}\n      <div className=\"mb-8\">\n        <div className={`grid gap-4 ${availableTabs.length === 1 ? 'grid-cols-1 max-w-md' : availableTabs.length <= 3 ? 'grid-cols-1 md:grid-cols-3' : 'grid-cols-2 md:grid-cols-6'}`}>\n          {availableTabs.map((tab) => {\n            const Icon = tab.icon\n            const isActive = activeTab === tab.id\n            \n            return (\n              <button\n                key={tab.id}\n                onClick={() => handleTabChange(tab.id)}\n                className={cn(\n                  \"text-left p-4 rounded-lg border transition-all duration-300 hover:scale-[1.02]\",\n                  \"flex flex-col space-y-2 min-h-[120px]\",\n                  isActive\n                    ? \"bg-primary/10 border-primary text-primary shadow-elegant\"\n                    : \"bg-card border-border hover:bg-accent/50 hover:border-primary/30\"\n                )}\n              >\n                <div className=\"flex items-center space-x-2\">\n                  <Icon className={cn(\n                    \"h-5 w-5 transition-colors\",\n                    isActive ? \"text-primary\" : \"text-muted-foreground\"\n                  )} />\n                  <span className={cn(\n                    \"font-medium transition-colors\",\n                    isActive ? \"text-primary\" : \"text-foreground\"\n                  )}>\n                    {tab.label}\n                  </span>\n                </div>\n                <p className={cn(\n                  \"text-xs leading-relaxed transition-colors\",\n                  isActive ? \"text-primary/80\" : \"text-muted-foreground\"\n                )}>\n                  {tab.description}\n                </p>\n              </button>\n            )\n          })}\n        </div>\n      </div>\n\n      {/* Tab Content */}\n      <div className=\"transition-all duration-300\">\n        {renderTabContent()}\n      </div>\n    </div>\n  )\n}\n\nexport default AdminPage","\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }","import React from 'react'\nimport * as SeparatorPrimitive from '@radix-ui/react-separator'\nimport { cn } from '@/lib/utils'\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = 'horizontal', decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        'shrink-0 bg-border',\n        orientation === 'horizontal' ? 'h-[1px] w-full' : 'h-full w-[1px]',\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }","import { useState, useEffect } from 'react'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Badge } from '@/components/ui/badge'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Switch } from '@/components/ui/switch'\nimport { Separator } from '@/components/ui/separator'\nimport { Alert, AlertDescription } from '@/components/ui/alert'\nimport { userApi } from '@/lib/api'\nimport {\n  Settings as SettingsIcon,\n  Save,\n  RefreshCw,\n  Bell,\n  Palette,\n  User,\n  Lock,\n  Clock,\n  Info,\n  Check,\n  X\n} from 'lucide-react'\n\ninterface UserProfile {\n  id: string\n  username: string\n  email: string\n  fullName: string\n  role: string\n  timezone?: string\n}\n\ninterface UserPreferences {\n  theme: 'light' | 'dark' | 'system'\n  language: string\n  timezone: string\n  dateFormat: string\n  timeFormat: '12h' | '24h'\n  emailNotifications: boolean\n  soundAlerts: boolean\n  compactMode: boolean\n}\n\nexport const Settings = () => {\n  const [activeTab, setActiveTab] = useState('profile')\n  const [isSaving, setIsSaving] = useState(false)\n  const [user, setUser] = useState<UserProfile | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [notification, setNotification] = useState<{type: 'success' | 'error', message: string} | null>(null)\n\n  // User preferences state\n  const [preferences, setPreferences] = useState<UserPreferences>({\n    theme: 'light',\n    language: 'en',\n    timezone: 'UTC',\n    dateFormat: 'MM/DD/YYYY',\n    timeFormat: '12h',\n    emailNotifications: true,\n    soundAlerts: true,\n    compactMode: false\n  })\n\n  // Profile state\n  const [profile, setProfile] = useState({\n    fullName: '',\n    email: ''\n  })\n\n  // Password change state\n  const [passwordForm, setPasswordForm] = useState({\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  })\n\n  // Load current user on mount\n  useEffect(() => {\n    loadCurrentUser()\n    loadPreferences()\n  }, [])\n\n  const loadCurrentUser = async () => {\n    try {\n      const response = await userApi.getCurrentUser()\n      if (response?.user) {\n        setUser(response.user)\n        setProfile({\n          fullName: response.user.fullName || '',\n          email: response.user.email || ''\n        })\n      }\n    } catch (error) {\n      showNotification('error', 'Failed to load user profile')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const loadPreferences = () => {\n    const savedPreferences = localStorage.getItem('h2h_user_preferences')\n    if (savedPreferences) {\n      try {\n        const parsed = JSON.parse(savedPreferences)\n        setPreferences(prev => ({ ...prev, ...parsed }))\n        // Apply saved theme\n        applyTheme(parsed.theme || 'light')\n      } catch (error) {\n        console.warn('Failed to parse saved preferences')\n      }\n    } else {\n      // Default to light theme\n      applyTheme('light')\n    }\n  }\n\n  const applyTheme = (theme: 'light' | 'dark' | 'system') => {\n    const root = document.documentElement\n    \n    if (theme === 'system') {\n      const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches\n      root.classList.toggle('dark', systemPrefersDark)\n    } else if (theme === 'dark') {\n      root.classList.add('dark')\n    } else {\n      root.classList.remove('dark')\n    }\n  }\n\n  const showNotification = (type: 'success' | 'error', message: string) => {\n    setNotification({ type, message })\n    setTimeout(() => setNotification(null), 5000)\n  }\n\n  const handleSaveProfile = async () => {\n    if (!user?.id) return\n\n    try {\n      setIsSaving(true)\n      \n      await userApi.updateUser(user.id, {\n        fullName: profile.fullName,\n        email: profile.email\n      })\n      \n      showNotification('success', 'Profile updated successfully')\n      await loadCurrentUser() // Refresh user data\n      \n    } catch (error: any) {\n      const message = error?.response?.data?.error || 'Failed to update profile'\n      showNotification('error', message)\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  const handleSavePreferences = async () => {\n    try {\n      setIsSaving(true)\n      localStorage.setItem('h2h_user_preferences', JSON.stringify(preferences))\n      applyTheme(preferences.theme)\n      showNotification('success', 'Preferences saved successfully')\n    } catch (error) {\n      showNotification('error', 'Failed to save preferences')\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  const handleChangePassword = async () => {\n    if (!user?.id) return\n\n    if (passwordForm.newPassword !== passwordForm.confirmPassword) {\n      showNotification('error', 'New passwords do not match')\n      return\n    }\n\n    if (passwordForm.newPassword.length < 8) {\n      showNotification('error', 'Password must be at least 8 characters long')\n      return\n    }\n\n    try {\n      setIsSaving(true)\n      \n      await userApi.changePassword(\n        user.id,\n        passwordForm.currentPassword,\n        passwordForm.newPassword\n      )\n      \n      showNotification('success', 'Password changed successfully')\n      setPasswordForm({\n        currentPassword: '',\n        newPassword: '',\n        confirmPassword: ''\n      })\n      \n    } catch (error: any) {\n      const message = error?.response?.data?.error || 'Failed to change password'\n      showNotification('error', message)\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"container mx-auto p-6\">\n        <div className=\"flex items-center justify-center h-64\">\n          <RefreshCw className=\"h-8 w-8 animate-spin\" />\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"container mx-auto p-6 max-w-6xl\">\n      <div className=\"mb-8\">\n        <div className=\"flex items-center gap-3 mb-2\">\n          <SettingsIcon className=\"h-8 w-8 text-primary\" />\n          <h1 className=\"text-3xl font-bold\">User Settings</h1>\n        </div>\n        <p className=\"text-muted-foreground\">Manage your profile and personal preferences</p>\n      </div>\n\n      {notification && (\n        <Alert className={`mb-6 ${notification.type === 'error' ? 'border-red-500 bg-red-50' : 'border-green-500 bg-green-50'}`}>\n          {notification.type === 'success' ? <Check className=\"h-4 w-4 text-green-600\" /> : <X className=\"h-4 w-4 text-red-600\" />}\n          <AlertDescription className={notification.type === 'error' ? 'text-red-700' : 'text-green-700'}>\n            {notification.message}\n          </AlertDescription>\n        </Alert>\n      )}\n\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n        <TabsList className=\"grid grid-cols-4 w-full max-w-2xl\">\n          <TabsTrigger value=\"profile\" className=\"flex items-center gap-2\">\n            <User className=\"h-4 w-4\" />\n            Profile\n          </TabsTrigger>\n          <TabsTrigger value=\"preferences\" className=\"flex items-center gap-2\">\n            <Palette className=\"h-4 w-4\" />\n            Preferences\n          </TabsTrigger>\n          <TabsTrigger value=\"notifications\" className=\"flex items-center gap-2\">\n            <Bell className=\"h-4 w-4\" />\n            Notifications\n          </TabsTrigger>\n          <TabsTrigger value=\"security\" className=\"flex items-center gap-2\">\n            <Lock className=\"h-4 w-4\" />\n            Security\n          </TabsTrigger>\n        </TabsList>\n\n        {/* Profile Tab */}\n        <TabsContent value=\"profile\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Profile Information</CardTitle>\n              <CardDescription>Update your personal information and contact details</CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <Alert>\n                <Info className=\"h-4 w-4\" />\n                <AlertDescription>\n                  Username: <strong>{user?.username}</strong>\n                </AlertDescription>\n              </Alert>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"fullName\">Full Name</Label>\n                  <Input\n                    id=\"fullName\"\n                    value={profile.fullName}\n                    onChange={(e) => setProfile({...profile, fullName: e.target.value})}\n                    placeholder=\"Enter full name\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"email\">Email</Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    value={profile.email}\n                    onChange={(e) => setProfile({...profile, email: e.target.value})}\n                    placeholder=\"Enter email\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"role\">Role</Label>\n                  <div className=\"flex items-center gap-2\">\n                    <Badge variant={user?.role === 'ADMINISTRATOR' ? 'default' : 'secondary'}>\n                      {user?.role}\n                    </Badge>\n                    <span className=\"text-sm text-muted-foreground\">(role cannot be changed)</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end\">\n                <Button onClick={handleSaveProfile} disabled={isSaving}>\n                  {isSaving ? (\n                    <>\n                      <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n                      Saving...\n                    </>\n                  ) : (\n                    <>\n                      <Save className=\"h-4 w-4 mr-2\" />\n                      Save Profile\n                    </>\n                  )}\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Preferences Tab */}\n        <TabsContent value=\"preferences\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Display Preferences</CardTitle>\n              <CardDescription>Customize how the application looks and behaves for you</CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"theme\">Theme</Label>\n                  <Select\n                    value={preferences.theme}\n                    onValueChange={(value: 'light' | 'dark' | 'system') => {\n                      setPreferences({...preferences, theme: value})\n                      applyTheme(value)\n                    }}\n                  >\n                    <SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"light\">Light</SelectItem>\n                      <SelectItem value=\"dark\">Dark</SelectItem>\n                      <SelectItem value=\"system\">System</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"language\">Language</Label>\n                  <Select\n                    value={preferences.language}\n                    onValueChange={(value) => setPreferences({...preferences, language: value})}\n                  >\n                    <SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"en\">English</SelectItem>\n                      <SelectItem value=\"es\">Spanish</SelectItem>\n                      <SelectItem value=\"fr\">French</SelectItem>\n                      <SelectItem value=\"de\">German</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"dateFormat\">Date Format</Label>\n                  <Select\n                    value={preferences.dateFormat}\n                    onValueChange={(value) => setPreferences({...preferences, dateFormat: value})}\n                  >\n                    <SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"MM/DD/YYYY\">MM/DD/YYYY</SelectItem>\n                      <SelectItem value=\"DD/MM/YYYY\">DD/MM/YYYY</SelectItem>\n                      <SelectItem value=\"YYYY-MM-DD\">YYYY-MM-DD</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"timeFormat\">Time Format</Label>\n                  <Select\n                    value={preferences.timeFormat}\n                    onValueChange={(value: '12h' | '24h') => setPreferences({...preferences, timeFormat: value})}\n                  >\n                    <SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"12h\">12 Hour</SelectItem>\n                      <SelectItem value=\"24h\">24 Hour</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n\n              <Separator />\n\n              <div className=\"space-y-4\">\n                <h3 className=\"text-lg font-semibold\">Interface Options</h3>\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"space-y-0.5\">\n                      <Label htmlFor=\"compactMode\">Compact View</Label>\n                      <p className=\"text-sm text-muted-foreground\">\n                        Use a more condensed layout\n                      </p>\n                    </div>\n                    <Switch\n                      id=\"compactMode\"\n                      checked={preferences.compactMode}\n                      onCheckedChange={(checked) => setPreferences({...preferences, compactMode: checked})}\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end\">\n                <Button onClick={handleSavePreferences} disabled={isSaving}>\n                  {isSaving ? (\n                    <>\n                      <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n                      Saving...\n                    </>\n                  ) : (\n                    <>\n                      <Save className=\"h-4 w-4 mr-2\" />\n                      Save Preferences\n                    </>\n                  )}\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Notifications Tab */}\n        <TabsContent value=\"notifications\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Notification Preferences</CardTitle>\n              <CardDescription>Choose how you want to be notified about important events</CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <Alert>\n                <Info className=\"h-4 w-4\" />\n                <AlertDescription>\n                  These settings control personal notifications for file transfer operations and system events.\n                </AlertDescription>\n              </Alert>\n\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label htmlFor=\"emailNotifications\">Email Notifications</Label>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Receive notifications via email\n                    </p>\n                  </div>\n                  <Switch\n                    id=\"emailNotifications\"\n                    checked={preferences.emailNotifications}\n                    onCheckedChange={(checked) => setPreferences({...preferences, emailNotifications: checked})}\n                  />\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label htmlFor=\"soundAlerts\">Sound Alerts</Label>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Play sounds for important events\n                    </p>\n                  </div>\n                  <Switch\n                    id=\"soundAlerts\"\n                    checked={preferences.soundAlerts}\n                    onCheckedChange={(checked) => setPreferences({...preferences, soundAlerts: checked})}\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex justify-end\">\n                <Button onClick={handleSavePreferences} disabled={isSaving}>\n                  {isSaving ? (\n                    <>\n                      <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n                      Saving...\n                    </>\n                  ) : (\n                    <>\n                      <Save className=\"h-4 w-4 mr-2\" />\n                      Save Preferences\n                    </>\n                  )}\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Security Tab */}\n        <TabsContent value=\"security\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Change Password</CardTitle>\n              <CardDescription>Update your account password</CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"space-y-4 max-w-md\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"currentPassword\">Current Password</Label>\n                  <Input\n                    id=\"currentPassword\"\n                    type=\"password\"\n                    value={passwordForm.currentPassword}\n                    onChange={(e) => setPasswordForm({...passwordForm, currentPassword: e.target.value})}\n                    placeholder=\"Enter current password\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"newPassword\">New Password</Label>\n                  <Input\n                    id=\"newPassword\"\n                    type=\"password\"\n                    value={passwordForm.newPassword}\n                    onChange={(e) => setPasswordForm({...passwordForm, newPassword: e.target.value})}\n                    placeholder=\"Enter new password\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"confirmPassword\">Confirm New Password</Label>\n                  <Input\n                    id=\"confirmPassword\"\n                    type=\"password\"\n                    value={passwordForm.confirmPassword}\n                    onChange={(e) => setPasswordForm({...passwordForm, confirmPassword: e.target.value})}\n                    placeholder=\"Confirm new password\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex justify-end\">\n                <Button onClick={handleChangePassword} disabled={isSaving}>\n                  {isSaving ? (\n                    <>\n                      <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n                      Changing...\n                    </>\n                  ) : (\n                    <>\n                      <Lock className=\"h-4 w-4 mr-2\" />\n                      Change Password\n                    </>\n                  )}\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>Active Sessions</CardTitle>\n              <CardDescription>Manage your active login sessions</CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between p-4 border rounded-lg\">\n                  <div>\n                    <p className=\"font-medium\">Current Session</p>\n                    <p className=\"text-sm text-muted-foreground\">\n                      <Clock className=\"h-3 w-3 inline mr-1\" />\n                      Last active: Just now\n                    </p>\n                  </div>\n                  <Badge variant=\"secondary\">Active</Badge>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  )\n}","/**\n * Package Management Type Definitions\n * \n * Comprehensive type system for package management following OOP principles.\n * Provides strong typing for all package-related operations and data structures.\n * \n * @author Claude Code  \n * @since Package Management Frontend V1.0\n */\n\n// Core Package Types following domain modeling principles\n\n/**\n * Package status enumeration for type safety.\n */\nexport enum PackageStatus {\n  ACTIVE = 'ACTIVE'\n}\n\n/**\n * Package type enumeration for categorization.\n */\nexport enum PackageType {\n  INTEGRATION = 'INTEGRATION',\n  UTILITY = 'UTILITY',\n  TEMPLATE = 'TEMPLATE',\n  CUSTOM = 'CUSTOM'\n}\n\n/**\n * Asset type enumeration for package contents.\n */\nexport enum AssetType {\n  ADAPTER = 'ADAPTER',\n  FLOW = 'FLOW'\n}\n\n/**\n * Core integration package interface.\n * Represents a container for related adapters and flows.\n */\nexport interface IntegrationPackage {\n  id: string\n  name: string\n  description?: string\n  version: string\n  packageType: PackageType\n  status: PackageStatus\n  configuration: Record<string, unknown>\n  tags: string[]\n  createdAt: string\n  updatedAt: string\n  createdBy: string\n  updatedBy: string\n  // Additional properties for compatibility\n  type?: string\n  adapterCount?: number\n  flowCount?: number\n}\n\n/**\n * Package summary with asset statistics.\n * Used for dashboard and listing displays.\n */\nexport interface PackageSummary extends IntegrationPackage {\n  adapterCount: number\n  activeAdapterCount: number\n  flowCount: number\n  activeFlowCount: number\n  dependencyCount: number\n  totalAssetCount: number\n  totalActiveAssetCount: number\n  hasAssets: boolean\n  hasActiveAssets: boolean\n}\n\n/**\n * Package asset dependency relationship.\n */\nexport interface PackageAssetDependency {\n  id: string\n  packageId: string\n  assetType: AssetType\n  assetId: string\n  dependsOnAssetType: AssetType\n  dependsOnAssetId: string\n  dependentAssetId?: string  // Alias for backward compatibility\n  dependencyType: string\n  createdAt: string\n  createdBy: string\n}\n\n/**\n * Generic package asset representation.\n * Unified interface for adapters and flows within packages.\n */\nexport interface PackageAsset {\n  id?: string\n  assetType: AssetType\n  assetId: string\n  name: string\n  description?: string\n  packageId: string\n  active: boolean\n  enabled?: boolean\n  status?: string\n  createdAt: string\n  updatedAt: string\n  // Adapter-specific properties\n  adapterType?: string\n  direction?: string\n  // Flow-specific properties\n  flowType?: string\n  sourceAdapterId?: string\n  targetAdapterId?: string\n  deploymentStatus?: string\n  executionCount?: number\n}\n\n/**\n * Package container with all assets and dependencies.\n * Complete package structure for workspace operations.\n */\nexport interface PackageContainer {\n  packageInfo: IntegrationPackage\n  package: IntegrationPackage  // Alias for backward compatibility\n  adapters: PackageAsset[]\n  flows: PackageAsset[]\n  dependencies: PackageAssetDependency[]\n  totalAssetCount: number\n  hasAssets: boolean\n}\n\n/**\n * Package asset summary with statistics.\n */\nexport interface PackageAssetsSummary {\n  packageInfo: IntegrationPackage\n  totalAdapters: number\n  activeAdapters: number\n  totalFlows: number\n  activeFlows: number\n  totalDependencies: number\n  totalAssets: number\n  totalActiveAssets: number\n}\n\n/**\n * Circular dependency detection result.\n */\nexport interface CircularDependency {\n  cycle: string[]\n  cycleLength: number\n}\n\n/**\n * Package dependency validation result.\n */\nexport interface PackageDependencyValidation {\n  packageId: string\n  isValid: boolean\n  circularDependencies: CircularDependency[]\n  hasCircularDependencies: boolean\n}\n\n/**\n * Package deployment readiness assessment.\n */\nexport interface PackageDeploymentReadiness {\n  packageInfo: IntegrationPackage\n  isReady: boolean\n  issues: string[]\n  readinessMetrics: Record<string, unknown>\n}\n\n/**\n * Asset dependency information.\n */\nexport interface AssetDependencyInfo {\n  assetType: AssetType\n  assetId: string\n  dependencies: PackageAssetDependency[]\n  dependents: PackageAssetDependency[]\n  hasDependencies: boolean\n  hasDependents: boolean\n}\n\n// Request/Response DTOs following API contract patterns\n\n/**\n * Package creation request DTO.\n */\nexport interface CreatePackageRequest {\n  name: string\n  description?: string\n  version: string\n  packageType: PackageType\n  configuration?: Record<string, unknown>\n  tags?: string[]\n}\n\n/**\n * Package update request DTO.\n */\nexport interface UpdatePackageRequest {\n  name?: string\n  description?: string\n  version?: string\n  packageType?: PackageType\n  status?: PackageStatus\n  configuration?: Record<string, unknown>\n  tags?: string[]\n}\n\n\n/**\n * Package search and filter criteria.\n */\nexport interface PackageSearchCriteria {\n  searchTerm?: string\n  packageTypes?: PackageType[]\n  statuses?: PackageStatus[]\n  tags?: string[]\n  createdBy?: string\n  sortBy?: 'name' | 'createdAt' | 'updatedAt' | 'totalAssetCount'\n  sortOrder?: 'asc' | 'desc'\n  limit?: number\n  offset?: number\n}\n\n/**\n * Package search result with metadata.\n */\nexport interface PackageSearchResult {\n  packages: PackageSummary[]\n  totalCount: number\n  hasNextPage: boolean\n  hasPreviousPage: boolean\n}\n\n/**\n * Asset search criteria within packages.\n */\nexport interface AssetSearchCriteria {\n  searchTerm?: string\n  assetTypes?: AssetType[]\n  packageIds?: string[]\n  activeOnly?: boolean\n}\n\n/**\n * Move asset between packages request.\n */\nexport interface MoveAssetRequest {\n  targetPackageId: string\n  reason?: string\n}\n\n// UI State Management Types following state pattern\n\n/**\n * Package workspace UI state.\n */\nexport interface PackageWorkspaceState {\n  currentPackageId?: string\n  selectedAssets: Set<string>\n  activeTab: 'overview' | 'adapters' | 'flows' | 'dependencies'\n  isLoading: boolean\n  error?: string\n}\n\n/**\n * Package library UI state.\n */\nexport interface PackageLibraryState {\n  searchCriteria: PackageSearchCriteria\n  selectedPackages: Set<string>\n  viewMode: 'grid' | 'list'\n  isCreating: boolean\n  showCreateModal: boolean\n}\n\n/**\n * Package statistics for dashboard display.\n */\nexport interface PackageStatistics {\n  totalPackages: number\n  activePackages: number\n  totalAssets: number\n  averageAssetsPerPackage: number\n  packagesByType: Record<PackageType, number>\n  recentActivity: PackageActivity[]\n}\n\n/**\n * Package activity for audit trail.\n */\nexport interface PackageActivity {\n  id: string\n  packageId: string\n  packageName: string\n  action: 'CREATED' | 'UPDATED' | 'ASSET_ADDED' | 'ASSET_REMOVED' | 'ASSET_MOVED'\n  description: string\n  userId: string\n  userDisplayName: string\n  timestamp: string\n  metadata?: Record<string, unknown>\n}\n\n// Error Types following exception hierarchy\n\n/**\n * Package-related error types.\n */\nexport enum PackageErrorType {\n  NOT_FOUND = 'NOT_FOUND',\n  VALIDATION_ERROR = 'VALIDATION_ERROR',\n  DEPENDENCY_ERROR = 'DEPENDENCY_ERROR',\n  PERMISSION_ERROR = 'PERMISSION_ERROR',\n  CONFLICT_ERROR = 'CONFLICT_ERROR',\n  NETWORK_ERROR = 'NETWORK_ERROR'\n}\n\n/**\n * Package operation error.\n */\nexport interface PackageError {\n  type: PackageErrorType\n  message: string\n  details?: Record<string, unknown>\n  packageId?: string\n  timestamp: string\n}\n\n/**\n * Package validation result.\n */\nexport interface PackageValidationResult {\n  isValid: boolean\n  errors: string[]\n  warnings: string[]\n}\n\n// API Response Types following consistent response pattern\n\n/**\n * Standard API response wrapper.\n */\nexport interface ApiResponse<T> {\n  success: boolean\n  message: string\n  data?: T\n  error?: string\n  timestamp?: string\n}\n\n/**\n * Paginated response wrapper.\n */\nexport interface PaginatedResponse<T> {\n  items: T[]\n  totalCount: number\n  pageSize: number\n  currentPage: number\n  totalPages: number\n  hasNextPage: boolean\n  hasPreviousPage: boolean\n}\n\n/**\n * Package operation result for async operations.\n */\nexport interface PackageOperationResult {\n  operationId: string\n  packageId: string\n  status: 'PENDING' | 'IN_PROGRESS' | 'COMPLETED' | 'FAILED'\n  startedAt: string\n  completedAt?: string\n  result?: unknown\n  error?: string\n}","import React from 'react';\nimport { formatDistanceToNow } from 'date-fns';\nimport {\n  Package,\n  Boxes,\n  Workflow,\n  CheckCircle,\n  Clock,\n  Archive,\n  AlertTriangle,\n  Edit,\n  Trash2,\n  FolderOpen,\n  Download,\n  Eye\n} from 'lucide-react';\n\nimport { PackageSummary, PackageStatus } from '@/types/package';\nimport { Card, CardContent, CardHeader } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\n\ninterface PackageCardProps {\n  packageItem: PackageSummary;\n  onSelect: (packageItem: PackageSummary) => void;\n  isSelected: boolean;\n  onToggleSelect: (selected: boolean) => void;\n  onEdit?: (packageItem: PackageSummary) => void;\n  onArchive?: (packageItem: PackageSummary) => void;\n  onDelete?: (packageItem: PackageSummary) => void;\n  onExport?: (packageItem: PackageSummary) => void;\n}\n\n/**\n * Package card component for displaying package information in grid view\n */\nconst PackageCard: React.FC<PackageCardProps> = ({\n  packageItem: pkg,\n  onSelect,\n  isSelected,\n  onToggleSelect,\n  onEdit,\n  onArchive,\n  onDelete,\n  onExport\n}) => {\n  // Status configuration - all packages are always active\n  const statusInfo = {\n    icon: CheckCircle,\n    variant: 'default' as const,\n    color: 'text-green-600',\n    label: 'Active'\n  };\n  const StatusIcon = statusInfo.icon;\n  \n  // Event handlers\n  const handleCardClick = (e: React.MouseEvent) => {\n    // Prevent selection toggle when clicking action buttons\n    if ((e.target as HTMLElement).closest('[data-action]') ||\n        (e.target as HTMLElement).closest('button')) {\n      return;\n    }\n\n    onSelect(pkg);\n  };\n\n  const handleSelectToggle = (e: React.ChangeEvent<HTMLInputElement>) => {\n    e.stopPropagation();\n    onToggleSelect(e.target.checked);\n  };\n  \n  return (\n    <Card\n      className={cn(\n        \"group relative cursor-pointer transition-all duration-200 hover:shadow-md\",\n        \"border border-border hover:border-primary/50 flex flex-col\",\n        isSelected && \"ring-2 ring-primary ring-opacity-50 bg-primary/5\"\n      )}\n      onClick={handleCardClick}\n    >\n      {/* Selection indicator */}\n      <div className=\"absolute top-3 left-3 z-10\">\n        <input\n          type=\"checkbox\"\n          checked={isSelected}\n          onChange={handleSelectToggle}\n          className=\"rounded border-gray-300 focus:ring-primary\"\n          data-action=\"select\"\n        />\n      </div>\n\n      <CardHeader className=\"pb-3 pt-10\">\n        <div className=\"flex items-center gap-2\">\n          <Package className=\"h-5 w-5 text-primary\" />\n          <div className=\"flex-1 min-w-0\">\n            <h3 className=\"font-semibold truncate\">{pkg.name}</h3>\n            <div className=\"flex items-center gap-2 mt-1\">\n              <Badge variant={statusInfo.variant} className=\"text-xs\">\n                <StatusIcon className=\"h-3 w-3 mr-1\" />\n                {statusInfo.label}\n              </Badge>\n            </div>\n          </div>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-4 flex-1 flex flex-col\">\n        {/* Description */}\n        {pkg.description && (\n          <p className=\"text-sm text-muted-foreground line-clamp-2\">\n            {pkg.description}\n          </p>\n        )}\n\n        {/* Asset Statistics */}\n        <div className=\"grid grid-cols-2 gap-4 text-sm\">\n          <div className=\"flex items-center gap-2\">\n            <Boxes className=\"h-4 w-4 text-blue-500\" />\n            <div>\n              <div className=\"font-medium\">{pkg.adapterCount}</div>\n              <div className=\"text-xs text-muted-foreground\">Adapters</div>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Workflow className=\"h-4 w-4 text-purple-500\" />\n            <div>\n              <div className=\"font-medium\">{pkg.flowCount}</div>\n              <div className=\"text-xs text-muted-foreground\">Flows</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Active Assets Summary */}\n        {pkg.totalActiveAssetCount > 0 && (\n          <div className=\"flex items-center gap-2 text-sm\">\n            <div className=\"h-2 w-2 bg-green-500 rounded-full\" />\n            <span className=\"text-muted-foreground\">\n              {pkg.totalActiveAssetCount} active asset{pkg.totalActiveAssetCount !== 1 ? 's' : ''}\n            </span>\n          </div>\n        )}\n\n        {/* Tags */}\n        {pkg.tags && pkg.tags.length > 0 && (\n          <div className=\"flex flex-wrap gap-1\">\n            {pkg.tags.slice(0, 3).map((tag) => (\n              <Badge key={tag} variant=\"secondary\" className=\"text-xs px-2 py-0.5\">\n                {tag}\n              </Badge>\n            ))}\n            {pkg.tags.length > 3 && (\n              <Badge variant=\"secondary\" className=\"text-xs px-2 py-0.5\">\n                +{pkg.tags.length - 3}\n              </Badge>\n            )}\n          </div>\n        )}\n\n        {/* Spacer to push footer and actions to bottom */}\n        <div className=\"flex-1\" />\n\n        {/* Footer */}\n        <div className=\"pt-2 border-t border-border/50\">\n          <div className=\"flex items-center justify-between text-xs text-muted-foreground mb-3\">\n            <div>v{pkg.version}</div>\n            <div>\n              {pkg.updatedAt\n                ? `Updated ${formatDistanceToNow(new Date(pkg.updatedAt), { addSuffix: true })}`\n                : `Created ${formatDistanceToNow(new Date(pkg.createdAt), { addSuffix: true })}`\n              }\n            </div>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex gap-2 flex-wrap justify-end\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={(e) => {\n                e.stopPropagation();\n                onSelect(pkg);\n              }}\n            >\n              <Eye className=\"h-3 w-3 mr-1\" />\n              View Details\n            </Button>\n            {onEdit && (\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onEdit(pkg);\n                }}\n              >\n                <Edit className=\"h-3 w-3 mr-1\" />\n                Edit\n              </Button>\n            )}\n            {onExport && (\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onExport(pkg);\n                }}\n              >\n                <Download className=\"h-3 w-3 mr-1\" />\n                Export\n              </Button>\n            )}\n            {onDelete && (\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onDelete(pkg);\n                }}\n                className=\"text-red-600 hover:text-red-700 hover:bg-red-50\"\n              >\n                <Trash2 className=\"h-3 w-3 mr-1\" />\n                Delete\n              </Button>\n            )}\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default PackageCard;","import React from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog'\r\n\r\ninterface ConfirmationModalProps {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n  title?: string\r\n  message: string\r\n  confirmLabel?: string\r\n  cancelLabel?: string\r\n  variant?: 'default' | 'destructive'\r\n  onConfirm: () => void\r\n}\r\n\r\nexport const ConfirmationModal: React.FC<ConfirmationModalProps> = ({\r\n  open,\r\n  onOpenChange,\r\n  title = 'Confirm Action',\r\n  message,\r\n  confirmLabel = 'OK',\r\n  cancelLabel = 'Cancel',\r\n  variant = 'default',\r\n  onConfirm,\r\n}) => {\r\n  const handleConfirm = () => {\r\n    onConfirm()\r\n    onOpenChange(false)\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-lg\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"text-xl font-semibold\">\r\n            {title}\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <div className=\"py-2\">\r\n          <p className=\"text-sm text-muted-foreground leading-relaxed\">{message}</p>\r\n        </div>\r\n\r\n        <DialogFooter className=\"flex gap-2 sm:justify-end\">\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={() => onOpenChange(false)}\r\n            className=\"px-6\"\r\n          >\r\n            {cancelLabel}\r\n          </Button>\r\n          <Button\r\n            variant={variant}\r\n            onClick={handleConfirm}\r\n            className=\"px-6\"\r\n          >\r\n            {confirmLabel}\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n","\"use client\";\n\n// src/checkbox.tsx\nimport * as React from \"react\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar CHECKBOX_NAME = \"Checkbox\";\nvar [createCheckboxContext, createCheckboxScope] = createContextScope(CHECKBOX_NAME);\nvar [CheckboxProviderImpl, useCheckboxContext] = createCheckboxContext(CHECKBOX_NAME);\nfunction CheckboxProvider(props) {\n  const {\n    __scopeCheckbox,\n    checked: checkedProp,\n    children,\n    defaultChecked,\n    disabled,\n    form,\n    name,\n    onCheckedChange,\n    required,\n    value = \"on\",\n    // @ts-expect-error\n    internal_do_not_use_render\n  } = props;\n  const [checked, setChecked] = useControllableState({\n    prop: checkedProp,\n    defaultProp: defaultChecked ?? false,\n    onChange: onCheckedChange,\n    caller: CHECKBOX_NAME\n  });\n  const [control, setControl] = React.useState(null);\n  const [bubbleInput, setBubbleInput] = React.useState(null);\n  const hasConsumerStoppedPropagationRef = React.useRef(false);\n  const isFormControl = control ? !!form || !!control.closest(\"form\") : (\n    // We set this to true by default so that events bubble to forms without JS (SSR)\n    true\n  );\n  const context = {\n    checked,\n    disabled,\n    setChecked,\n    control,\n    setControl,\n    name,\n    form,\n    value,\n    hasConsumerStoppedPropagationRef,\n    required,\n    defaultChecked: isIndeterminate(defaultChecked) ? false : defaultChecked,\n    isFormControl,\n    bubbleInput,\n    setBubbleInput\n  };\n  return /* @__PURE__ */ jsx(\n    CheckboxProviderImpl,\n    {\n      scope: __scopeCheckbox,\n      ...context,\n      children: isFunction(internal_do_not_use_render) ? internal_do_not_use_render(context) : children\n    }\n  );\n}\nvar TRIGGER_NAME = \"CheckboxTrigger\";\nvar CheckboxTrigger = React.forwardRef(\n  ({ __scopeCheckbox, onKeyDown, onClick, ...checkboxProps }, forwardedRef) => {\n    const {\n      control,\n      value,\n      disabled,\n      checked,\n      required,\n      setControl,\n      setChecked,\n      hasConsumerStoppedPropagationRef,\n      isFormControl,\n      bubbleInput\n    } = useCheckboxContext(TRIGGER_NAME, __scopeCheckbox);\n    const composedRefs = useComposedRefs(forwardedRef, setControl);\n    const initialCheckedStateRef = React.useRef(checked);\n    React.useEffect(() => {\n      const form = control?.form;\n      if (form) {\n        const reset = () => setChecked(initialCheckedStateRef.current);\n        form.addEventListener(\"reset\", reset);\n        return () => form.removeEventListener(\"reset\", reset);\n      }\n    }, [control, setChecked]);\n    return /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        role: \"checkbox\",\n        \"aria-checked\": isIndeterminate(checked) ? \"mixed\" : checked,\n        \"aria-required\": required,\n        \"data-state\": getState(checked),\n        \"data-disabled\": disabled ? \"\" : void 0,\n        disabled,\n        value,\n        ...checkboxProps,\n        ref: composedRefs,\n        onKeyDown: composeEventHandlers(onKeyDown, (event) => {\n          if (event.key === \"Enter\") event.preventDefault();\n        }),\n        onClick: composeEventHandlers(onClick, (event) => {\n          setChecked((prevChecked) => isIndeterminate(prevChecked) ? true : !prevChecked);\n          if (bubbleInput && isFormControl) {\n            hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n            if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n          }\n        })\n      }\n    );\n  }\n);\nCheckboxTrigger.displayName = TRIGGER_NAME;\nvar Checkbox = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeCheckbox,\n      name,\n      checked,\n      defaultChecked,\n      required,\n      disabled,\n      value,\n      onCheckedChange,\n      form,\n      ...checkboxProps\n    } = props;\n    return /* @__PURE__ */ jsx(\n      CheckboxProvider,\n      {\n        __scopeCheckbox,\n        checked,\n        defaultChecked,\n        disabled,\n        required,\n        onCheckedChange,\n        name,\n        form,\n        value,\n        internal_do_not_use_render: ({ isFormControl }) => /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(\n            CheckboxTrigger,\n            {\n              ...checkboxProps,\n              ref: forwardedRef,\n              __scopeCheckbox\n            }\n          ),\n          isFormControl && /* @__PURE__ */ jsx(\n            CheckboxBubbleInput,\n            {\n              __scopeCheckbox\n            }\n          )\n        ] })\n      }\n    );\n  }\n);\nCheckbox.displayName = CHECKBOX_NAME;\nvar INDICATOR_NAME = \"CheckboxIndicator\";\nvar CheckboxIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeCheckbox, forceMount, ...indicatorProps } = props;\n    const context = useCheckboxContext(INDICATOR_NAME, __scopeCheckbox);\n    return /* @__PURE__ */ jsx(\n      Presence,\n      {\n        present: forceMount || isIndeterminate(context.checked) || context.checked === true,\n        children: /* @__PURE__ */ jsx(\n          Primitive.span,\n          {\n            \"data-state\": getState(context.checked),\n            \"data-disabled\": context.disabled ? \"\" : void 0,\n            ...indicatorProps,\n            ref: forwardedRef,\n            style: { pointerEvents: \"none\", ...props.style }\n          }\n        )\n      }\n    );\n  }\n);\nCheckboxIndicator.displayName = INDICATOR_NAME;\nvar BUBBLE_INPUT_NAME = \"CheckboxBubbleInput\";\nvar CheckboxBubbleInput = React.forwardRef(\n  ({ __scopeCheckbox, ...props }, forwardedRef) => {\n    const {\n      control,\n      hasConsumerStoppedPropagationRef,\n      checked,\n      defaultChecked,\n      required,\n      disabled,\n      name,\n      value,\n      form,\n      bubbleInput,\n      setBubbleInput\n    } = useCheckboxContext(BUBBLE_INPUT_NAME, __scopeCheckbox);\n    const composedRefs = useComposedRefs(forwardedRef, setBubbleInput);\n    const prevChecked = usePrevious(checked);\n    const controlSize = useSize(control);\n    React.useEffect(() => {\n      const input = bubbleInput;\n      if (!input) return;\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        inputProto,\n        \"checked\"\n      );\n      const setChecked = descriptor.set;\n      const bubbles = !hasConsumerStoppedPropagationRef.current;\n      if (prevChecked !== checked && setChecked) {\n        const event = new Event(\"click\", { bubbles });\n        input.indeterminate = isIndeterminate(checked);\n        setChecked.call(input, isIndeterminate(checked) ? false : checked);\n        input.dispatchEvent(event);\n      }\n    }, [bubbleInput, prevChecked, checked, hasConsumerStoppedPropagationRef]);\n    const defaultCheckedRef = React.useRef(isIndeterminate(checked) ? false : checked);\n    return /* @__PURE__ */ jsx(\n      Primitive.input,\n      {\n        type: \"checkbox\",\n        \"aria-hidden\": true,\n        defaultChecked: defaultChecked ?? defaultCheckedRef.current,\n        required,\n        disabled,\n        name,\n        value,\n        form,\n        ...props,\n        tabIndex: -1,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          ...controlSize,\n          position: \"absolute\",\n          pointerEvents: \"none\",\n          opacity: 0,\n          margin: 0,\n          // We transform because the input is absolutely positioned but we have\n          // rendered it **after** the button. This pulls it back to sit on top\n          // of the button.\n          transform: \"translateX(-100%)\"\n        }\n      }\n    );\n  }\n);\nCheckboxBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction isIndeterminate(checked) {\n  return checked === \"indeterminate\";\n}\nfunction getState(checked) {\n  return isIndeterminate(checked) ? \"indeterminate\" : checked ? \"checked\" : \"unchecked\";\n}\nexport {\n  Checkbox,\n  CheckboxIndicator,\n  CheckboxIndicator as Indicator,\n  Checkbox as Root,\n  createCheckboxScope,\n  CheckboxBubbleInput as unstable_BubbleInput,\n  CheckboxBubbleInput as unstable_CheckboxBubbleInput,\n  CheckboxProvider as unstable_CheckboxProvider,\n  CheckboxTrigger as unstable_CheckboxTrigger,\n  CheckboxProvider as unstable_Provider,\n  CheckboxTrigger as unstable_Trigger\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }","import React, { useState, useEffect } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { Package, Download, X, Loader2, FileJson } from 'lucide-react';\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { api } from '@/lib/api';\nimport { Badge } from '@/components/ui/badge';\n\ninterface PackageExportModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  packageId: string;\n  packageName: string;\n}\n\ninterface Flow {\n  id: string;\n  name: string;\n  description?: string;\n  active: boolean;\n  flowDefinition?: string;\n}\n\ninterface Adapter {\n  id: string;\n  name: string;\n  type: string;\n  direction: string;\n  active: boolean;\n  configuration?: Record<string, any>;\n}\n\n/**\n * Package Export Modal\n * Allows users to select which flows to export along with their relevant adapters\n */\nexport const PackageExportModal: React.FC<PackageExportModalProps> = ({\n  open,\n  onOpenChange,\n  packageId,\n  packageName\n}) => {\n  const [selectedFlowIds, setSelectedFlowIds] = useState<Set<string>>(new Set());\n  const [isExporting, setIsExporting] = useState(false);\n\n  // Fetch package container with all assets\n  const { data: containerData, isLoading } = useQuery({\n    queryKey: ['package-container', packageId],\n    queryFn: async () => {\n      const response = await api.get(`/api/packages/${packageId}/container`);\n      return response.data?.data || response.data;\n    },\n    enabled: open && !!packageId\n  });\n\n  // Fetch flows for this package\n  const { data: flowsData } = useQuery({\n    queryKey: ['package-flows-export', packageId],\n    queryFn: async () => {\n      const response = await api.get(`/api/flows/package/${packageId}`);\n      return response.data?.data || response.data || [];\n    },\n    enabled: open && !!packageId\n  });\n\n  // Fetch adapters for this package\n  const { data: adaptersData } = useQuery({\n    queryKey: ['package-adapters-export', packageId],\n    queryFn: async () => {\n      const response = await api.get(`/api/adapters/package/${packageId}`);\n      return response.data?.data || response.data || [];\n    },\n    enabled: open && !!packageId\n  });\n\n  const flows: Flow[] = Array.isArray(flowsData) ? flowsData : [];\n  const adapters: Adapter[] = Array.isArray(adaptersData) ? adaptersData : [];\n\n  // Reset selections when modal opens\n  useEffect(() => {\n    if (open) {\n      setSelectedFlowIds(new Set());\n    }\n  }, [open]);\n\n  // Toggle flow selection\n  const toggleFlow = (flowId: string) => {\n    setSelectedFlowIds(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(flowId)) {\n        newSet.delete(flowId);\n      } else {\n        newSet.add(flowId);\n      }\n      return newSet;\n    });\n  };\n\n  // Select all flows\n  const selectAll = () => {\n    setSelectedFlowIds(new Set(flows.map(f => f.id)));\n  };\n\n  // Deselect all flows\n  const deselectAll = () => {\n    setSelectedFlowIds(new Set());\n  };\n\n  // Extract adapter IDs used by selected flows\n  const getAdapterIdsFromFlows = (selectedFlows: Flow[]): Set<string> => {\n    const adapterIds = new Set<string>();\n\n    selectedFlows.forEach(flow => {\n      if (flow.flowDefinition) {\n        try {\n          const definition = typeof flow.flowDefinition === 'string'\n            ? JSON.parse(flow.flowDefinition)\n            : flow.flowDefinition;\n\n          if (definition.nodes && Array.isArray(definition.nodes)) {\n            definition.nodes.forEach((node: any) => {\n              const nodeType = node.type;\n              if (nodeType && (nodeType.includes('SENDER') || nodeType.includes('RECEIVER'))) {\n                const adapterId = node.data?.adapterId;\n                if (adapterId) {\n                  adapterIds.add(adapterId);\n                }\n              }\n            });\n          }\n        } catch (error) {\n          console.error(`Failed to parse flow definition for flow ${flow.id}:`, error);\n        }\n      }\n    });\n\n    return adapterIds;\n  };\n\n  // Handle export\n  const handleExport = async () => {\n    if (selectedFlowIds.size === 0) {\n      return;\n    }\n\n    setIsExporting(true);\n\n    try {\n      // Call backend to export and encrypt the package\n      const response = await api.post(`/api/packages/${packageId}/export`, {\n        selectedFlowIds: Array.from(selectedFlowIds)\n      });\n\n      const encryptedData = response.data?.data || response.data;\n\n      // Create and download encrypted JSON file\n      const dataStr = JSON.stringify(encryptedData, null, 2);\n      const dataBlob = new Blob([dataStr], { type: 'application/json' });\n\n      const url = URL.createObjectURL(dataBlob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `${packageName}_export_encrypted_${new Date().toISOString().split('T')[0]}.h2hpkg`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n\n      // Close modal and show success\n      onOpenChange(false);\n    } catch (error: any) {\n      console.error('Failed to export package:', error);\n      alert('Failed to export package: ' + (error.response?.data?.message || error.message));\n    } finally {\n      setIsExporting(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-2xl max-h-[80vh] flex flex-col\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Package className=\"h-5 w-5 text-primary\" />\n            Export Package: {packageName}\n          </DialogTitle>\n          <DialogDescription>\n            Select which flows you want to export. The relevant adapters for each flow will be included automatically.\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"flex-1 overflow-auto\">\n          {isLoading ? (\n            <div className=\"flex items-center justify-center h-40\">\n              <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n            </div>\n          ) : flows.length === 0 ? (\n            <div className=\"text-center py-8 text-muted-foreground\">\n              <FileJson className=\"h-12 w-12 mx-auto mb-3 opacity-50\" />\n              <p>No flows available to export</p>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {/* Selection controls */}\n              <div className=\"flex items-center justify-between pb-3 border-b\">\n                <div className=\"text-sm font-medium\">\n                  {selectedFlowIds.size} of {flows.length} flow{flows.length !== 1 ? 's' : ''} selected\n                </div>\n                <div className=\"flex gap-2\">\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={selectAll}\n                    disabled={selectedFlowIds.size === flows.length}\n                  >\n                    Select All\n                  </Button>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={deselectAll}\n                    disabled={selectedFlowIds.size === 0}\n                  >\n                    Deselect All\n                  </Button>\n                </div>\n              </div>\n\n              {/* Flow list */}\n              <div className=\"space-y-2\">\n                {flows.map(flow => {\n                  const isSelected = selectedFlowIds.has(flow.id);\n\n                  return (\n                    <div\n                      key={flow.id}\n                      className={`p-3 border rounded-lg cursor-pointer transition-colors hover:bg-accent ${\n                        isSelected ? 'bg-accent border-primary' : ''\n                      }`}\n                      onClick={() => toggleFlow(flow.id)}\n                    >\n                      <div className=\"flex items-start gap-3\">\n                        <Checkbox\n                          checked={isSelected}\n                          onCheckedChange={() => toggleFlow(flow.id)}\n                          onClick={(e) => e.stopPropagation()}\n                        />\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-center gap-2 mb-1\">\n                            <span className=\"font-medium text-sm\">{flow.name}</span>\n                            {flow.active && (\n                              <Badge variant=\"outline\" className=\"text-xs\">\n                                Active\n                              </Badge>\n                            )}\n                          </div>\n                          {flow.description && (\n                            <p className=\"text-xs text-muted-foreground line-clamp-1\">\n                              {flow.description}\n                            </p>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Footer actions */}\n        <div className=\"flex items-center justify-between pt-4 border-t\">\n          <div className=\"text-sm text-muted-foreground\">\n            {selectedFlowIds.size > 0 && (\n              <span>\n                Exporting {selectedFlowIds.size} flow{selectedFlowIds.size !== 1 ? 's' : ''} with their adapters\n              </span>\n            )}\n          </div>\n          <div className=\"flex gap-2\">\n            <Button\n              variant=\"outline\"\n              onClick={() => onOpenChange(false)}\n              disabled={isExporting}\n            >\n              <X className=\"h-4 w-4 mr-2\" />\n              Cancel\n            </Button>\n            <Button\n              onClick={handleExport}\n              disabled={selectedFlowIds.size === 0 || isExporting}\n            >\n              {isExporting ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                  Exporting...\n                </>\n              ) : (\n                <>\n                  <Download className=\"h-4 w-4 mr-2\" />\n                  Export Selected\n                </>\n              )}\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default PackageExportModal;\n","import React, { useState } from 'react';\nimport { Upload, X, FileJson, Loader2, CheckCircle, AlertTriangle } from 'lucide-react';\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { api } from '@/lib/api';\n\ninterface PackageImportModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onImportSuccess: () => void;\n}\n\n/**\n * Package Import Modal\n * Allows users to upload and import encrypted package files\n */\nexport const PackageImportModal: React.FC<PackageImportModalProps> = ({\n  open,\n  onOpenChange,\n  onImportSuccess\n}) => {\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [isImporting, setIsImporting] = useState(false);\n  const [importResult, setImportResult] = useState<{\n    success: boolean;\n    message: string;\n    details?: any;\n  } | null>(null);\n\n  const handleFileSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      setSelectedFile(file);\n      setImportResult(null);\n    }\n  };\n\n  const handleDrop = (event: React.DragEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    const file = event.dataTransfer.files?.[0];\n    if (file && (file.name.endsWith('.h2hpkg') || file.name.endsWith('.json'))) {\n      setSelectedFile(file);\n      setImportResult(null);\n    }\n  };\n\n  const handleDragOver = (event: React.DragEvent<HTMLDivElement>) => {\n    event.preventDefault();\n  };\n\n  const handleImport = async () => {\n    if (!selectedFile) return;\n\n    setIsImporting(true);\n    setImportResult(null);\n\n    try {\n      // Read file content\n      const fileContent = await selectedFile.text();\n      const packageData = JSON.parse(fileContent);\n\n      // Call backend to import the package\n      const response = await api.post('/api/packages/import', packageData);\n\n      const result = response.data?.data || response.data;\n\n      setImportResult({\n        success: true,\n        message: 'Package imported successfully!',\n        details: result\n      });\n\n      // Notify parent and close after a delay\n      setTimeout(() => {\n        onImportSuccess();\n        onOpenChange(false);\n        // Reset state\n        setSelectedFile(null);\n        setImportResult(null);\n      }, 2000);\n\n    } catch (error: any) {\n      console.error('Failed to import package:', error);\n      setImportResult({\n        success: false,\n        message: error.response?.data?.message || error.message || 'Failed to import package'\n      });\n    } finally {\n      setIsImporting(false);\n    }\n  };\n\n  const handleClose = () => {\n    if (!isImporting) {\n      setSelectedFile(null);\n      setImportResult(null);\n      onOpenChange(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={handleClose}>\n      <DialogContent className=\"max-w-lg\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Upload className=\"h-5 w-5 text-primary\" />\n            Import Package\n          </DialogTitle>\n          <DialogDescription>\n            Upload an encrypted package file (.h2hpkg) to import flows and adapters.\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4\">\n          {/* File Upload Area */}\n          {!selectedFile && !importResult && (\n            <div\n              className=\"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-primary transition-colors\"\n              onDrop={handleDrop}\n              onDragOver={handleDragOver}\n              onClick={() => document.getElementById('file-input')?.click()}\n            >\n              <FileJson className=\"h-12 w-12 mx-auto mb-3 text-gray-400\" />\n              <p className=\"text-sm text-muted-foreground mb-2\">\n                Drag and drop your package file here, or click to browse\n              </p>\n              <p className=\"text-xs text-muted-foreground\">\n                Supports .h2hpkg and .json files\n              </p>\n              <input\n                id=\"file-input\"\n                type=\"file\"\n                accept=\".h2hpkg,.json\"\n                onChange={handleFileSelect}\n                className=\"hidden\"\n              />\n            </div>\n          )}\n\n          {/* Selected File Display */}\n          {selectedFile && !importResult && (\n            <div className=\"border border-gray-300 rounded-lg p-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  <FileJson className=\"h-8 w-8 text-blue-500\" />\n                  <div>\n                    <p className=\"font-medium text-sm\">{selectedFile.name}</p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      {(selectedFile.size / 1024).toFixed(2)} KB\n                    </p>\n                  </div>\n                </div>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => setSelectedFile(null)}\n                  disabled={isImporting}\n                >\n                  <X className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            </div>\n          )}\n\n          {/* Import Result */}\n          {importResult && (\n            <div className={`border rounded-lg p-4 ${\n              importResult.success ? 'border-green-300 bg-green-50' : 'border-red-300 bg-red-50'\n            }`}>\n              <div className=\"flex items-start gap-3\">\n                {importResult.success ? (\n                  <CheckCircle className=\"h-5 w-5 text-green-600 mt-0.5\" />\n                ) : (\n                  <AlertTriangle className=\"h-5 w-5 text-red-600 mt-0.5\" />\n                )}\n                <div className=\"flex-1\">\n                  <p className={`font-medium text-sm ${\n                    importResult.success ? 'text-green-800' : 'text-red-800'\n                  }`}>\n                    {importResult.message}\n                  </p>\n                  {importResult.success && importResult.details && (\n                    <div className=\"mt-2 text-xs text-green-700 space-y-1\">\n                      <p> Package: {importResult.details.packageName}</p>\n                      <p> Adapters imported: {importResult.details.adaptersImported}</p>\n                      <p> Flows imported: {importResult.details.flowsImported}</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Action Buttons */}\n          <div className=\"flex justify-end gap-2 pt-2\">\n            <Button\n              variant=\"outline\"\n              onClick={handleClose}\n              disabled={isImporting}\n            >\n              <X className=\"h-4 w-4 mr-2\" />\n              Cancel\n            </Button>\n            <Button\n              onClick={handleImport}\n              disabled={!selectedFile || isImporting || importResult?.success === true}\n            >\n              {isImporting ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                  Importing...\n                </>\n              ) : (\n                <>\n                  <Upload className=\"h-4 w-4 mr-2\" />\n                  Import Package\n                </>\n              )}\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default PackageImportModal;\n","import React, { useState, useEffect } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Package,\n  Plus,\n  Search,\n  Filter,\n  Grid3x3,\n  List,\n  MoreVertical,\n  Upload\n} from 'lucide-react';\n\nimport { PackageSummary, PackageSearchCriteria, PackageType, PackageStatus } from '@/types/package';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { api } from '@/lib/api';\nimport PackageCard from './components/PackageCard';\nimport { ConfirmationModal } from '@/components/ui/ConfirmationModal';\nimport { PackageExportModal } from '@/components/ui/PackageExportModal';\nimport { PackageImportModal } from '@/components/ui/PackageImportModal';\nimport toast from 'react-hot-toast';\n\n/**\n * Package Library - Main package management interface\n * Provides overview of all packages with search, filter, and management capabilities\n */\nconst PackageLibrary: React.FC = () => {\n  const navigate = useNavigate();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedPackageType, setSelectedPackageType] = useState<PackageType | 'ALL'>('ALL');\n  const [selectedStatus, setSelectedStatus] = useState<PackageStatus | 'ALL'>('ALL');\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n  const [selectedPackages, setSelectedPackages] = useState<Set<string>>(new Set());\n  const [confirmationModal, setConfirmationModal] = useState<{\n    open: boolean;\n    title: string;\n    message: string;\n    confirmLabel?: string;\n    onConfirm: () => void;\n  }>({ open: false, title: '', message: '', onConfirm: () => {} });\n  const [exportModal, setExportModal] = useState<{\n    open: boolean;\n    packageId: string;\n    packageName: string;\n  }>({ open: false, packageId: '', packageName: '' });\n  const [importModal, setImportModal] = useState<{ open: boolean }>({ open: false });\n\n  // Fetch packages\n  const { \n    data: packagesResult, \n    isLoading, \n    error,\n    refetch \n  } = useQuery({\n    queryKey: ['packages', searchTerm, selectedPackageType, selectedStatus],\n    queryFn: async () => {\n      const searchCriteria: PackageSearchCriteria = {\n        searchTerm: searchTerm || undefined,\n        packageTypes: selectedPackageType !== 'ALL' ? [selectedPackageType] : undefined,\n        statuses: selectedStatus !== 'ALL' ? [selectedStatus] : undefined,\n        sortBy: 'updatedAt',\n        sortOrder: 'desc'\n      };\n      \n      const response = await api.get('/api/packages/search', { params: searchCriteria });\n      return response.data;\n    }\n  });\n\n  const packages = packagesResult?.data?.packages || packagesResult?.packages || [];\n\n  // Handle package selection\n  const handlePackageSelect = (pkg: PackageSummary) => {\n    // Navigate to package workspace/details page\n    navigate(`/packages/${pkg.id}`);\n  };\n\n  const handlePackageToggleSelect = (packageId: string, selected: boolean) => {\n    const newSelection = new Set(selectedPackages);\n    if (selected) {\n      newSelection.add(packageId);\n    } else {\n      newSelection.delete(packageId);\n    }\n    setSelectedPackages(newSelection);\n  };\n\n  const handleCreatePackage = () => {\n    // Navigate to package creation page\n    navigate('/packages/create');\n  };\n\n  const handleImportPackage = () => {\n    setImportModal({ open: true });\n  };\n\n  const handleImportSuccess = () => {\n    toast.success('Package imported successfully');\n    refetch();\n  };\n\n  const clearFilters = () => {\n    setSearchTerm('');\n    setSelectedPackageType('ALL');\n    setSelectedStatus('ALL');\n  };\n\n  const handleExportPackage = (pkg: PackageSummary) => {\n    setExportModal({\n      open: true,\n      packageId: pkg.id,\n      packageName: pkg.name\n    });\n  };\n\n  const handleExportModalClose = () => {\n    setExportModal({ open: false, packageId: '', packageName: '' });\n    // Show success toast\n    toast.success('Package exported successfully');\n  };\n\n  const handleArchiveSelected = async () => {\n    if (selectedPackages.size === 0) return;\n\n    const confirmed = window.confirm(\n      `Are you sure you want to archive ${selectedPackages.size} package${selectedPackages.size !== 1 ? 's' : ''}? This will change their status to ARCHIVED.`\n    );\n\n    if (!confirmed) return;\n\n    try {\n      // In a real implementation, this would be API calls\n      // For now, just show success message\n      const packageNames = packages\n        .filter(pkg => selectedPackages.has(pkg.id))\n        .map(pkg => pkg.name)\n        .join(', ');\n\n      toast.success(`Archived packages: ${packageNames}`);\n\n      // Clear selection and refresh data\n      setSelectedPackages(new Set());\n      refetch();\n    } catch (error) {\n      toast.error('Failed to archive packages');\n    }\n  };\n\n  const handleEditPackage = (pkg: PackageSummary) => {\n    navigate(`/packages/${pkg.id}/edit`);\n  };\n\n  const handleDeletePackage = async (pkg: PackageSummary) => {\n    setConfirmationModal({\n      open: true,\n      title: 'Delete Package',\n      message: `Are you sure you want to delete the package \"${pkg.name}\"? This action cannot be undone and will permanently remove the package and all its associated adapters and flows.`,\n      confirmLabel: 'Delete Package',\n      onConfirm: async () => {\n        try {\n          await api.delete(`/api/packages/${pkg.id}`);\n          toast.success(`Package \"${pkg.name}\" deleted successfully`);\n          refetch();\n        } catch (error: any) {\n          const errorMessage = error.response?.data?.message || error.response?.data?.error || error.message || 'Failed to delete package';\n          toast.error(errorMessage);\n        }\n      }\n    });\n  };\n\n  // Filter active packages by type for statistics\n  const activePackages = packages.filter(p => p.status === PackageStatus.ACTIVE);\n  const packagesByType = Object.values(PackageType).reduce((acc, type) => {\n    acc[type] = packages.filter(p => p.packageType === type).length;\n    return acc;\n  }, {} as Record<PackageType, number>);\n\n  if (isLoading) {\n    return (\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <h1 className=\"text-2xl font-bold\">Package Library</h1>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {[1, 2, 3, 4, 5, 6].map((i) => (\n            <Card key={i} className=\"animate-pulse\">\n              <CardHeader className=\"space-y-2\">\n                <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n                <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-2\">\n                  <div className=\"h-3 bg-gray-200 rounded\"></div>\n                  <div className=\"h-3 bg-gray-200 rounded w-2/3\"></div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <h1 className=\"text-2xl font-bold\">Package Library</h1>\n        </div>\n        <Card className=\"border-red-200 bg-red-50\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center gap-2 text-red-600\">\n              <Package className=\"h-5 w-5\" />\n              <div>\n                <div className=\"font-medium\">Failed to load packages</div>\n                <div className=\"text-sm text-red-500\">\n                  {error instanceof Error ? error.message : 'Unknown error'}\n                </div>\n              </div>\n            </div>\n            <Button \n              variant=\"outline\" \n              size=\"sm\" \n              onClick={() => refetch()}\n              className=\"mt-4\"\n            >\n              Try Again\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold\">Package Library</h1>\n          <p className=\"text-muted-foreground\">\n            Manage integration packages and their components\n          </p>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button variant=\"outline\" onClick={handleImportPackage}>\n            <Upload className=\"h-4 w-4 mr-2\" />\n            Import Package\n          </Button>\n          <Button onClick={handleCreatePackage}>\n            <Plus className=\"h-4 w-4 mr-2\" />\n            New Package\n          </Button>\n        </div>\n      </div>\n\n      {/* Statistics Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-bold\">{packages.length}</div>\n                <div className=\"text-sm text-muted-foreground\">Total Packages</div>\n              </div>\n              <Package className=\"h-8 w-8 text-blue-500\" />\n            </div>\n          </CardContent>\n        </Card>\n        \n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-bold\">{activePackages.length}</div>\n                <div className=\"text-sm text-muted-foreground\">Active Packages</div>\n              </div>\n              <div className=\"h-8 w-8 rounded-full bg-green-500 flex items-center justify-center\">\n                <div className=\"h-3 w-3 bg-white rounded-full\" />\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-bold\">\n                  {packages.reduce((sum, p) => sum + p.totalAssetCount, 0)}\n                </div>\n                <div className=\"text-sm text-muted-foreground\">Total Assets</div>\n              </div>\n              <Grid3x3 className=\"h-8 w-8 text-purple-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-bold\">\n                  {packages.reduce((sum, p) => sum + p.totalActiveAssetCount, 0)}\n                </div>\n                <div className=\"text-sm text-muted-foreground\">Active Assets</div>\n              </div>\n              <div className=\"h-8 w-8 rounded bg-green-100 flex items-center justify-center\">\n                <div className=\"h-4 w-4 text-green-600\"></div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Filters and Search */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-col sm:flex-row gap-4\">\n            {/* Search */}\n            <div className=\"flex-1\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4\" />\n                <Input\n                  placeholder=\"Search packages...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n\n            {/* Type Filter */}\n            <select\n              value={selectedPackageType}\n              onChange={(e) => setSelectedPackageType(e.target.value as PackageType | 'ALL')}\n              className=\"px-3 py-2 border rounded-md text-sm\"\n            >\n              <option value=\"ALL\">All Types</option>\n              {Object.values(PackageType).map(type => (\n                <option key={type} value={type}>{type}</option>\n              ))}\n            </select>\n\n            {/* Status Filter */}\n            <select\n              value={selectedStatus}\n              onChange={(e) => setSelectedStatus(e.target.value as PackageStatus | 'ALL')}\n              className=\"px-3 py-2 border rounded-md text-sm\"\n            >\n              <option value=\"ALL\">All Statuses</option>\n              {Object.values(PackageStatus).map(status => (\n                <option key={status} value={status}>{status}</option>\n              ))}\n            </select>\n\n            {/* View Mode */}\n            <div className=\"flex border rounded-md\">\n              <Button\n                variant={viewMode === 'grid' ? 'default' : 'ghost'}\n                size=\"sm\"\n                onClick={() => setViewMode('grid')}\n                className=\"rounded-r-none\"\n              >\n                <Grid3x3 className=\"h-4 w-4\" />\n              </Button>\n              <Button\n                variant={viewMode === 'list' ? 'default' : 'ghost'}\n                size=\"sm\"\n                onClick={() => setViewMode('list')}\n                className=\"rounded-l-none\"\n              >\n                <List className=\"h-4 w-4\" />\n              </Button>\n            </div>\n\n            {/* Clear Filters */}\n            {(searchTerm || selectedPackageType !== 'ALL' || selectedStatus !== 'ALL') && (\n              <Button variant=\"outline\" onClick={clearFilters} size=\"sm\">\n                Clear\n              </Button>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Package Type Distribution */}\n      {Object.values(PackageType).some(type => packagesByType[type] > 0) && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-base\">Package Distribution</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex flex-wrap gap-2\">\n              {Object.entries(packagesByType).map(([type, count]) => (\n                count > 0 && (\n                  <Badge key={type} variant=\"outline\" className=\"px-3 py-1\">\n                    {type}: {count}\n                  </Badge>\n                )\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Packages Grid/List */}\n      {packages.length === 0 ? (\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"text-center py-8\">\n              <Package className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n              <div className=\"text-lg font-medium mb-2\">No packages found</div>\n              <div className=\"text-muted-foreground mb-4\">\n                {searchTerm || selectedPackageType !== 'ALL' || selectedStatus !== 'ALL' \n                  ? 'Try adjusting your search criteria'\n                  : 'Create your first package to get started'\n                }\n              </div>\n              <Button onClick={handleCreatePackage}>\n                <Plus className=\"h-4 w-4 mr-2\" />\n                Create Package\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      ) : (\n        <div className={\n          viewMode === 'grid' \n            ? \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\"\n            : \"space-y-4\"\n        }>\n          {packages.map((pkg) => (\n            <PackageCard\n              key={pkg.id}\n              packageItem={pkg}\n              onSelect={handlePackageSelect}\n              isSelected={selectedPackages.has(pkg.id)}\n              onToggleSelect={(selected) => handlePackageToggleSelect(pkg.id, selected)}\n              onEdit={handleEditPackage}\n              onDelete={handleDeletePackage}\n              onExport={handleExportPackage}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Selection Actions */}\n      {selectedPackages.size > 0 && (\n        <Card className=\"border-blue-200 bg-blue-50\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"text-sm text-blue-700\">\n                {selectedPackages.size} package{selectedPackages.size !== 1 ? 's' : ''} selected\n              </div>\n              <div className=\"flex gap-2\">\n                <Button variant=\"outline\" size=\"sm\" onClick={handleArchiveSelected}>\n                  Archive Selected\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => setSelectedPackages(new Set())}\n                >\n                  Clear Selection\n                </Button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Confirmation Modal */}\n      <ConfirmationModal\n        open={confirmationModal.open}\n        onOpenChange={(open) => setConfirmationModal(prev => ({ ...prev, open }))}\n        title={confirmationModal.title}\n        message={confirmationModal.message}\n        confirmLabel={confirmationModal.confirmLabel || \"Delete\"}\n        variant=\"destructive\"\n        onConfirm={confirmationModal.onConfirm}\n      />\n\n      {/* Export Modal */}\n      <PackageExportModal\n        open={exportModal.open}\n        onOpenChange={(open) => {\n          if (!open) {\n            handleExportModalClose();\n          }\n        }}\n        packageId={exportModal.packageId}\n        packageName={exportModal.packageName}\n      />\n\n      {/* Import Modal */}\n      <PackageImportModal\n        open={importModal.open}\n        onOpenChange={(open) => setImportModal({ open })}\n        onImportSuccess={handleImportSuccess}\n      />\n    </div>\n  );\n};\n\nexport default PackageLibrary;","import React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = 'Textarea'\n\nexport { Textarea }","import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { ChevronLeft, Package, Save, X } from 'lucide-react';\r\n\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { NotificationModal, NotificationType } from '@/components/ui/NotificationModal';\r\nimport { api } from '@/lib/api';\r\n\r\n/**\r\n * Create Package Page - Form for creating new integration packages\r\n */\r\nconst CreatePackage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    version: '1.0.0'\r\n  });\r\n  const [notificationModal, setNotificationModal] = useState<{\r\n    open: boolean;\r\n    type: NotificationType;\r\n    title?: string;\r\n    message: string;\r\n  }>({ open: false, type: 'info', message: '' });\r\n\r\n  const showNotification = (type: NotificationType, message: string, title?: string) => {\r\n    setNotificationModal({ open: true, type, title, message });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (!formData.name) {\r\n      showNotification('warning', 'Please fill in the package name.', 'Validation Error');\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const packageData = {\r\n        name: formData.name.trim(),\r\n        description: formData.description.trim(),\r\n        version: formData.version.trim()\r\n      };\r\n\r\n      const response = await api.post('/api/packages', packageData);\r\n\r\n      if (response.status === 201 || response.status === 200) {\r\n        // Navigate back to package library\r\n        navigate('/packages');\r\n      }\r\n\r\n    } catch (error: any) {\r\n      console.error('Failed to create package:', error);\r\n      showNotification('error', error.response?.data?.message || error.message, 'Failed to Create Package');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    navigate('/packages');\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-6 max-w-4xl\">\r\n      {/* Header */}\r\n      <div className=\"mb-6\">\r\n        <Button \r\n          variant=\"ghost\" \r\n          onClick={handleCancel}\r\n          className=\"mb-4 p-0 h-auto text-muted-foreground hover:text-foreground\"\r\n        >\r\n          <ChevronLeft className=\"h-4 w-4 mr-1\" />\r\n          Back to Package Library\r\n        </Button>\r\n        \r\n        <div className=\"flex items-center gap-3\">\r\n          <Package className=\"h-8 w-8 text-primary\" />\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold\">Create New Integration Package</h1>\r\n            <p className=\"text-muted-foreground\">\r\n              Create a new integration package to organize your adapters and flows\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Integration Package Information</CardTitle>\r\n            <CardDescription>\r\n              Define the basic properties of your integration package\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-6\">\r\n            \r\n            {/* Package Name */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"name\">Package Name *</Label>\r\n              <Input\r\n                id=\"name\"\r\n                value={formData.name}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\r\n                placeholder=\"Enter package name\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Description */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"description\">Description</Label>\r\n              <Textarea\r\n                id=\"description\"\r\n                value={formData.description}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n                placeholder=\"Describe the purpose of this package\"\r\n                rows={3}\r\n              />\r\n            </div>\r\n\r\n            {/* Version */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"version\">Version</Label>\r\n              <Input\r\n                id=\"version\"\r\n                value={formData.version}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, version: e.target.value }))}\r\n                placeholder=\"1.0.0\"\r\n              />\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"flex justify-end space-x-3 pt-6 border-t\">\r\n              <Button type=\"button\" variant=\"outline\" onClick={handleCancel}>\r\n                <X className=\"h-4 w-4 mr-2\" />\r\n                Cancel\r\n              </Button>\r\n              <Button type=\"submit\" disabled={isLoading}>\r\n                {isLoading ? (\r\n                  <>\r\n                    <div className=\"animate-spin h-4 w-4 mr-2 border-2 border-current border-t-transparent rounded-full\" />\r\n                    Creating...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Save className=\"h-4 w-4 mr-2\" />\r\n                    Create Package\r\n                  </>\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </form>\r\n\r\n      {/* Notification Modal */}\r\n      <NotificationModal\r\n        open={notificationModal.open}\r\n        onOpenChange={(open) => setNotificationModal(prev => ({ ...prev, open }))}\r\n        type={notificationModal.type}\r\n        title={notificationModal.title}\r\n        message={notificationModal.message}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreatePackage;","import React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useQuery } from '@tanstack/react-query';\nimport { ChevronLeft, Package, Save, X } from 'lucide-react';\n\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { NotificationModal, NotificationType } from '@/components/ui/NotificationModal';\nimport { api } from '@/lib/api';\n\n/**\n * Edit Package Page - Form for editing existing integration packages\n */\nconst EditPackage: React.FC = () => {\n  const navigate = useNavigate();\n  const { id } = useParams<{ id: string }>();\n  const [isLoading, setIsLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    version: '1.0.0'\n  });\n  const [notificationModal, setNotificationModal] = useState<{\n    open: boolean;\n    type: NotificationType;\n    title?: string;\n    message: string;\n  }>({ open: false, type: 'info', message: '' });\n\n  // Fetch existing package data\n  const { data: packageData, isLoading: isLoadingPackage } = useQuery({\n    queryKey: ['package', id],\n    queryFn: async () => {\n      const response = await api.get(`/api/packages/${id}`);\n      return response.data?.data || response.data;\n    },\n    enabled: !!id\n  });\n\n  // Populate form when package data is loaded\n  useEffect(() => {\n    if (packageData) {\n      setFormData({\n        name: packageData.name || '',\n        description: packageData.description || '',\n        version: packageData.version || '1.0.0'\n      });\n    }\n  }, [packageData]);\n\n  const showNotification = (type: NotificationType, message: string, title?: string) => {\n    setNotificationModal({ open: true, type, title, message });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!formData.name) {\n      showNotification('warning', 'Please fill in the package name.', 'Validation Error');\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      const updateData = {\n        name: formData.name.trim(),\n        description: formData.description.trim(),\n        version: formData.version.trim(),\n        status: packageData.status // Keep the existing status\n      };\n\n      const response = await api.put(`/api/packages/${id}`, updateData);\n\n      if (response.status === 200) {\n        showNotification('success', 'Package updated successfully', 'Success');\n        // Navigate back after a short delay\n        setTimeout(() => {\n          navigate('/packages');\n        }, 1500);\n      }\n\n    } catch (error: any) {\n      console.error('Failed to update package:', error);\n      showNotification('error', error.response?.data?.message || error.message, 'Failed to Update Package');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleCancel = () => {\n    navigate('/packages');\n  };\n\n  if (isLoadingPackage) {\n    return (\n      <div className=\"container mx-auto p-6 max-w-4xl\">\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin\" />\n            <span className=\"text-muted-foreground\">Loading package...</span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto p-6 max-w-4xl\">\n      {/* Header */}\n      <div className=\"mb-6\">\n        <Button\n          variant=\"ghost\"\n          onClick={handleCancel}\n          className=\"mb-4 p-0 h-auto text-muted-foreground hover:text-foreground\"\n        >\n          <ChevronLeft className=\"h-4 w-4 mr-1\" />\n          Back to Package Library\n        </Button>\n\n        <div className=\"flex items-center gap-3\">\n          <Package className=\"h-8 w-8 text-primary\" />\n          <div>\n            <h1 className=\"text-3xl font-bold\">Edit Integration Package</h1>\n            <p className=\"text-muted-foreground\">\n              Update the details of your integration package\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <form onSubmit={handleSubmit}>\n        <Card>\n          <CardHeader>\n            <CardTitle>Integration Package Information</CardTitle>\n            <CardDescription>\n              Update the basic properties of your integration package\n            </CardDescription>\n          </CardHeader>\n\n          <CardContent className=\"space-y-6\">\n            {/* Package Name */}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"name\" className=\"required\">\n                Package Name\n              </Label>\n              <Input\n                id=\"name\"\n                placeholder=\"e.g., Customer Integration Package\"\n                value={formData.name}\n                onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                disabled={isLoading}\n                required\n              />\n              <p className=\"text-sm text-muted-foreground\">\n                A unique, descriptive name for your integration package\n              </p>\n            </div>\n\n            {/* Description */}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"description\">\n                Description\n              </Label>\n              <Textarea\n                id=\"description\"\n                placeholder=\"Describe the purpose and contents of this package...\"\n                value={formData.description}\n                onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                disabled={isLoading}\n                rows={4}\n              />\n              <p className=\"text-sm text-muted-foreground\">\n                Provide context about what this package contains and its purpose\n              </p>\n            </div>\n\n            {/* Version */}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"version\">\n                Version\n              </Label>\n              <Input\n                id=\"version\"\n                placeholder=\"1.0.0\"\n                value={formData.version}\n                onChange={(e) => setFormData({ ...formData, version: e.target.value })}\n                disabled={isLoading}\n              />\n              <p className=\"text-sm text-muted-foreground\">\n                Semantic version for tracking package changes\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Action Buttons */}\n        <div className=\"mt-6 flex justify-end gap-3\">\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={handleCancel}\n            disabled={isLoading}\n          >\n            <X className=\"h-4 w-4 mr-2\" />\n            Cancel\n          </Button>\n          <Button\n            type=\"submit\"\n            disabled={isLoading}\n          >\n            {isLoading ? (\n              <>\n                <div className=\"w-4 h-4 mr-2 border-2 border-background border-t-transparent rounded-full animate-spin\" />\n                Updating...\n              </>\n            ) : (\n              <>\n                <Save className=\"h-4 w-4 mr-2\" />\n                Update Package\n              </>\n            )}\n          </Button>\n        </div>\n      </form>\n\n      {/* Notification Modal */}\n      <NotificationModal\n        open={notificationModal.open}\n        onOpenChange={(open) => setNotificationModal(prev => ({ ...prev, open }))}\n        type={notificationModal.type}\n        title={notificationModal.title}\n        message={notificationModal.message}\n      />\n    </div>\n  );\n};\n\nexport default EditPackage;\n","import React from 'react'\nimport { CheckCircle, AlertTriangle } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport {\n  Dialog,\n  DialogContent,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\n\ninterface TestResultData {\n  success?: boolean\n  testSuccess?: boolean\n  error?: string\n  testResult?: string\n  testType?: string\n  host?: string\n  port?: number\n  username?: string\n  homeDirectory?: string\n  homeDirectoryAccessible?: boolean\n  remoteDirectory?: string\n  connectionEstablished?: boolean\n  sftpChannelOpened?: boolean\n  directoryAccessible?: boolean\n  readPermission?: boolean\n  writePermission?: boolean\n  deletePermission?: boolean\n  fileCount?: number\n  smtpHost?: string\n  smtpPort?: number\n  smtpConnectionEstablished?: boolean\n}\n\ninterface AdapterTestResultModalProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  testResult: {\n    data: {\n      data?: TestResultData\n    } & TestResultData\n  } | null\n}\n\nexport const AdapterTestResultModal: React.FC<AdapterTestResultModalProps> = ({\n  open,\n  onOpenChange,\n  testResult,\n}) => {\n  // Handle nested ApiResponse structure: testResult.data.data or testResult.data\n  const rawData = testResult?.data?.data || testResult?.data\n  if (!rawData) return null\n\n  // Normalize success field (API uses testSuccess, frontend expects success)\n  const data = {\n    ...rawData,\n    success: rawData.success ?? rawData.testSuccess ?? false\n  }\n\n  const StatusIcon = ({ success }: { success: boolean }) => (\n    success ? (\n      <CheckCircle className=\"h-4 w-4 text-success\" />\n    ) : (\n      <AlertTriangle className=\"h-4 w-4 text-destructive\" />\n    )\n  )\n\n  const StatusText = ({ success, successText = \"Success\", failText = \"Failed\" }: { \n    success: boolean\n    successText?: string\n    failText?: string \n  }) => (\n    <span className={success ? 'text-success' : 'text-destructive'}>\n      {success ? successText : failText}\n    </span>\n  )\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-2xl\">\n        <DialogHeader className=\"pb-0\">\n          <DialogTitle className=\"flex items-center space-x-2 text-lg\">\n            {data.success ? (\n              <>\n                <CheckCircle className=\"h-5 w-5 text-success\" />\n                <span>Test Successful</span>\n              </>\n            ) : (\n              <>\n                <AlertTriangle className=\"h-5 w-5 text-destructive\" />\n                <span>Test Failed</span>\n              </>\n            )}\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-6 py-4\">\n          {/* Error/Success Message */}\n          {!data.success && data.error && (\n            <div className=\"text-foreground leading-relaxed\">\n              {data.error}\n            </div>\n          )}\n          \n          {data.success && data.testResult && (\n            <div className=\"text-foreground leading-relaxed\">\n              {data.testResult}\n            </div>\n          )}\n\n          {/* Connection Details */}\n          <div>\n            <h3 className=\"text-lg font-semibold text-foreground mb-4\">Connection Details</h3>\n            <div className=\"space-y-3\">\n              <div className=\"grid grid-cols-2 gap-x-8 gap-y-3\">\n                {data.host && (\n                  <div>\n                    <span className=\"text-muted-foreground\">Host: </span>\n                    <span className=\"text-foreground font-medium\">\n                      {data.host}:{data.port || 22}\n                    </span>\n                  </div>\n                )}\n                {data.username && (\n                  <div>\n                    <span className=\"text-muted-foreground\">Username: </span>\n                    <span className=\"text-foreground font-medium\">{data.username}</span>\n                  </div>\n                )}\n              </div>\n\n              {data.homeDirectory && (\n                <div>\n                  <span className=\"text-muted-foreground\">Home Directory: </span>\n                  <span className=\"text-foreground font-medium\">{data.homeDirectory}</span>\n                  {data.homeDirectoryAccessible && (\n                    <span className=\"ml-2 text-success\">(Accessible)</span>\n                  )}\n                </div>\n              )}\n\n              {data.remoteDirectory && (\n                <div>\n                  <span className=\"text-muted-foreground\">Target Directory: </span>\n                  <span className=\"text-foreground font-medium\">{data.remoteDirectory}</span>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* SFTP Connection Status and Permissions */}\n          {data.testType === 'SFTP_CONNECTION' && (\n            <div className=\"grid grid-cols-2 gap-8\">\n              {/* Connection Status */}\n              <div>\n                <h3 className=\"text-lg font-semibold text-foreground mb-4\">Connection Status</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">Connection:</span>\n                    <div className=\"flex items-center space-x-2\">\n                      <StatusIcon success={data.connectionEstablished || false} />\n                      <StatusText success={data.connectionEstablished || false} />\n                    </div>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">SFTP Channel:</span>\n                    <div className=\"flex items-center space-x-2\">\n                      <StatusIcon success={data.sftpChannelOpened || false} />\n                      <StatusText \n                        success={data.sftpChannelOpened || false} \n                        successText=\"Opened\" \n                        failText=\"Failed\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">Directory Access:</span>\n                    <div className=\"flex items-center space-x-2\">\n                      <StatusIcon success={data.directoryAccessible || false} />\n                      <StatusText \n                        success={data.directoryAccessible || false} \n                        successText=\"Accessible\" \n                        failText=\"Failed\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Permissions */}\n              <div>\n                <h3 className=\"text-lg font-semibold text-foreground mb-4\">Permissions</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">Read:</span>\n                    <div className=\"flex items-center space-x-2\">\n                      <StatusIcon success={data.readPermission || false} />\n                      <StatusText \n                        success={data.readPermission || false} \n                        successText=\"Allowed\" \n                        failText=\"Denied\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">Write:</span>\n                    <div className=\"flex items-center space-x-2\">\n                      <StatusIcon success={data.writePermission || false} />\n                      <StatusText \n                        success={data.writePermission || false} \n                        successText=\"Allowed\" \n                        failText=\"Denied\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">Delete:</span>\n                    <div className=\"flex items-center space-x-2\">\n                      <StatusIcon success={data.deletePermission || false} />\n                      <StatusText \n                        success={data.deletePermission || false} \n                        successText=\"Allowed\" \n                        failText=\"Denied\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* File Count for SFTP */}\n          {data.testType === 'SFTP_CONNECTION' && data.fileCount !== undefined && (\n            <div className=\"text-foreground\">\n              <strong>Files in directory: {data.fileCount} files found</strong>\n            </div>\n          )}\n\n          {/* Email/SMTP Details */}\n          {data.testType === 'EMAIL_CONNECTION' && (\n            <div className=\"grid grid-cols-2 gap-6\">\n              {data.smtpHost && (\n                <div>\n                  <span className=\"text-muted-foreground\">SMTP Host:</span>\n                  <span className=\"ml-2 text-foreground font-medium\">{data.smtpHost}</span>\n                </div>\n              )}\n              {data.smtpPort && (\n                <div>\n                  <span className=\"text-muted-foreground\">SMTP Port:</span>\n                  <span className=\"ml-2 text-foreground font-medium\">{data.smtpPort}</span>\n                </div>\n              )}\n              {data.smtpConnectionEstablished !== undefined && (\n                <div>\n                  <span className=\"text-muted-foreground\">Connection:</span>\n                  <span className={`ml-2 ${data.smtpConnectionEstablished ? 'text-success' : 'text-destructive'}`}>\n                    {data.smtpConnectionEstablished ? 'Established' : 'Failed'}\n                  </span>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        <DialogFooter>\n          <Button \n            onClick={() => onOpenChange(false)}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-8 py-2 font-medium\"\n          >\n            OK\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}","import React from 'react';\nimport { Workflow, Plug, FileText, Eye } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\n\ninterface WorkspaceSidebarProps {\n  packageId: string;\n  onNavigate: (section: string) => void;\n  activeSection?: string;\n  className?: string;\n}\n\nexport const WorkspaceSidebar: React.FC<WorkspaceSidebarProps> = ({\n  onNavigate,\n  activeSection,\n  className\n}) => {\n  const menuItems = [\n    { id: 'overview', name: 'Dashboard', icon: Eye },\n    { id: 'adapters', name: 'Adapters', icon: Plug },\n    { id: 'flows', name: 'Flows', icon: Workflow }\n  ];\n\n  return (\n    <div className={cn(\n      \"h-full bg-card border-r border-border w-56 flex-shrink-0\",\n      className\n    )}>\n      <div className=\"flex flex-col h-full\">\n        {/* Header */}\n        <div className=\"p-4 border-b border-border\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"p-2 bg-primary/10 rounded-lg\">\n              <FileText className=\"h-4 w-4 text-primary\" />\n            </div>\n            <div className=\"flex-1\">\n              <h2 className=\"text-sm font-medium\">Package Workspace</h2>\n            </div>\n          </div>\n        </div>\n\n        {/* Navigation */}\n        <nav className=\"flex-1 p-3 space-y-1\">\n          {menuItems.map((item) => {\n            const isActive = activeSection === item.id;\n            return (\n              <Button\n                key={item.id}\n                variant={isActive ? 'secondary' : 'ghost'}\n                className={cn(\n                  \"w-full justify-start gap-3 h-10\",\n                  isActive && \"bg-primary/10 text-primary\"\n                )}\n                onClick={() => onNavigate(item.id)}\n              >\n                <item.icon className=\"h-4 w-4\" />\n                {item.name}\n              </Button>\n            );\n          })}\n        </nav>\n      </div>\n    </div>\n  );\n};\n\nexport default WorkspaceSidebar;\n","import React from 'react';\nimport {\n  Package,\n  Boxes,\n  Workflow,\n  Activity,\n  CheckCircle,\n  AlertCircle\n} from 'lucide-react';\n\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\n\ninterface Adapter {\n  id: string;\n  status: string;\n  active: boolean;\n}\n\ninterface Flow {\n  id: string;\n  deployed: boolean;\n}\n\ninterface PackageOverviewProps {\n  pkg: {\n    id: string;\n    name: string;\n    description: string;\n    version: string;\n    createdAt: string;\n    updatedAt: string | null;\n  };\n  adapters: Adapter[];\n  flows: Flow[];\n}\n\nconst PackageOverview: React.FC<PackageOverviewProps> = ({\n  pkg,\n  adapters,\n  flows\n}) => {\n  const adapterCount = adapters.length;\n  const flowCount = flows.length;\n  const activeAdapters = adapters.filter(a => a.active && a.status === 'STARTED').length;\n  const deployedFlows = flows.filter(f => f.deployed).length;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-bold\">{adapterCount}</div>\n                <div className=\"text-sm text-muted-foreground\">Total Adapters</div>\n              </div>\n              <Boxes className=\"h-8 w-8 text-blue-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-bold\">{flowCount}</div>\n                <div className=\"text-sm text-muted-foreground\">Total Flows</div>\n              </div>\n              <Workflow className=\"h-8 w-8 text-purple-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-bold text-green-600\">{activeAdapters}</div>\n                <div className=\"text-sm text-muted-foreground\">Active Adapters</div>\n              </div>\n              <CheckCircle className=\"h-8 w-8 text-green-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-bold text-green-600\">{deployedFlows}</div>\n                <div className=\"text-sm text-muted-foreground\">Deployed Flows</div>\n              </div>\n              <Activity className=\"h-8 w-8 text-green-500\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Package Info */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Package className=\"h-5 w-5\" />\n            Package Information\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n            <div>\n              <div className=\"text-sm font-medium text-muted-foreground\">Name</div>\n              <div className=\"font-medium\">{pkg.name}</div>\n            </div>\n            <div>\n              <div className=\"text-sm font-medium text-muted-foreground\">Version</div>\n              <div className=\"font-medium\">v{pkg.version}</div>\n            </div>\n            <div>\n              <div className=\"text-sm font-medium text-muted-foreground\">Created</div>\n              <div>{new Date(pkg.createdAt).toLocaleDateString()}</div>\n            </div>\n          </div>\n          {pkg.description && (\n            <div>\n              <div className=\"text-sm font-medium text-muted-foreground\">Description</div>\n              <div className=\"text-sm mt-1\">{pkg.description}</div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Quick Actions */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Quick Actions</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div className=\"p-4 border rounded-lg hover:bg-accent cursor-pointer transition-colors\">\n              <Boxes className=\"h-6 w-6 text-blue-500 mb-2\" />\n              <div className=\"font-medium\">Add Adapter</div>\n              <div className=\"text-sm text-muted-foreground\">Configure a new adapter</div>\n            </div>\n            <div className=\"p-4 border rounded-lg hover:bg-accent cursor-pointer transition-colors\">\n              <Workflow className=\"h-6 w-6 text-purple-500 mb-2\" />\n              <div className=\"font-medium\">Create Flow</div>\n              <div className=\"text-sm text-muted-foreground\">Design a new integration flow</div>\n            </div>\n            <div className=\"p-4 border rounded-lg hover:bg-accent cursor-pointer transition-colors\">\n              <Activity className=\"h-6 w-6 text-green-500 mb-2\" />\n              <div className=\"font-medium\">View Monitoring</div>\n              <div className=\"text-sm text-muted-foreground\">Check execution status</div>\n            </div>\n            <div className=\"p-4 border rounded-lg hover:bg-accent cursor-pointer transition-colors\">\n              <AlertCircle className=\"h-6 w-6 text-orange-500 mb-2\" />\n              <div className=\"font-medium\">View Logs</div>\n              <div className=\"text-sm text-muted-foreground\">Check recent activity</div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default PackageOverview;\n","import React from 'react';\nimport {\n  FileText,\n  Server,\n  Mail,\n  Plus,\n  Settings,\n  Play,\n  Trash2,\n  Eye\n} from 'lucide-react';\n\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\n\ninterface Adapter {\n  id: string;\n  name: string;\n  type: string;\n  direction: string;\n  status: string;\n  active: boolean;\n  description?: string;\n  adapterType?: string;\n}\n\ninterface PackageAdaptersTabProps {\n  packageId: string;\n  adapters: Adapter[];\n  onAddAdapter?: () => void;\n  onViewAdapter?: (adapter: Adapter) => void;\n  onEditAdapter?: (adapter: Adapter) => void;\n  onDeleteAdapter?: (adapter: Adapter) => void;\n  onTestAdapter?: (adapter: Adapter) => void;\n}\n\nconst PackageAdaptersTab: React.FC<PackageAdaptersTabProps> = ({\n  packageId,\n  adapters,\n  onAddAdapter,\n  onViewAdapter,\n  onEditAdapter,\n  onDeleteAdapter,\n  onTestAdapter\n}) => {\n  const getAdapterIcon = (adapterType: string) => {\n    switch (adapterType) {\n      case 'FILE':\n        return <FileText className=\"h-5 w-5\" />;\n      case 'SFTP':\n        return <Server className=\"h-5 w-5\" />;\n      case 'EMAIL':\n        return <Mail className=\"h-5 w-5\" />;\n      default:\n        return <Settings className=\"h-5 w-5\" />;\n    }\n  };\n\n  // Get adapter type - handle both 'type' and 'adapterType' properties\n  const getType = (adapter: Adapter) => adapter.adapterType || adapter.type;\n\n  // Count adapters by type\n  const fileAdaptersCount = adapters.filter(a => getType(a) === 'FILE').length;\n  const sftpAdaptersCount = adapters.filter(a => getType(a) === 'SFTP').length;\n  const emailAdaptersCount = adapters.filter(a => getType(a) === 'EMAIL').length;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-lg font-semibold\">Adapter Configuration</h2>\n          <p className=\"text-sm text-muted-foreground\">\n            Configure and manage your file transfer adapters\n          </p>\n        </div>\n        <Button size=\"sm\" onClick={onAddAdapter}>\n          <Plus className=\"h-4 w-4 mr-2\" />\n          Create Adapter\n        </Button>\n      </div>\n\n      {/* Statistics Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div className=\"app-card rounded-lg p-6 border\">\n          <div className=\"flex items-center space-x-3 mb-3\">\n            <FileText className=\"h-8 w-8 text-primary\" />\n            <div>\n              <h3 className=\"font-semibold text-foreground\">File Adapters</h3>\n              <p className=\"text-sm text-muted-foreground\">Local file system operations</p>\n            </div>\n          </div>\n          <div className=\"text-2xl font-bold text-foreground\">\n            {fileAdaptersCount}\n          </div>\n        </div>\n\n        <div className=\"app-card rounded-lg p-6 border\">\n          <div className=\"flex items-center space-x-3 mb-3\">\n            <Server className=\"h-8 w-8 text-info\" />\n            <div>\n              <h3 className=\"font-semibold text-foreground\">SFTP Adapters</h3>\n              <p className=\"text-sm text-muted-foreground\">Secure file transfer protocol</p>\n            </div>\n          </div>\n          <div className=\"text-2xl font-bold text-foreground\">\n            {sftpAdaptersCount}\n          </div>\n        </div>\n\n        <div className=\"app-card rounded-lg p-6 border\">\n          <div className=\"flex items-center space-x-3 mb-3\">\n            <Mail className=\"h-8 w-8 text-success\" />\n            <div>\n              <h3 className=\"font-semibold text-foreground\">Email Adapters</h3>\n              <p className=\"text-sm text-muted-foreground\">Email-based file transfer</p>\n            </div>\n          </div>\n          <div className=\"text-2xl font-bold text-foreground\">\n            {emailAdaptersCount}\n          </div>\n        </div>\n      </div>\n\n      {/* Empty State */}\n      {adapters.length === 0 ? (\n        <div className=\"app-card rounded-lg p-12 border text-center\">\n          <Settings className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n          <h3 className=\"text-xl font-semibold text-foreground mb-2\">No Adapters Configured</h3>\n          <p className=\"text-muted-foreground mb-6\">Get started by creating your first adapter interface</p>\n          <Button onClick={onAddAdapter}>\n            <Plus className=\"h-4 w-4 mr-2\" />\n            Create Your First Adapter\n          </Button>\n        </div>\n      ) : (\n        /* Adapter Grid */\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {adapters.map((adapter) => (\n            <Card key={adapter.id} className=\"app-card border\">\n              <CardHeader>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-3\">\n                    {getAdapterIcon(getType(adapter))}\n                    <div>\n                      <CardTitle className=\"text-lg text-foreground\">{adapter.name}</CardTitle>\n                      {adapter.description && (\n                        <p className=\"text-sm text-muted-foreground\">{adapter.description}</p>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <div className={`w-3 h-3 rounded-full ${\n                      adapter.active ? 'bg-success animate-glow' : 'bg-muted-foreground'\n                    }`} />\n                    <span className={`text-xs px-2 py-1 rounded ${\n                      adapter.active ? 'bg-success/20 text-success' : 'bg-muted/20 text-muted-foreground'\n                    }`}>\n                      {adapter.active ? 'Active' : 'Inactive'}\n                    </span>\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-3\">\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div>\n                      <span className=\"text-muted-foreground\">Type:</span>\n                      <span className=\"ml-2 text-foreground\">{getType(adapter)}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-muted-foreground\">Direction:</span>\n                      <span className=\"ml-2 text-foreground\">{adapter.direction}</span>\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-center space-x-2 pt-4\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => onViewAdapter?.(adapter)}\n                    >\n                      <Eye className=\"h-4 w-4 mr-2\" />\n                      View\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => onEditAdapter?.(adapter)}\n                    >\n                      <Settings className=\"h-4 w-4 mr-2\" />\n                      Configure\n                    </Button>\n                    {/* Only show Test button for adapters with external connection settings (SFTP, EMAIL) */}\n                    {getType(adapter) !== 'FILE' && (\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => onTestAdapter?.(adapter)}\n                      >\n                        <Play className=\"h-4 w-4 mr-2\" />\n                        Test\n                      </Button>\n                    )}\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"text-destructive hover:bg-destructive/10\"\n                      onClick={() => onDeleteAdapter?.(adapter)}\n                    >\n                      <Trash2 className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PackageAdaptersTab;\n","import React, { useRef } from 'react';\nimport {\n  Workflow,\n  Plus,\n  Play,\n  Square,\n  Trash2,\n  Eye,\n  Download,\n  Upload,\n  CheckCircle,\n  Clock,\n  ArrowRight,\n  Power\n} from 'lucide-react';\n\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\n\ninterface Flow {\n  id: string;\n  name: string;\n  description?: string;\n  status: string;\n  deployed: boolean;\n  active: boolean;\n  originalFlowId?: string | null;\n  flowType?: string;\n  flowVersion?: number;\n  lastExecutedAt?: string;\n  executionCount?: number;\n  totalExecutions?: number;\n  successfulExecutions?: number;\n  failedExecutions?: number;\n  averageExecutionTimeMs?: number;\n  createdAt?: string;\n  updatedAt?: string;\n  flowDefinition?: {\n    nodes?: any[];\n    edges?: any[];\n  };\n}\n\ninterface PackageFlowsTabProps {\n  packageId: string;\n  flows: Flow[];\n  onAddFlow?: () => void;\n  onEditFlow?: (flow: Flow) => void;\n  onDeleteFlow?: (flow: Flow) => void;\n  onActivateFlow?: (flow: Flow) => void;\n  onDeployFlow?: (flow: Flow) => void;\n  onUndeployFlow?: (flow: Flow) => void;\n  onViewFlow?: (flow: Flow) => void;\n  onExportFlow?: (flow: Flow) => void;\n  onImportFlow?: (file: File) => void;\n}\n\nconst PackageFlowsTab: React.FC<PackageFlowsTabProps> = ({\n  packageId,\n  flows,\n  onAddFlow,\n  onEditFlow,\n  onDeleteFlow,\n  onActivateFlow,\n  onDeployFlow,\n  onUndeployFlow,\n  onViewFlow,\n  onExportFlow,\n  onImportFlow\n}) => {\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleImportClick = () => {\n    fileInputRef.current?.click();\n  };\n\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file && onImportFlow) {\n      onImportFlow(file);\n    }\n    // Reset the input so the same file can be selected again\n    event.target.value = '';\n  };\n\n  // Calculate statistics\n  const totalFlows = flows.length;\n  const enabledFlows = flows.filter(f => f.active).length;\n  const totalExecutions = flows.reduce((sum, f) => sum + (f.totalExecutions || f.executionCount || 0), 0);\n  const avgExecutionTime = flows.length > 0\n    ? flows.reduce((sum, f) => sum + (f.averageExecutionTimeMs || 0), 0) / flows.length\n    : 0;\n\n  const formatExecutionTime = (ms: number) => {\n    if (ms < 1000) return `${Math.round(ms)}ms`;\n    if (ms < 60000) return `${(ms / 1000).toFixed(1)}s`;\n    const minutes = Math.floor(ms / 60000);\n    const seconds = Math.floor((ms % 60000) / 1000);\n    return `${minutes}m ${seconds}s`;\n  };\n\n  const calculateSuccessRate = (successful: number, total: number) => {\n    if (total === 0) return 100;\n    return Math.round((successful / total) * 100);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Hidden file input for import */}\n      <input\n        type=\"file\"\n        ref={fileInputRef}\n        onChange={handleFileChange}\n        accept=\".json\"\n        className=\"hidden\"\n      />\n\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-lg font-semibold\">Visual Flow Management</h2>\n          <p className=\"text-sm text-muted-foreground\">\n            Create and manage visual integration flows with drag-and-drop components\n          </p>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <Button variant=\"outline\" size=\"sm\" onClick={handleImportClick}>\n            <Upload className=\"h-4 w-4 mr-2\" />\n            Import Flow\n          </Button>\n          <Button size=\"sm\" onClick={onAddFlow}>\n            <Plus className=\"h-4 w-4 mr-2\" />\n            Create Flow\n          </Button>\n        </div>\n      </div>\n\n      {/* Statistics Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-6\">\n            <div className=\"flex items-center space-x-3\">\n              <Workflow className=\"h-8 w-8 text-primary\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Total Flows</p>\n                <p className=\"text-2xl font-bold text-foreground\">{totalFlows}</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-6\">\n            <div className=\"flex items-center space-x-3\">\n              <CheckCircle className=\"h-8 w-8 text-success\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Enabled Flows</p>\n                <p className=\"text-2xl font-bold text-foreground\">{enabledFlows}</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-6\">\n            <div className=\"flex items-center space-x-3\">\n              <CheckCircle className=\"h-8 w-8 text-info\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Total Executions</p>\n                <p className=\"text-2xl font-bold text-foreground\">{totalExecutions}</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-6\">\n            <div className=\"flex items-center space-x-3\">\n              <Clock className=\"h-8 w-8 text-warning\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Avg Execution Time</p>\n                <p className=\"text-2xl font-bold text-foreground\">{formatExecutionTime(avgExecutionTime)}</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Empty State */}\n      {flows.length === 0 ? (\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center justify-center py-12\">\n            <div className=\"text-center\">\n              <Workflow className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">No Visual Flows</h3>\n              <p className=\"text-muted-foreground mb-6\">\n                Create your first visual integration flow using our drag-and-drop builder\n              </p>\n              <Button onClick={onAddFlow}>\n                <Plus className=\"h-4 w-4 mr-2\" />\n                Create Flow\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      ) : (\n        /* Flow List */\n        <div className=\"space-y-6\">\n          {flows.map((flow) => {\n            const nodeCount = flow.flowDefinition?.nodes?.length || 0;\n            const connectionCount = flow.flowDefinition?.edges?.length || 0;\n            const successRate = calculateSuccessRate(flow.successfulExecutions || 0, flow.totalExecutions || 0);\n            const executions = flow.totalExecutions || flow.executionCount || 0;\n            const successful = flow.successfulExecutions || 0;\n            const failed = flow.failedExecutions || 0;\n\n            return (\n              <Card key={flow.id} className=\"app-card border\">\n                <CardHeader>\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-3\">\n                      <Workflow className=\"h-5 w-5 text-primary\" />\n                      <div>\n                        <CardTitle className=\"text-lg text-foreground\">\n                          {flow.name}\n                          {flow.flowVersion && (\n                            <span className=\"ml-2 text-sm text-muted-foreground\">v{flow.flowVersion}</span>\n                          )}\n                        </CardTitle>\n                        {flow.description && (\n                          <p className=\"text-sm text-muted-foreground\">{flow.description}</p>\n                        )}\n                        <div className=\"flex items-center space-x-4 mt-1 text-xs text-muted-foreground\">\n                          <span>Type: {flow.flowType || 'STANDARD'}</span>\n                          {flow.updatedAt && (\n                            <span>Updated: {new Date(flow.updatedAt).toLocaleDateString()}</span>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <span className={`text-xs px-2 py-1 rounded ${\n                        flow.active ? 'bg-success/20 text-success' : 'bg-muted/20 text-muted-foreground'\n                      }`}>\n                        {flow.active ? 'Active' : 'Inactive'}\n                      </span>\n                      <span className={`text-xs px-2 py-1 rounded ${\n                        flow.deployed ? 'bg-info/20 text-info' : 'bg-warning/20 text-warning'\n                      }`}>\n                        {flow.deployed ? 'Deployed' : 'Not Deployed'}\n                      </span>\n                      <div className={`w-3 h-3 rounded-full ${\n                        flow.active ? 'bg-success animate-glow' : 'bg-muted-foreground'\n                      }`} />\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-6\">\n                    {/* Flow Complexity Overview */}\n                    <div className=\"bg-secondary rounded-lg p-4\">\n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                        <div className=\"flex items-center space-x-2\">\n                          <Workflow className=\"h-4 w-4 text-primary\" />\n                          <div>\n                            <span className=\"text-muted-foreground\">Nodes:</span>\n                            <span className=\"ml-1 text-foreground font-medium\">{nodeCount}</span>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <ArrowRight className=\"h-4 w-4 text-info\" />\n                          <div>\n                            <span className=\"text-muted-foreground\">Connections:</span>\n                            <span className=\"ml-1 text-foreground font-medium\">{connectionCount}</span>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <CheckCircle className=\"h-4 w-4 text-success\" />\n                          <div>\n                            <span className=\"text-muted-foreground\">Success Rate:</span>\n                            <span className=\"ml-1 text-success font-medium\">{successRate}%</span>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <Clock className=\"h-4 w-4 text-warning\" />\n                          <div>\n                            <span className=\"text-muted-foreground\">Avg Time:</span>\n                            <span className=\"ml-1 text-foreground font-medium\">\n                              {formatExecutionTime(flow.averageExecutionTimeMs || 0)}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Flow Statistics */}\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                      <div>\n                        <span className=\"text-muted-foreground\">Total Executions:</span>\n                        <span className=\"ml-2 text-foreground font-medium\">{executions}</span>\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Successful:</span>\n                        <span className=\"ml-2 text-success font-medium\">{successful}</span>\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Failed:</span>\n                        <span className=\"ml-2 text-destructive font-medium\">{failed}</span>\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Created:</span>\n                        <span className=\"ml-2 text-foreground\">\n                          {flow.createdAt ? new Date(flow.createdAt).toLocaleDateString() : '-'}\n                        </span>\n                      </div>\n                    </div>\n\n                    {/* Action Buttons */}\n                    <div className=\"flex items-center justify-end pt-4 border-t border-border\">\n                      <div className=\"flex items-center space-x-2\">\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => onEditFlow?.(flow)}\n                          disabled={flow.deployed}\n                          className={flow.deployed ? \"opacity-50 cursor-not-allowed\" : \"\"}\n                          title={flow.deployed ? \"Flow must be undeployed before editing\" : \"\"}\n                        >\n                          <Workflow className=\"h-4 w-4 mr-2\" />\n                          Edit Visual Flow\n                        </Button>\n\n                        {/* Show Activate button for imported inactive flows */}\n                        {flow.originalFlowId && !flow.active && (\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            className=\"text-success hover:bg-success/10 hover:text-success\"\n                            onClick={() => onActivateFlow?.(flow)}\n                          >\n                            <Power className=\"h-4 w-4 mr-2\" />\n                            Activate\n                          </Button>\n                        )}\n\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => onViewFlow?.(flow)}\n                        >\n                          <Eye className=\"h-4 w-4 mr-2\" />\n                          View Details\n                        </Button>\n\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => onExportFlow?.(flow)}\n                        >\n                          <Download className=\"h-4 w-4 mr-2\" />\n                          Export\n                        </Button>\n\n                        {/* Deploy/Undeploy buttons */}\n                        {flow.deployed ? (\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            className=\"text-warning hover:bg-warning/10 hover:text-warning\"\n                            onClick={() => onUndeployFlow?.(flow)}\n                          >\n                            <Square className=\"h-4 w-4 mr-2\" />\n                            Undeploy\n                          </Button>\n                        ) : (\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            className=\"text-info hover:bg-info/10 hover:text-info\"\n                            onClick={() => onDeployFlow?.(flow)}\n                            disabled={!flow.active}\n                          >\n                            <Play className=\"h-4 w-4 mr-2\" />\n                            Deploy\n                          </Button>\n                        )}\n\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          className={`text-destructive hover:bg-destructive/10 hover:text-destructive ${flow.deployed ? \"opacity-50 cursor-not-allowed\" : \"\"}`}\n                          onClick={() => !flow.deployed && onDeleteFlow?.(flow)}\n                          disabled={flow.deployed}\n                          title={flow.deployed ? \"Flow must be undeployed before deleting\" : \"\"}\n                        >\n                          <Trash2 className=\"h-4 w-4 mr-2\" />\n                          Delete\n                        </Button>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PackageFlowsTab;\n","import React from 'react';\nimport { Controller, useWatch } from 'react-hook-form';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\n\ninterface FileAdapterConfigProps {\n  direction: 'SENDER' | 'RECEIVER';\n  control: any;\n  register: any;\n  errors: any;\n}\n\nconst FileAdapterConfig: React.FC<FileAdapterConfigProps> = ({ direction, control, register, errors }) => {\n  const watchArchiveFaultyFiles = useWatch({\n    control,\n    name: 'configuration.archiveFaultySourceFiles',\n    defaultValue: false\n  });\n\n  const watchPostProcessAction = useWatch({\n    control,\n    name: 'configuration.postProcessAction',\n    defaultValue: 'ARCHIVE'\n  });\n\n  const watchOutputFilenameMode = useWatch({\n    control,\n    name: 'configuration.outputFilenameMode',\n    defaultValue: 'UseOriginal'\n  });\n\n  const watchScheduleMode = useWatch({\n    control,\n    name: 'configuration.scheduleMode',\n    defaultValue: 'OnTime'\n  });\n\n  const watchScheduleType = useWatch({\n    control,\n    name: 'configuration.scheduleType',\n    defaultValue: 'Daily'\n  });\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Directory Configuration */}\n      <div>\n        <h4 className=\"text-sm font-medium mb-4\">\n          {direction === 'SENDER' ? 'Source' : 'Target'} Configuration\n        </h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {direction === 'SENDER' ? (\n            <>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"sourceDirectory\">Source Directory *</Label>\n                <Input\n                  id=\"sourceDirectory\"\n                  {...register('configuration.sourceDirectory', { required: true })}\n                  placeholder=\"/data/input\"\n                />\n                {errors?.configuration?.sourceDirectory && (\n                  <span className=\"text-sm text-destructive\">Source directory is required</span>\n                )}\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"filePattern\">File Name Mask</Label>\n                <Input\n                  id=\"filePattern\"\n                  {...register('configuration.filePattern')}\n                  placeholder=\"*.xml\"\n                  defaultValue=\"*\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"exclusionMask\">Exclusion Mask</Label>\n                <Input\n                  id=\"exclusionMask\"\n                  {...register('configuration.exclusionMask')}\n                  placeholder=\"*.tmp\"\n                />\n              </div>\n            </>\n          ) : (\n            <>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"targetDirectory\">Target Directory *</Label>\n                <Input\n                  id=\"targetDirectory\"\n                  {...register('configuration.targetDirectory', { required: true })}\n                  placeholder=\"/data/output\"\n                />\n                {errors?.configuration?.targetDirectory && (\n                  <span className=\"text-sm text-destructive\">Target directory is required</span>\n                )}\n              </div>\n              <div className=\"flex items-center space-x-2 pt-8\">\n                <Controller\n                  name=\"configuration.createTargetDirectory\"\n                  control={control}\n                  render={({ field }) => (\n                    <input\n                      type=\"checkbox\"\n                      id=\"createTargetDirectory\"\n                      checked={Boolean(field.value)}\n                      onChange={field.onChange}\n                      className=\"w-4 h-4\"\n                    />\n                  )}\n                />\n                <Label htmlFor=\"createTargetDirectory\">Create Target Directory</Label>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* Processing Parameters - SENDER */}\n      {direction === 'SENDER' && (\n        <div>\n          <h4 className=\"text-sm font-medium mb-4\">Processing Parameters</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"retryInterval\">Retry Interval (secs)</Label>\n              <Input\n                id=\"retryInterval\"\n                type=\"number\"\n                {...register('configuration.retryInterval')}\n                placeholder=\"60\"\n                defaultValue=\"60\"\n                min=\"1\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"emptyFileHandling\">Empty File Handling</Label>\n              <Controller\n                name=\"configuration.emptyFileHandling\"\n                control={control}\n                defaultValue=\"Do Not Create Message\"\n                render={({ field }) => (\n                  <Select value={field.value} onValueChange={field.onChange}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Select handling\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"Do Not Create Message\">Do Not Create Message</SelectItem>\n                      <SelectItem value=\"Process Empty Files\">Process Empty Files</SelectItem>\n                      <SelectItem value=\"Skip Empty Files\">Skip Empty Files</SelectItem>\n                    </SelectContent>\n                  </Select>\n                )}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"postProcessAction\">Post Process Action</Label>\n              <Controller\n                name=\"configuration.postProcessAction\"\n                control={control}\n                defaultValue=\"ARCHIVE\"\n                render={({ field }) => (\n                  <Select value={field.value} onValueChange={field.onChange}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Select post process action\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"ARCHIVE\">Archive</SelectItem>\n                      <SelectItem value=\"KEEP_AND_MARK\">Keep File and Mark as Processed</SelectItem>\n                      <SelectItem value=\"KEEP_AND_REPROCESS\">Keep File and Process Again</SelectItem>\n                      <SelectItem value=\"DELETE\">Delete File</SelectItem>\n                    </SelectContent>\n                  </Select>\n                )}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"fileType\">File Type</Label>\n              <Controller\n                name=\"configuration.fileType\"\n                control={control}\n                defaultValue=\"Binary\"\n                render={({ field }) => (\n                  <Select value={field.value} onValueChange={field.onChange}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Select file type\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"Binary\">Binary</SelectItem>\n                      <SelectItem value=\"Text\">Text</SelectItem>\n                    </SelectContent>\n                  </Select>\n                )}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* File Output Configuration - RECEIVER */}\n      {direction === 'RECEIVER' && (\n        <div>\n          <h4 className=\"text-sm font-medium mb-4\">File Output Configuration</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"outputFilenameMode\">Output Filename Mode</Label>\n              <Controller\n                name=\"configuration.outputFilenameMode\"\n                control={control}\n                defaultValue=\"UseOriginal\"\n                render={({ field }) => (\n                  <Select value={field.value} onValueChange={field.onChange}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Select filename mode\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"UseOriginal\">Use Original Filename</SelectItem>\n                      <SelectItem value=\"AddTimestamp\">Add Timestamp to Filename</SelectItem>\n                      <SelectItem value=\"Custom\">Custom Filename Pattern</SelectItem>\n                    </SelectContent>\n                  </Select>\n                )}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"fileType\">File Type</Label>\n              <Controller\n                name=\"configuration.fileType\"\n                control={control}\n                defaultValue=\"Binary\"\n                render={({ field }) => (\n                  <Select value={field.value} onValueChange={field.onChange}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Select file type\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"Binary\">Binary</SelectItem>\n                      <SelectItem value=\"Text\">Text</SelectItem>\n                    </SelectContent>\n                  </Select>\n                )}\n              />\n            </div>\n          </div>\n          {watchOutputFilenameMode === 'Custom' && (\n            <div className=\"mt-4 space-y-2\">\n              <Label htmlFor=\"customFilenamePattern\">Custom Filename Pattern</Label>\n              <Input\n                id=\"customFilenamePattern\"\n                {...register('configuration.customFilenamePattern')}\n                placeholder=\"{original_name}_{timestamp}.{extension}\"\n              />\n              <p className=\"text-sm text-muted-foreground\">\n                Available variables: {'{original_name}'}, {'{timestamp}'}, {'{date}'}, {'{extension}'}\n              </p>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Archive Configuration - SENDER when Archive mode */}\n      {direction === 'SENDER' && watchPostProcessAction === 'ARCHIVE' && (\n        <div>\n          <h4 className=\"text-sm font-medium mb-4\">Archive Configuration</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"archiveDirectory\">Archive Directory</Label>\n              <Input\n                id=\"archiveDirectory\"\n                {...register('configuration.archiveDirectory')}\n                placeholder=\"/data/archive\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"archiveFileNaming\">Archive File Naming</Label>\n              <Controller\n                name=\"configuration.archiveFileNaming\"\n                control={control}\n                defaultValue=\"Original\"\n                render={({ field }) => (\n                  <Select value={field.value} onValueChange={field.onChange}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Select naming\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"Original\">Keep Original Name</SelectItem>\n                      <SelectItem value=\"Timestamp\">Add Timestamp</SelectItem>\n                      <SelectItem value=\"Counter\">Add Counter</SelectItem>\n                    </SelectContent>\n                  </Select>\n                )}\n              />\n            </div>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n            <div className=\"flex items-center space-x-2\">\n              <Controller\n                name=\"configuration.createArchiveDirectory\"\n                control={control}\n                render={({ field }) => (\n                  <input\n                    type=\"checkbox\"\n                    id=\"createArchiveDirectory\"\n                    checked={Boolean(field.value)}\n                    onChange={field.onChange}\n                    className=\"w-4 h-4\"\n                  />\n                )}\n              />\n              <Label htmlFor=\"createArchiveDirectory\">Create Archive Directory if it doesn't exist</Label>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <Controller\n                name=\"configuration.compressArchive\"\n                control={control}\n                render={({ field }) => (\n                  <input\n                    type=\"checkbox\"\n                    id=\"compressArchive\"\n                    checked={Boolean(field.value)}\n                    onChange={field.onChange}\n                    className=\"w-4 h-4\"\n                  />\n                )}\n              />\n              <Label htmlFor=\"compressArchive\">Compress archived files</Label>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Error Handling - SENDER */}\n      {direction === 'SENDER' && (\n        <div>\n          <h4 className=\"text-sm font-medium mb-4\">Error Handling</h4>\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center space-x-2\">\n              <Controller\n                name=\"configuration.archiveFaultySourceFiles\"\n                control={control}\n                render={({ field }) => (\n                  <input\n                    type=\"checkbox\"\n                    id=\"archiveFaultySourceFiles\"\n                    checked={Boolean(field.value)}\n                    onChange={field.onChange}\n                    className=\"w-4 h-4\"\n                  />\n                )}\n              />\n              <Label htmlFor=\"archiveFaultySourceFiles\">Archive Faulty Source Files</Label>\n            </div>\n            {watchArchiveFaultyFiles && (\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"archiveErrorDirectory\">Directory for Archiving Files with Errors</Label>\n                <Input\n                  id=\"archiveErrorDirectory\"\n                  {...register('configuration.archiveErrorDirectory')}\n                  placeholder=\"/data/error\"\n                />\n              </div>\n            )}\n            <div className=\"flex items-center space-x-2\">\n              <Controller\n                name=\"configuration.processReadOnlyFiles\"\n                control={control}\n                render={({ field }) => (\n                  <input\n                    type=\"checkbox\"\n                    id=\"processReadOnlyFiles\"\n                    checked={Boolean(field.value)}\n                    onChange={field.onChange}\n                    className=\"w-4 h-4\"\n                  />\n                )}\n              />\n              <Label htmlFor=\"processReadOnlyFiles\">Process Read-Only Files</Label>\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"processingSequence\">Processing Sequence</Label>\n              <Controller\n                name=\"configuration.processingSequence\"\n                control={control}\n                defaultValue=\"By Name\"\n                render={({ field }) => (\n                  <Select value={field.value} onValueChange={field.onChange}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Select sequence\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"By Name\">By Name</SelectItem>\n                      <SelectItem value=\"By Date\">By Date</SelectItem>\n                    </SelectContent>\n                  </Select>\n                )}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* File Construction - RECEIVER */}\n      {direction === 'RECEIVER' && (\n        <div>\n          <h4 className=\"text-sm font-medium mb-4\">File Construction</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"fileConstructionMode\">File Construction Mode</Label>\n              <Controller\n                name=\"configuration.fileConstructionMode\"\n                control={control}\n                defaultValue=\"Create\"\n                render={({ field }) => (\n                  <Select value={field.value} onValueChange={field.onChange}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Select mode\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"Add Time Stamp\">Add Time Stamp</SelectItem>\n                      <SelectItem value=\"Create\">Create</SelectItem>\n                    </SelectContent>\n                  </Select>\n                )}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"writeMode\">Write Mode</Label>\n              <Controller\n                name=\"configuration.writeMode\"\n                control={control}\n                defaultValue=\"Directly\"\n                render={({ field }) => (\n                  <Select value={field.value} onValueChange={field.onChange}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Select write mode\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"Directly\">Directly</SelectItem>\n                      <SelectItem value=\"Create Temp File\">Create Temp File</SelectItem>\n                    </SelectContent>\n                  </Select>\n                )}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"emptyMessageHandling\">Empty Message Handling</Label>\n              <Controller\n                name=\"configuration.emptyMessageHandling\"\n                control={control}\n                defaultValue=\"Write Empty File\"\n                render={({ field }) => (\n                  <Select value={field.value} onValueChange={field.onChange}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Select handling\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"Write Empty File\">Write Empty File</SelectItem>\n                      <SelectItem value=\"Skip Empty Messages\">Skip Empty Messages</SelectItem>\n                    </SelectContent>\n                  </Select>\n                )}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"maximumConcurrency\">Maximum Concurrency</Label>\n              <Input\n                id=\"maximumConcurrency\"\n                type=\"number\"\n                {...register('configuration.maximumConcurrency')}\n                placeholder=\"1\"\n                defaultValue=\"1\"\n                min=\"1\"\n                max=\"10\"\n              />\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Advanced Parameters */}\n      <div>\n        <h4 className=\"text-sm font-medium mb-4\">Advanced Parameters</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"msecsToWaitBeforeModificationCheck\">Msecs to Wait Before Modification Check</Label>\n            <Input\n              id=\"msecsToWaitBeforeModificationCheck\"\n              type=\"number\"\n              {...register('configuration.msecsToWaitBeforeModificationCheck')}\n              placeholder=\"0\"\n              defaultValue=\"0\"\n              min=\"0\"\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"maximumFileSize\">Maximum File Size (Bytes)</Label>\n            <Input\n              id=\"maximumFileSize\"\n              type=\"number\"\n              {...register('configuration.maximumFileSize')}\n              placeholder=\"0\"\n              defaultValue=\"0\"\n              min=\"0\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Scheduler Settings - SENDER only */}\n      {direction === 'SENDER' && (\n        <div>\n          <h4 className=\"text-sm font-medium mb-4\">Scheduler Settings</h4>\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"scheduleType\">Schedule Type</Label>\n                <Controller\n                  name=\"configuration.scheduleType\"\n                  control={control}\n                  defaultValue=\"Daily\"\n                  render={({ field }) => (\n                    <Select value={field.value} onValueChange={field.onChange}>\n                      <SelectTrigger>\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"Daily\">Daily</SelectItem>\n                        <SelectItem value=\"Weekly\">Weekly</SelectItem>\n                        <SelectItem value=\"Monthly\">Monthly</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  )}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"scheduleMode\">Schedule Mode</Label>\n                <Controller\n                  name=\"configuration.scheduleMode\"\n                  control={control}\n                  defaultValue=\"OnTime\"\n                  render={({ field }) => (\n                    <Select value={field.value} onValueChange={field.onChange}>\n                      <SelectTrigger>\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"OnTime\">On Time</SelectItem>\n                        <SelectItem value=\"Every\">Every Interval</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  )}\n                />\n              </div>\n            </div>\n\n            {watchScheduleMode === 'OnTime' && (\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"onTimeValue\">Execution Time</Label>\n                <Input\n                  id=\"onTimeValue\"\n                  type=\"time\"\n                  defaultValue=\"20:27\"\n                  {...register('configuration.onTimeValue')}\n                />\n              </div>\n            )}\n\n            {watchScheduleMode === 'Every' && (\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"everyInterval\">Every Interval</Label>\n                  <Controller\n                    name=\"configuration.everyInterval\"\n                    control={control}\n                    defaultValue=\"1 min\"\n                    render={({ field }) => (\n                      <Select value={field.value} onValueChange={field.onChange}>\n                        <SelectTrigger>\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"1 min\">1 minute</SelectItem>\n                          <SelectItem value=\"5 min\">5 minutes</SelectItem>\n                          <SelectItem value=\"15 min\">15 minutes</SelectItem>\n                          <SelectItem value=\"30 min\">30 minutes</SelectItem>\n                          <SelectItem value=\"1 hour\">1 hour</SelectItem>\n                          <SelectItem value=\"2 hours\">2 hours</SelectItem>\n                          <SelectItem value=\"4 hours\">4 hours</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    )}\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"everyStartTime\">Start Time</Label>\n                  <Input\n                    id=\"everyStartTime\"\n                    type=\"time\"\n                    defaultValue=\"00:00\"\n                    {...register('configuration.everyStartTime')}\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"everyEndTime\">End Time</Label>\n                  <Input\n                    id=\"everyEndTime\"\n                    type=\"time\"\n                    defaultValue=\"24:00\"\n                    {...register('configuration.everyEndTime')}\n                  />\n                </div>\n              </div>\n            )}\n\n            {watchScheduleType === 'Weekly' && (\n              <div className=\"space-y-2\">\n                <Label>Days of Week</Label>\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                  {[\n                    { key: 'monday', label: 'Monday' },\n                    { key: 'tuesday', label: 'Tuesday' },\n                    { key: 'wednesday', label: 'Wednesday' },\n                    { key: 'thursday', label: 'Thursday' },\n                    { key: 'friday', label: 'Friday' },\n                    { key: 'saturday', label: 'Saturday' },\n                    { key: 'sunday', label: 'Sunday' }\n                  ].map((day) => (\n                    <div key={day.key} className=\"flex items-center space-x-2\">\n                      <Controller\n                        name={`configuration.weeklyDays.${day.key}` as any}\n                        control={control}\n                        defaultValue={false}\n                        render={({ field }) => (\n                          <input\n                            type=\"checkbox\"\n                            id={`weekly_${day.key}`}\n                            checked={Boolean(field.value)}\n                            onChange={field.onChange}\n                            className=\"w-4 h-4\"\n                          />\n                        )}\n                      />\n                      <Label htmlFor={`weekly_${day.key}`} className=\"text-sm\">{day.label}</Label>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {watchScheduleType === 'Monthly' && (\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"monthlyDay\">Day of Month</Label>\n                <Controller\n                  name=\"configuration.monthlyDay\"\n                  control={control}\n                  defaultValue=\"1\"\n                  render={({ field }) => (\n                    <Select value={field.value} onValueChange={field.onChange}>\n                      <SelectTrigger>\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {Array.from({ length: 31 }, (_, i) => i + 1).map(day => (\n                          <SelectItem key={day} value={day.toString()}>{day}</SelectItem>\n                        ))}\n                        <SelectItem value=\"last\">Last Day of Month</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  )}\n                />\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default FileAdapterConfig;\n","import React from 'react';\nimport { Controller, useWatch } from 'react-hook-form';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\n\ninterface SftpAdapterConfigProps {\n  direction: 'SENDER' | 'RECEIVER';\n  control: any;\n  register: any;\n  errors: any;\n  sshKeysData?: any[];\n}\n\nconst SftpAdapterConfig: React.FC<SftpAdapterConfigProps> = ({ direction, control, register, errors, sshKeysData = [] }) => {\n  const watchScheduleMode = useWatch({\n    control,\n    name: 'configuration.scheduleMode',\n    defaultValue: 'OnTime'\n  });\n\n  const watchScheduleType = useWatch({\n    control,\n    name: 'configuration.scheduleType',\n    defaultValue: 'Daily'\n  });\n\n  const watchAuthType = useWatch({\n    control,\n    name: 'configuration.authenticationType',\n    defaultValue: 'USERNAME_PASSWORD'\n  });\n\n  const watchPostProcessAction = useWatch({\n    control,\n    name: 'configuration.postProcessAction',\n    defaultValue: 'ARCHIVE'\n  });\n\n  const watchOutputFilenameMode = useWatch({\n    control,\n    name: 'configuration.outputFilenameMode',\n    defaultValue: 'UseOriginal'\n  });\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Connection Settings */}\n      <div>\n        <h4 className=\"text-sm font-medium mb-4\">Connection Settings</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"host\">Host *</Label>\n            <Input\n              id=\"host\"\n              placeholder=\"sftp.bank.com\"\n              {...register('configuration.host', { required: 'SFTP host is required' })}\n            />\n            {errors.configuration?.host && (\n              <p className=\"text-sm text-destructive\">{errors.configuration.host.message}</p>\n            )}\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"port\">Port</Label>\n            <Input\n              id=\"port\"\n              type=\"number\"\n              placeholder=\"22\"\n              defaultValue=\"22\"\n              {...register('configuration.port')}\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"authenticationType\">Authentication Type</Label>\n            <Controller\n              name=\"configuration.authenticationType\"\n              control={control}\n              defaultValue=\"USERNAME_PASSWORD\"\n              render={({ field }) => (\n                <Select value={field.value} onValueChange={field.onChange}>\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Select authentication type\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"USERNAME_PASSWORD\">Username/Password</SelectItem>\n                    <SelectItem value=\"PUBLIC_KEY\">Public Key</SelectItem>\n                    <SelectItem value=\"DUAL\">Dual Authentication</SelectItem>\n                  </SelectContent>\n                </Select>\n              )}\n            />\n          </div>\n        </div>\n\n        {/* Authentication Fields */}\n        <div className=\"space-y-4 mt-4\">\n          {(watchAuthType === 'USERNAME_PASSWORD' || watchAuthType === 'DUAL') && (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"username\">Username</Label>\n                <Input\n                  id=\"username\"\n                  placeholder=\"Administrator\"\n                  {...register('configuration.username')}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"password\">Password</Label>\n                <Input\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"\"\n                  {...register('configuration.password')}\n                />\n              </div>\n            </div>\n          )}\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"serverFingerprint\">Server Fingerprint</Label>\n            <Input\n              id=\"serverFingerprint\"\n              placeholder=\"SHA256:AAAA... or MD5:aa:bb:cc...\"\n              {...register('configuration.serverFingerprint')}\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              Optional: SSH server host key fingerprint for additional security verification\n            </p>\n          </div>\n\n          {(watchAuthType === 'PUBLIC_KEY' || watchAuthType === 'DUAL') && (\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"sshKeyId\">SSH Key</Label>\n              <Controller\n                name=\"configuration.sshKeyId\"\n                control={control}\n                render={({ field }) => (\n                  <Select value={field.value} onValueChange={field.onChange}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Select SSH Key\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {sshKeysData.length > 0 ? (\n                        sshKeysData.map((key: any) => (\n                          <SelectItem key={key.id} value={key.id}>\n                            {key.name} ({key.keyType})\n                          </SelectItem>\n                        ))\n                      ) : (\n                        <SelectItem value=\"no-keys\" disabled>\n                          No SSH keys available\n                        </SelectItem>\n                      )}\n                    </SelectContent>\n                  </Select>\n                )}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* RECEIVER - Remote Destination Settings */}\n      {direction === 'RECEIVER' && (\n        <>\n          <div>\n            <h4 className=\"text-sm font-medium mb-4\">Remote Destination Settings</h4>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"targetDirectory\">Target Directory *</Label>\n                <Input\n                  id=\"targetDirectory\"\n                  placeholder=\"/incoming/payments\"\n                  {...register('configuration.targetDirectory', { required: 'Target directory is required' })}\n                />\n                {errors.configuration?.targetDirectory && (\n                  <p className=\"text-sm text-destructive\">{errors.configuration.targetDirectory.message}</p>\n                )}\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"remoteFilePermissions\">Remote File Permissions</Label>\n                <Input\n                  id=\"remoteFilePermissions\"\n                  placeholder=\"644\"\n                  {...register('configuration.remoteFilePermissions')}\n                />\n              </div>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n              <div className=\"flex items-center space-x-2\">\n                <Controller\n                  name=\"configuration.createRemoteDirectory\"\n                  control={control}\n                  render={({ field }) => (\n                    <input\n                      type=\"checkbox\"\n                      id=\"createRemoteDirectory\"\n                      checked={Boolean(field.value)}\n                      onChange={field.onChange}\n                      className=\"w-4 h-4\"\n                    />\n                  )}\n                />\n                <Label htmlFor=\"createRemoteDirectory\">Create Remote Directory</Label>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <Controller\n                  name=\"configuration.useTemporaryFileName\"\n                  control={control}\n                  render={({ field }) => (\n                    <input\n                      type=\"checkbox\"\n                      id=\"useTemporaryFileName\"\n                      checked={Boolean(field.value)}\n                      onChange={field.onChange}\n                      className=\"w-4 h-4\"\n                    />\n                  )}\n                />\n                <Label htmlFor=\"useTemporaryFileName\">Use Temporary File Name</Label>\n              </div>\n            </div>\n            <div className=\"space-y-2 mt-4\">\n              <Label htmlFor=\"temporaryFileSuffix\">Temporary File Suffix</Label>\n              <Input\n                id=\"temporaryFileSuffix\"\n                placeholder=\".tmp\"\n                {...register('configuration.temporaryFileSuffix')}\n              />\n            </div>\n          </div>\n\n          {/* Output Filename Configuration */}\n          <div>\n            <h4 className=\"text-sm font-medium mb-4\">Output Filename Configuration</h4>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"outputFilenameMode\">Output Filename Mode</Label>\n              <Controller\n                name=\"configuration.outputFilenameMode\"\n                control={control}\n                defaultValue=\"UseOriginal\"\n                render={({ field }) => (\n                  <Select value={field.value} onValueChange={field.onChange}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Select filename mode\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"UseOriginal\">Use Original Filename</SelectItem>\n                      <SelectItem value=\"AddTimestamp\">Add Timestamp to Filename</SelectItem>\n                      <SelectItem value=\"Custom\">Custom Filename Pattern</SelectItem>\n                    </SelectContent>\n                  </Select>\n                )}\n              />\n            </div>\n            {watchOutputFilenameMode === 'Custom' && (\n              <div className=\"space-y-2 mt-4\">\n                <Label htmlFor=\"customFilenamePattern\">Custom Filename Pattern</Label>\n                <Input\n                  id=\"customFilenamePattern\"\n                  {...register('configuration.customFilenamePattern')}\n                  placeholder=\"{original_name}_{timestamp}.{extension}\"\n                />\n                <p className=\"text-sm text-muted-foreground\">\n                  Available variables: {'{original_name}'}, {'{timestamp}'}, {'{date}'}, {'{extension}'}\n                </p>\n              </div>\n            )}\n          </div>\n        </>\n      )}\n\n      {/* Connection Properties */}\n      <div>\n        <h4 className=\"text-sm font-medium mb-4\">Connection Properties</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"connectionTimeout\">Connection Timeout (ms)</Label>\n            <Input\n              id=\"connectionTimeout\"\n              type=\"number\"\n              placeholder=\"30000\"\n              defaultValue=\"30000\"\n              {...register('configuration.connectionTimeout')}\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"socketTimeout\">Socket Timeout (ms)</Label>\n            <Input\n              id=\"socketTimeout\"\n              type=\"number\"\n              placeholder=\"60000\"\n              defaultValue=\"60000\"\n              {...register('configuration.socketTimeout')}\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"keepAlive\">Keep Alive</Label>\n            <Controller\n              name=\"configuration.keepAlive\"\n              control={control}\n              render={({ field }) => (\n                <Select value={field.value ? \"true\" : \"false\"} onValueChange={(value) => field.onChange(value === \"true\")}>\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Select keep alive\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"true\">Enabled</SelectItem>\n                    <SelectItem value=\"false\">Disabled</SelectItem>\n                  </SelectContent>\n                </Select>\n              )}\n            />\n          </div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"sessionTimeout\">Session Timeout (ms)</Label>\n            <Input\n              id=\"sessionTimeout\"\n              type=\"number\"\n              placeholder=\"60000\"\n              defaultValue=\"60000\"\n              {...register('configuration.sessionTimeout')}\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"channelTimeout\">Channel Timeout (ms)</Label>\n            <Input\n              id=\"channelTimeout\"\n              type=\"number\"\n              placeholder=\"30000\"\n              defaultValue=\"30000\"\n              {...register('configuration.channelTimeout')}\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"connectionPoolSize\">Connection Pool Size</Label>\n            <Input\n              id=\"connectionPoolSize\"\n              type=\"number\"\n              placeholder=\"5\"\n              defaultValue=\"5\"\n              min=\"1\"\n              max=\"20\"\n              {...register('configuration.connectionPoolSize')}\n            />\n          </div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"strictHostKeyChecking\">Strict Host Key Checking</Label>\n            <Controller\n              name=\"configuration.strictHostKeyChecking\"\n              control={control}\n              defaultValue={false}\n              render={({ field }) => (\n                <Select value={field.value ? \"true\" : \"false\"} onValueChange={(value) => field.onChange(value === \"true\")}>\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Select host key checking\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"true\">Enabled</SelectItem>\n                    <SelectItem value=\"false\">Disabled</SelectItem>\n                  </SelectContent>\n                </Select>\n              )}\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"connectionMode\">Connection Mode</Label>\n            <Controller\n              name=\"configuration.connectionMode\"\n              control={control}\n              defaultValue=\"Permanently\"\n              render={({ field }) => (\n                <Select value={field.value} onValueChange={field.onChange}>\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Select connection mode\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"Permanently\">Permanently</SelectItem>\n                    <SelectItem value=\"Per File Transfer\">Per File Transfer</SelectItem>\n                  </SelectContent>\n                </Select>\n              )}\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Transfer Settings */}\n      <div>\n        <h4 className=\"text-sm font-medium mb-4\">Transfer Settings</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"maxRetryAttempts\">Max Retry Attempts</Label>\n            <Input\n              id=\"maxRetryAttempts\"\n              type=\"number\"\n              placeholder=\"3\"\n              defaultValue=\"3\"\n              min=\"1\"\n              max=\"10\"\n              {...register('configuration.maxRetryAttempts')}\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"retryDelayMs\">Retry Delay (ms)</Label>\n            <Input\n              id=\"retryDelayMs\"\n              type=\"number\"\n              placeholder=\"5000\"\n              defaultValue=\"5000\"\n              {...register('configuration.retryDelayMs')}\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"maxFileSize\">Max File Size (MB)</Label>\n            <Input\n              id=\"maxFileSize\"\n              type=\"number\"\n              placeholder=\"100\"\n              defaultValue=\"100\"\n              {...register('configuration.maxFileSize')}\n            />\n          </div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"transferBufferSize\">Transfer Buffer Size (KB)</Label>\n            <Input\n              id=\"transferBufferSize\"\n              type=\"number\"\n              placeholder=\"32\"\n              defaultValue=\"32\"\n              {...register('configuration.transferBufferSize')}\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"transferMode\">Transfer Mode</Label>\n            <Controller\n              name=\"configuration.transferMode\"\n              control={control}\n              defaultValue=\"BINARY\"\n              render={({ field }) => (\n                <Select value={field.value} onValueChange={field.onChange}>\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Select transfer mode\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"BINARY\">Binary</SelectItem>\n                    <SelectItem value=\"ASCII\">ASCII</SelectItem>\n                    <SelectItem value=\"AUTO\">Auto</SelectItem>\n                  </SelectContent>\n                </Select>\n              )}\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* SENDER - Remote Pickup Settings */}\n      {direction === 'SENDER' && (\n        <>\n          <div>\n            <h4 className=\"text-sm font-medium mb-4\">Remote Pickup Settings</h4>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"sourceDirectory\">Source Directory *</Label>\n                <Input\n                  id=\"sourceDirectory\"\n                  placeholder=\"/outgoing/statements\"\n                  {...register('configuration.sourceDirectory', { required: 'Source directory is required' })}\n                />\n                {errors.configuration?.sourceDirectory && (\n                  <p className=\"text-sm text-destructive\">{errors.configuration.sourceDirectory.message}</p>\n                )}\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"filename\">Filename Pattern *</Label>\n                <Input\n                  id=\"filename\"\n                  placeholder=\"*.csv\"\n                  {...register('configuration.filename', { required: 'Filename pattern is required' })}\n                />\n                {errors.configuration?.filename && (\n                  <p className=\"text-sm text-destructive\">{errors.configuration.filename.message}</p>\n                )}\n              </div>\n            </div>\n            <div className=\"mt-4 space-y-2\">\n              <Label htmlFor=\"excludePattern\">Exclude Pattern</Label>\n              <Input\n                id=\"excludePattern\"\n                placeholder=\"*.tmp,*.processing\"\n                {...register('configuration.excludePattern')}\n              />\n            </div>\n          </div>\n\n          {/* Scheduler Settings */}\n          <div>\n            <h4 className=\"text-sm font-medium mb-4\">Scheduler Settings</h4>\n            <div className=\"space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"scheduleType\">Schedule Type</Label>\n                  <Controller\n                    name=\"configuration.scheduleType\"\n                    control={control}\n                    defaultValue=\"Daily\"\n                    render={({ field }) => (\n                      <Select value={field.value} onValueChange={field.onChange}>\n                        <SelectTrigger>\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"Daily\">Daily</SelectItem>\n                          <SelectItem value=\"Weekly\">Weekly</SelectItem>\n                          <SelectItem value=\"Monthly\">Monthly</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    )}\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"scheduleMode\">Schedule Mode</Label>\n                  <Controller\n                    name=\"configuration.scheduleMode\"\n                    control={control}\n                    defaultValue=\"OnTime\"\n                    render={({ field }) => (\n                      <Select value={field.value} onValueChange={field.onChange}>\n                        <SelectTrigger>\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"OnTime\">On Time</SelectItem>\n                          <SelectItem value=\"Every\">Every Interval</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    )}\n                  />\n                </div>\n              </div>\n\n              {watchScheduleMode === 'OnTime' && (\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"onTimeValue\">Execution Time</Label>\n                  <Input\n                    id=\"onTimeValue\"\n                    type=\"time\"\n                    defaultValue=\"20:27\"\n                    {...register('configuration.onTimeValue')}\n                  />\n                </div>\n              )}\n\n              {watchScheduleMode === 'Every' && (\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"everyInterval\">Every Interval</Label>\n                    <Controller\n                      name=\"configuration.everyInterval\"\n                      control={control}\n                      defaultValue=\"1 min\"\n                      render={({ field }) => (\n                        <Select value={field.value} onValueChange={field.onChange}>\n                          <SelectTrigger>\n                            <SelectValue />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value=\"1 min\">1 minute</SelectItem>\n                            <SelectItem value=\"5 min\">5 minutes</SelectItem>\n                            <SelectItem value=\"15 min\">15 minutes</SelectItem>\n                            <SelectItem value=\"30 min\">30 minutes</SelectItem>\n                            <SelectItem value=\"1 hour\">1 hour</SelectItem>\n                            <SelectItem value=\"2 hours\">2 hours</SelectItem>\n                            <SelectItem value=\"4 hours\">4 hours</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      )}\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"everyStartTime\">Start Time</Label>\n                    <Input\n                      id=\"everyStartTime\"\n                      type=\"time\"\n                      defaultValue=\"00:00\"\n                      {...register('configuration.everyStartTime')}\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"everyEndTime\">End Time</Label>\n                    <Input\n                      id=\"everyEndTime\"\n                      type=\"time\"\n                      defaultValue=\"24:00\"\n                      {...register('configuration.everyEndTime')}\n                    />\n                  </div>\n                </div>\n              )}\n\n              {watchScheduleType === 'Weekly' && (\n                <div className=\"space-y-2\">\n                  <Label>Days of Week</Label>\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                    {[\n                      { key: 'monday', label: 'Monday' },\n                      { key: 'tuesday', label: 'Tuesday' },\n                      { key: 'wednesday', label: 'Wednesday' },\n                      { key: 'thursday', label: 'Thursday' },\n                      { key: 'friday', label: 'Friday' },\n                      { key: 'saturday', label: 'Saturday' },\n                      { key: 'sunday', label: 'Sunday' }\n                    ].map((day) => (\n                      <div key={day.key} className=\"flex items-center space-x-2\">\n                        <Controller\n                          name={`configuration.weeklyDays.${day.key}` as any}\n                          control={control}\n                          defaultValue={false}\n                          render={({ field }) => (\n                            <input\n                              type=\"checkbox\"\n                              id={`weekly_${day.key}`}\n                              checked={Boolean(field.value)}\n                              onChange={field.onChange}\n                              className=\"w-4 h-4\"\n                            />\n                          )}\n                        />\n                        <Label htmlFor={`weekly_${day.key}`} className=\"text-sm\">{day.label}</Label>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {watchScheduleType === 'Monthly' && (\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"monthlyDay\">Day of Month</Label>\n                  <Controller\n                    name=\"configuration.monthlyDay\"\n                    control={control}\n                    defaultValue=\"1\"\n                    render={({ field }) => (\n                      <Select value={field.value} onValueChange={field.onChange}>\n                        <SelectTrigger>\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                          {Array.from({ length: 31 }, (_, i) => i + 1).map(day => (\n                            <SelectItem key={day} value={day.toString()}>{day}</SelectItem>\n                          ))}\n                          <SelectItem value=\"last\">Last Day of Month</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    )}\n                  />\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Empty File Handling */}\n          <div>\n            <h4 className=\"text-sm font-medium mb-4\">Empty File Handling</h4>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"emptyFileHandling\">Empty File Handling</Label>\n              <Controller\n                name=\"configuration.emptyFileHandling\"\n                control={control}\n                defaultValue=\"Do Not Create Message\"\n                render={({ field }) => (\n                  <Select value={field.value} onValueChange={field.onChange}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Select empty file handling\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"Do Not Create Message\">Do Not Create Message</SelectItem>\n                      <SelectItem value=\"Process Empty Files\">Process Empty Files</SelectItem>\n                      <SelectItem value=\"Skip Empty Files\">Skip Empty Files</SelectItem>\n                    </SelectContent>\n                  </Select>\n                )}\n              />\n            </div>\n          </div>\n\n          {/* Post-Processing */}\n          <div>\n            <h4 className=\"text-sm font-medium mb-4\">Post-Processing</h4>\n            <div className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"postProcessAction\">Post Process Action</Label>\n                <Controller\n                  name=\"configuration.postProcessAction\"\n                  control={control}\n                  defaultValue=\"ARCHIVE\"\n                  render={({ field }) => (\n                    <Select value={field.value} onValueChange={field.onChange}>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select post process action\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"ARCHIVE\">Archive</SelectItem>\n                        <SelectItem value=\"KEEP_AND_MARK\">Keep File and Mark as Processed</SelectItem>\n                        <SelectItem value=\"KEEP_AND_REPROCESS\">Keep File and Process Again</SelectItem>\n                        <SelectItem value=\"DELETE\">Delete File</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  )}\n                />\n              </div>\n\n              {watchPostProcessAction === 'ARCHIVE' && (\n                <>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"archiveDirectory\">Archive Directory</Label>\n                    <Input\n                      id=\"archiveDirectory\"\n                      placeholder=\"/data/archive\"\n                      {...register('configuration.archiveDirectory')}\n                    />\n                  </div>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      <Controller\n                        name=\"configuration.archiveWithTimestamp\"\n                        control={control}\n                        render={({ field }) => (\n                          <input\n                            type=\"checkbox\"\n                            id=\"archiveWithTimestamp\"\n                            checked={Boolean(field.value)}\n                            onChange={field.onChange}\n                            className=\"w-4 h-4\"\n                          />\n                        )}\n                      />\n                      <Label htmlFor=\"archiveWithTimestamp\">Archive with Timestamp</Label>\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"compressionType\">Compression Type</Label>\n                      <Controller\n                        name=\"configuration.compressionType\"\n                        control={control}\n                        defaultValue=\"NONE\"\n                        render={({ field }) => (\n                          <Select value={field.value} onValueChange={field.onChange}>\n                            <SelectTrigger>\n                              <SelectValue placeholder=\"Select compression\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                              <SelectItem value=\"NONE\">None</SelectItem>\n                              <SelectItem value=\"GZIP\">GZIP</SelectItem>\n                              <SelectItem value=\"ZIP\">ZIP</SelectItem>\n                            </SelectContent>\n                          </Select>\n                        )}\n                      />\n                    </div>\n                  </div>\n                </>\n              )}\n\n              {watchPostProcessAction === 'KEEP_AND_MARK' && (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"processedDirectory\">Processed Directory</Label>\n                    <Input\n                      id=\"processedDirectory\"\n                      placeholder=\"/data/processed\"\n                      {...register('configuration.processedDirectory')}\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"processedFileSuffix\">Processed File Suffix</Label>\n                    <Input\n                      id=\"processedFileSuffix\"\n                      placeholder=\".processed\"\n                      {...register('configuration.processedFileSuffix')}\n                    />\n                  </div>\n                </div>\n              )}\n\n              {watchPostProcessAction === 'KEEP_AND_REPROCESS' && (\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"reprocessingDelay\">Reprocessing Delay (ms)</Label>\n                  <Input\n                    id=\"reprocessingDelay\"\n                    type=\"number\"\n                    placeholder=\"3600000\"\n                    {...register('configuration.reprocessingDelay')}\n                  />\n                </div>\n              )}\n\n              {watchPostProcessAction === 'DELETE' && (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"deleteBackupDirectory\">Delete Backup Directory</Label>\n                    <Input\n                      id=\"deleteBackupDirectory\"\n                      placeholder=\"/data/deleted_backup\"\n                      {...register('configuration.deleteBackupDirectory')}\n                    />\n                  </div>\n                  <div className=\"flex items-center space-x-2 pt-8\">\n                    <Controller\n                      name=\"configuration.confirmDelete\"\n                      control={control}\n                      render={({ field }) => (\n                        <input\n                          type=\"checkbox\"\n                          id=\"confirmDelete\"\n                          checked={Boolean(field.value)}\n                          onChange={field.onChange}\n                          className=\"w-4 h-4\"\n                        />\n                      )}\n                    />\n                    <Label htmlFor=\"confirmDelete\">Confirm Delete</Label>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default SftpAdapterConfig;\n","import React from 'react';\nimport { Controller } from 'react-hook-form';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\n\ninterface EmailAdapterConfigProps {\n  direction: 'SENDER' | 'RECEIVER';\n  control: any;\n  register: any;\n  errors: any;\n  setValue: any;\n}\n\nconst EmailAdapterConfig: React.FC<EmailAdapterConfigProps> = ({ direction, control, register, errors, setValue }) => (\n  <div className=\"space-y-6\">\n    {/* SMTP Settings */}\n    <div>\n      <h4 className=\"text-sm font-medium mb-4\">SMTP Settings</h4>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"smtpHost\">SMTP Host *</Label>\n          <Input\n            id=\"smtpHost\"\n            placeholder=\"smtp.gmail.com\"\n            {...register('configuration.smtpHost', { required: 'SMTP host is required' })}\n          />\n          {errors.configuration?.smtpHost && (\n            <p className=\"text-sm text-destructive\">{errors.configuration.smtpHost.message}</p>\n          )}\n        </div>\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"smtpPort\">SMTP Port *</Label>\n          <Input\n            id=\"smtpPort\"\n            type=\"number\"\n            placeholder=\"587\"\n            {...register('configuration.smtpPort', { required: 'SMTP port is required' })}\n          />\n          {errors.configuration?.smtpPort && (\n            <p className=\"text-sm text-destructive\">{errors.configuration.smtpPort.message}</p>\n          )}\n        </div>\n      </div>\n    </div>\n\n    {/* SSL/TLS Settings */}\n    <div>\n      <h4 className=\"text-sm font-medium mb-4\">SSL/TLS Settings</h4>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center space-x-2\">\n            <Controller\n              name=\"configuration.sslEnabled\"\n              control={control}\n              render={({ field }) => (\n                <Switch\n                  id=\"sslEnabled\"\n                  checked={Boolean(field.value)}\n                  onCheckedChange={(checked) => {\n                    field.onChange(checked);\n                    setValue('configuration.startTlsEnabled', !checked);\n                  }}\n                />\n              )}\n            />\n            <Label htmlFor=\"sslEnabled\">Enable SSL (Port 465)</Label>\n          </div>\n          <p className=\"text-xs text-muted-foreground\">\n            Use SSL for secure connection. Required for port 465.\n          </p>\n        </div>\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center space-x-2\">\n            <Controller\n              name=\"configuration.startTlsEnabled\"\n              control={control}\n              render={({ field }) => (\n                <Switch\n                  id=\"startTlsEnabled\"\n                  checked={Boolean(field.value)}\n                  onCheckedChange={(checked) => {\n                    field.onChange(checked);\n                    setValue('configuration.sslEnabled', !checked);\n                  }}\n                />\n              )}\n            />\n            <Label htmlFor=\"startTlsEnabled\">Enable STARTTLS (Port 587)</Label>\n          </div>\n          <p className=\"text-xs text-muted-foreground\">\n            Use STARTTLS for secure connection. Typically used with port 587.\n          </p>\n        </div>\n      </div>\n    </div>\n\n    {/* From Address */}\n    <div className=\"space-y-2\">\n      <Label htmlFor=\"fromAddress\">From Address (Sender Email) *</Label>\n      <Input\n        id=\"fromAddress\"\n        placeholder=\"noreply@company.com\"\n        {...register('configuration.fromAddress', {\n          required: 'From address is required',\n          pattern: {\n            value: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n            message: 'Please enter a valid email address'\n          }\n        })}\n      />\n      {errors.configuration?.fromAddress && (\n        <p className=\"text-sm text-destructive\">{errors.configuration.fromAddress.message}</p>\n      )}\n    </div>\n\n    {/* Authentication */}\n    <div>\n      <h4 className=\"text-sm font-medium mb-4\">Authentication</h4>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"smtpUsername\">Email Username *</Label>\n          <Input\n            id=\"smtpUsername\"\n            placeholder=\"notifications@company.com\"\n            {...register('configuration.smtpUsername', { required: 'Email username is required' })}\n          />\n        </div>\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"smtpPassword\">Email Password *</Label>\n          <Input\n            id=\"smtpPassword\"\n            type=\"password\"\n            placeholder=\"Enter email password\"\n            {...register('configuration.smtpPassword', { required: 'Email password is required' })}\n          />\n        </div>\n      </div>\n    </div>\n\n    {/* RECEIVER specific */}\n    {direction === 'RECEIVER' && (\n      <div className=\"space-y-4\">\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"recipients\">Recipients (comma-separated) *</Label>\n          <Input\n            id=\"recipients\"\n            placeholder=\"user1@example.com, user2@example.com\"\n            {...register('configuration.recipients', { required: 'Recipients are required for receiver email' })}\n          />\n        </div>\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"subject\">Email Subject</Label>\n          <Input\n            id=\"subject\"\n            placeholder=\"File Transfer Notification\"\n            {...register('configuration.subject')}\n          />\n        </div>\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"body\">Email Body</Label>\n          <textarea\n            id=\"body\"\n            placeholder=\"Enter the email body text...\"\n            className=\"flex min-h-[120px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n            {...register('configuration.body')}\n          />\n          <p className=\"text-xs text-muted-foreground\">\n            Files will be attached directly from the flow execution context.\n          </p>\n        </div>\n      </div>\n    )}\n  </div>\n);\n\nexport default EmailAdapterConfig;\n","import React from 'react';\nimport { FileAdapterConfig, SftpAdapterConfig, EmailAdapterConfig } from './config';\n\ninterface AdapterConfigFieldsProps {\n  type: 'FILE' | 'SFTP' | 'EMAIL';\n  direction: 'SENDER' | 'RECEIVER';\n  control: any;\n  register: any;\n  errors: any;\n  setValue: any;\n  sshKeysData?: any[];\n}\n\nconst AdapterConfigFields: React.FC<AdapterConfigFieldsProps> = ({\n  type,\n  direction,\n  control,\n  register,\n  errors,\n  setValue,\n  sshKeysData = []\n}) => {\n  switch (type) {\n    case 'FILE':\n      return (\n        <FileAdapterConfig\n          direction={direction}\n          control={control}\n          register={register}\n          errors={errors}\n        />\n      );\n    case 'SFTP':\n      return (\n        <SftpAdapterConfig\n          direction={direction}\n          control={control}\n          register={register}\n          errors={errors}\n          sshKeysData={sshKeysData}\n        />\n      );\n    case 'EMAIL':\n      return (\n        <EmailAdapterConfig\n          direction={direction}\n          control={control}\n          register={register}\n          errors={errors}\n          setValue={setValue}\n        />\n      );\n    default:\n      return null;\n  }\n};\n\nexport default AdapterConfigFields;\n","import React, { useState } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { ArrowLeft, Save, FileText, Server, Mail } from 'lucide-react';\nimport { api } from '@/lib/api';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Switch } from '@/components/ui/switch';\nimport toast from 'react-hot-toast';\nimport AdapterConfigFields from './AdapterConfigFields';\n\ninterface CreateAdapterProps {\n  packageId: string;\n  onSuccess: () => void;\n  onCancel: () => void;\n}\n\ninterface AdapterFormData {\n  name: string;\n  description: string;\n  type: 'FILE' | 'SFTP' | 'EMAIL';\n  direction: 'SENDER' | 'RECEIVER';\n  active: boolean;\n  configuration: Record<string, unknown>;\n}\n\nconst CreateAdapter: React.FC<CreateAdapterProps> = ({ packageId, onSuccess, onCancel }) => {\n  const queryClient = useQueryClient();\n  const [selectedType, setSelectedType] = useState<'FILE' | 'SFTP' | 'EMAIL'>('FILE');\n\n  const { register, handleSubmit, control, watch, setValue, formState: { errors } } = useForm<AdapterFormData>({\n    defaultValues: {\n      name: '',\n      description: '',\n      type: 'FILE',\n      direction: 'SENDER',\n      active: true,\n      configuration: {},\n    },\n  });\n\n  const watchType = watch('type');\n  const watchDirection = watch('direction');\n\n  // Fetch SSH keys for SFTP authentication\n  const { data: sshKeysData = [] } = useQuery({\n    queryKey: ['ssh-keys'],\n    queryFn: async () => {\n      const response = await api.get('/api/ssh-keys');\n      return response.data?.data || response.data || [];\n    },\n    staleTime: 5 * 60 * 1000,\n  });\n\n  const createMutation = useMutation({\n    mutationFn: async (data: AdapterFormData) => {\n      const payload = {\n        adapter: {\n          name: data.name,\n          description: data.description,\n          adapterType: data.type,\n          direction: data.direction,\n          active: data.active,\n          configuration: data.configuration\n        },\n        packageId\n      };\n      return api.post('/api/adapters', payload);\n    },\n    onSuccess: () => {\n      toast.success('Adapter created successfully');\n      queryClient.invalidateQueries({ queryKey: ['package-adapters', packageId] });\n      onSuccess();\n    },\n    onError: (err: Error) => {\n      toast.error(err.message || 'Failed to create adapter');\n    },\n  });\n\n  const onSubmit = (data: AdapterFormData) => {\n    createMutation.mutate(data);\n  };\n\n  const getAdapterIcon = (type: string) => {\n    switch (type) {\n      case 'FILE': return <FileText className=\"h-5 w-5\" />;\n      case 'SFTP': return <Server className=\"h-5 w-5\" />;\n      case 'EMAIL': return <Mail className=\"h-5 w-5\" />;\n      default: return <FileText className=\"h-5 w-5\" />;\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <Button variant=\"ghost\" size=\"sm\" onClick={onCancel}>\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Back\n          </Button>\n          <div>\n            <h1 className=\"text-2xl font-bold\">Create Adapter</h1>\n            <p className=\"text-muted-foreground\">Configure a new adapter for this package</p>\n          </div>\n        </div>\n      </div>\n\n      <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n        {/* Basic Information */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Basic Information</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"name\">Adapter Name *</Label>\n                <Input\n                  id=\"name\"\n                  placeholder=\"Enter adapter name\"\n                  {...register('name', {\n                    required: 'Adapter name is required',\n                    minLength: { value: 3, message: 'Name must be at least 3 characters' }\n                  })}\n                />\n                {errors.name && (\n                  <p className=\"text-sm text-destructive\">{errors.name.message}</p>\n                )}\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"type\">Adapter Type *</Label>\n                <Controller\n                  name=\"type\"\n                  control={control}\n                  rules={{ required: 'Adapter type is required' }}\n                  render={({ field }) => (\n                    <Select\n                      value={field.value}\n                      onValueChange={(value) => {\n                        field.onChange(value);\n                        setSelectedType(value as 'FILE' | 'SFTP' | 'EMAIL');\n                      }}\n                    >\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select adapter type\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"FILE\">File Adapter</SelectItem>\n                        <SelectItem value=\"SFTP\">SFTP Adapter</SelectItem>\n                        <SelectItem value=\"EMAIL\">Email Adapter</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  )}\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"description\">Description</Label>\n              <Input\n                id=\"description\"\n                placeholder=\"Enter adapter description\"\n                {...register('description')}\n              />\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"direction\">Direction *</Label>\n                <Controller\n                  name=\"direction\"\n                  control={control}\n                  render={({ field }) => (\n                    <Select value={field.value} onValueChange={field.onChange}>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select direction\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"SENDER\">Sender</SelectItem>\n                        <SelectItem value=\"RECEIVER\">Receiver</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  )}\n                />\n              </div>\n\n              <div className=\"flex items-center space-x-3 pt-8\">\n                <Controller\n                  name=\"active\"\n                  control={control}\n                  render={({ field }) => (\n                    <div className=\"flex items-center space-x-3\">\n                      <Switch\n                        id=\"active\"\n                        checked={Boolean(field.value)}\n                        onCheckedChange={field.onChange}\n                      />\n                      <Label htmlFor=\"active\">\n                        {field.value ? 'Active' : 'Inactive'}\n                      </Label>\n                    </div>\n                  )}\n                />\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Type-Specific Configuration */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              {getAdapterIcon(watchType)}\n              <span>{watchType} Configuration</span>\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <AdapterConfigFields\n              type={watchType}\n              direction={watchDirection}\n              control={control}\n              register={register}\n              errors={errors}\n              setValue={setValue}\n              sshKeysData={sshKeysData}\n            />\n          </CardContent>\n        </Card>\n\n        {/* Action Buttons */}\n        <div className=\"flex items-center gap-4\">\n          <Button\n            type=\"submit\"\n            disabled={createMutation.isPending}\n          >\n            <Save className=\"h-4 w-4 mr-2\" />\n            {createMutation.isPending ? 'Creating...' : 'Create Adapter'}\n          </Button>\n          <Button type=\"button\" variant=\"outline\" onClick={onCancel}>\n            Cancel\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default CreateAdapter;\n","import React, { useEffect, useState } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { ArrowLeft, Save, FileText, Server, Mail } from 'lucide-react';\nimport { api } from '@/lib/api';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Switch } from '@/components/ui/switch';\nimport toast from 'react-hot-toast';\nimport AdapterConfigFields from './AdapterConfigFields';\n\ninterface EditAdapterProps {\n  packageId: string;\n  adapterId: string;\n  onSuccess: () => void;\n  onCancel: () => void;\n}\n\ninterface AdapterFormData {\n  name: string;\n  description: string;\n  type: 'FILE' | 'SFTP' | 'EMAIL';\n  direction: 'SENDER' | 'RECEIVER';\n  active: boolean;\n  configuration: Record<string, unknown>;\n}\n\n/**\n * Clean up configuration to only include fields relevant to current selections.\n * Removes fields that aren't visible on the form based on adapter type, direction, and mode selections.\n */\nfunction cleanupConfiguration(\n  config: Record<string, unknown>,\n  type: string,\n  direction: string\n): Record<string, unknown> {\n  const cleaned: Record<string, unknown> = {};\n\n  // Helper to copy field if it has a value\n  const copyIfSet = (key: string) => {\n    if (config[key] !== undefined && config[key] !== '' && config[key] !== null) {\n      cleaned[key] = config[key];\n    }\n  };\n\n  if (type === 'FILE') {\n    if (direction === 'SENDER') {\n      // Core sender fields\n      copyIfSet('sourceDirectory');\n      copyIfSet('filePattern');\n      copyIfSet('exclusionMask');\n\n      // Processing parameters\n      copyIfSet('retryInterval');\n      copyIfSet('emptyFileHandling');\n      copyIfSet('postProcessAction');\n      copyIfSet('fileType');\n\n      // Archive fields - only if postProcessAction is ARCHIVE\n      if (config.postProcessAction === 'ARCHIVE') {\n        copyIfSet('archiveDirectory');\n        copyIfSet('archiveFileNaming');\n        copyIfSet('createArchiveDirectory');\n        copyIfSet('compressArchive');\n      }\n\n      // Error handling\n      copyIfSet('archiveFaultySourceFiles');\n      if (config.archiveFaultySourceFiles) {\n        copyIfSet('archiveErrorDirectory');\n      }\n      copyIfSet('processReadOnlyFiles');\n      copyIfSet('processingSequence');\n\n      // Advanced parameters\n      copyIfSet('msecsToWaitBeforeModificationCheck');\n      copyIfSet('maximumFileSize');\n\n      // Scheduler settings - SENDER only\n      copyIfSet('scheduleType');\n      copyIfSet('scheduleMode');\n\n      // Schedule mode specific fields\n      if (config.scheduleMode === 'OnTime') {\n        copyIfSet('onTimeValue');\n      } else if (config.scheduleMode === 'Every') {\n        copyIfSet('everyInterval');\n        copyIfSet('everyStartTime');\n        copyIfSet('everyEndTime');\n      }\n\n      // Schedule type specific fields\n      if (config.scheduleType === 'Weekly') {\n        copyIfSet('weeklyDays');\n      } else if (config.scheduleType === 'Monthly') {\n        copyIfSet('monthlyDay');\n      }\n\n    } else {\n      // RECEIVER fields\n      copyIfSet('targetDirectory');\n      copyIfSet('createTargetDirectory');\n      copyIfSet('outputFilenameMode');\n      copyIfSet('fileType');\n      if (config.outputFilenameMode === 'Custom') {\n        copyIfSet('customFilenamePattern');\n      }\n      copyIfSet('fileConstructionMode');\n      copyIfSet('writeMode');\n      copyIfSet('emptyMessageHandling');\n      copyIfSet('maximumConcurrency');\n      copyIfSet('msecsToWaitBeforeModificationCheck');\n      copyIfSet('maximumFileSize');\n    }\n  } else if (type === 'SFTP') {\n    // Common SFTP fields\n    copyIfSet('host');\n    copyIfSet('port');\n    copyIfSet('username');\n    copyIfSet('authenticationType');\n\n    // Auth type specific fields\n    if (config.authenticationType === 'USERNAME_PASSWORD' || config.authenticationType === 'DUAL') {\n      copyIfSet('password');\n    }\n    if (config.authenticationType === 'SSH_KEY' || config.authenticationType === 'DUAL') {\n      copyIfSet('sshKeyName');\n      copyIfSet('sshKeyId');\n      copyIfSet('sshKeyPassphrase');\n    }\n\n    copyIfSet('strictHostKeyChecking');\n    copyIfSet('serverFingerprint');\n\n    if (direction === 'SENDER') {\n      copyIfSet('sourceDirectory');\n      copyIfSet('filePattern');\n      copyIfSet('postProcessAction');\n\n      if (config.postProcessAction === 'ARCHIVE') {\n        copyIfSet('archiveDirectory');\n        copyIfSet('archiveWithTimestamp');\n        copyIfSet('compressionType');\n      }\n      if (config.postProcessAction === 'KEEP_AND_MARK') {\n        copyIfSet('processedDirectory');\n        copyIfSet('processedFileSuffix');\n      }\n      if (config.postProcessAction === 'KEEP_AND_REPROCESS') {\n        copyIfSet('reprocessingDelay');\n      }\n      if (config.postProcessAction === 'DELETE') {\n        copyIfSet('confirmDelete');\n        copyIfSet('deleteBackupDirectory');\n      }\n\n      // Scheduler settings - SENDER only\n      copyIfSet('scheduleType');\n      copyIfSet('scheduleMode');\n\n      if (config.scheduleMode === 'OnTime') {\n        copyIfSet('onTimeValue');\n      } else if (config.scheduleMode === 'Every') {\n        copyIfSet('everyInterval');\n        copyIfSet('everyStartTime');\n        copyIfSet('everyEndTime');\n      }\n\n      if (config.scheduleType === 'Weekly') {\n        copyIfSet('weeklyDays');\n      } else if (config.scheduleType === 'Monthly') {\n        copyIfSet('monthlyDay');\n      }\n\n    } else {\n      // RECEIVER fields\n      copyIfSet('targetDirectory');\n      copyIfSet('remoteFilePermissions');\n      copyIfSet('createRemoteDirectory');\n      copyIfSet('useTemporaryFileName');\n      copyIfSet('temporaryFileSuffix');\n      copyIfSet('outputFilenameMode');\n      if (config.outputFilenameMode === 'Custom') {\n        copyIfSet('customFilenamePattern');\n      }\n    }\n  } else if (type === 'EMAIL') {\n    // Email adapter fields\n    copyIfSet('smtpHost');\n    copyIfSet('smtpPort');\n    copyIfSet('smtpUsername');\n    copyIfSet('smtpPassword');\n    copyIfSet('useTls');\n    copyIfSet('fromAddress');\n\n    if (direction === 'RECEIVER') {\n      copyIfSet('recipients');\n      copyIfSet('subject');\n      copyIfSet('bodyTemplate');\n      copyIfSet('attachmentFilename');\n    }\n  }\n\n  return cleaned;\n}\n\nconst EditAdapter: React.FC<EditAdapterProps> = ({ packageId, adapterId, onSuccess, onCancel }) => {\n  const queryClient = useQueryClient();\n  const [selectedType, setSelectedType] = useState<'FILE' | 'SFTP' | 'EMAIL'>('FILE');\n\n  const { register, handleSubmit, control, watch, setValue, reset, formState: { errors } } = useForm<AdapterFormData>({\n    defaultValues: {\n      name: '',\n      description: '',\n      type: 'FILE',\n      direction: 'SENDER',\n      active: true,\n      configuration: {},\n    },\n  });\n\n  const watchType = watch('type');\n  const watchDirection = watch('direction');\n\n  // Fetch existing adapter\n  const { data: adapterData, isLoading: adapterLoading } = useQuery({\n    queryKey: ['adapter', adapterId],\n    queryFn: async () => {\n      const response = await api.get(`/api/adapters/${adapterId}`);\n      return response.data?.data || response.data;\n    },\n    enabled: !!adapterId,\n  });\n\n  // Fetch SSH keys for SFTP authentication\n  const { data: sshKeysData = [] } = useQuery({\n    queryKey: ['ssh-keys'],\n    queryFn: async () => {\n      const response = await api.get('/api/ssh-keys');\n      return response.data?.data || response.data || [];\n    },\n    staleTime: 5 * 60 * 1000,\n  });\n\n  // Populate form when adapter data loads\n  useEffect(() => {\n    if (adapterData) {\n      reset({\n        name: adapterData.name || '',\n        description: adapterData.description || '',\n        type: adapterData.type || adapterData.adapterType || 'FILE',\n        direction: adapterData.direction || 'SENDER',\n        active: adapterData.active ?? true,\n        configuration: adapterData.configuration || {},\n      });\n      setSelectedType(adapterData.type || adapterData.adapterType || 'FILE');\n    }\n  }, [adapterData, reset]);\n\n  const updateMutation = useMutation({\n    mutationFn: async (data: AdapterFormData) => {\n      const payload = {\n        adapter: {\n          name: data.name,\n          description: data.description,\n          adapterType: data.type,\n          direction: data.direction,\n          active: data.active,\n          configuration: data.configuration\n        },\n        packageId\n      };\n      return api.put(`/api/adapters/${adapterId}`, payload);\n    },\n    onSuccess: () => {\n      toast.success('Adapter updated successfully');\n      queryClient.invalidateQueries({ queryKey: ['package-adapters', packageId] });\n      queryClient.invalidateQueries({ queryKey: ['adapter', adapterId] });\n      onSuccess();\n    },\n    onError: (err: Error) => {\n      toast.error(err.message || 'Failed to update adapter');\n    },\n  });\n\n  const onSubmit = (data: AdapterFormData) => {\n    // Clean up configuration to only include fields relevant to current selections\n    const cleanedConfig = cleanupConfiguration(data.configuration, data.type, data.direction);\n    updateMutation.mutate({\n      ...data,\n      configuration: cleanedConfig\n    });\n  };\n\n  const getAdapterIcon = (type: string) => {\n    switch (type) {\n      case 'FILE': return <FileText className=\"h-5 w-5\" />;\n      case 'SFTP': return <Server className=\"h-5 w-5\" />;\n      case 'EMAIL': return <Mail className=\"h-5 w-5\" />;\n      default: return <FileText className=\"h-5 w-5\" />;\n    }\n  };\n\n  if (adapterLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin\" />\n          <span className=\"text-muted-foreground\">Loading adapter...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center gap-4\">\n        <Button variant=\"ghost\" size=\"sm\" onClick={onCancel}>\n          <ArrowLeft className=\"h-4 w-4 mr-2\" />\n          Back\n        </Button>\n        <div>\n          <h1 className=\"text-2xl font-bold\">Edit Adapter</h1>\n          <p className=\"text-muted-foreground\">Modify adapter configuration</p>\n        </div>\n      </div>\n\n      <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\n        {/* Basic Information */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Basic Information</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"name\">Adapter Name *</Label>\n                <Input\n                  id=\"name\"\n                  placeholder=\"Enter adapter name\"\n                  {...register('name', {\n                    required: 'Adapter name is required',\n                    minLength: { value: 3, message: 'Name must be at least 3 characters' }\n                  })}\n                />\n                {errors.name && (\n                  <p className=\"text-sm text-destructive\">{errors.name.message}</p>\n                )}\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"type\">Adapter Type *</Label>\n                <Controller\n                  name=\"type\"\n                  control={control}\n                  rules={{ required: 'Adapter type is required' }}\n                  render={({ field }) => (\n                    <Select\n                      value={field.value}\n                      onValueChange={(value) => {\n                        field.onChange(value);\n                        setSelectedType(value as 'FILE' | 'SFTP' | 'EMAIL');\n                      }}\n                    >\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select adapter type\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"FILE\">File Adapter</SelectItem>\n                        <SelectItem value=\"SFTP\">SFTP Adapter</SelectItem>\n                        <SelectItem value=\"EMAIL\">Email Adapter</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  )}\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"description\">Description</Label>\n              <Input\n                id=\"description\"\n                placeholder=\"Enter adapter description\"\n                {...register('description')}\n              />\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"direction\">Direction *</Label>\n                <Controller\n                  name=\"direction\"\n                  control={control}\n                  render={({ field }) => (\n                    <Select value={field.value} onValueChange={field.onChange}>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select direction\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"SENDER\">Sender</SelectItem>\n                        <SelectItem value=\"RECEIVER\">Receiver</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  )}\n                />\n              </div>\n\n              <div className=\"flex items-center space-x-3 pt-8\">\n                <Controller\n                  name=\"active\"\n                  control={control}\n                  render={({ field }) => (\n                    <div className=\"flex items-center space-x-3\">\n                      <Switch\n                        id=\"active\"\n                        checked={Boolean(field.value)}\n                        onCheckedChange={field.onChange}\n                      />\n                      <Label htmlFor=\"active\">\n                        {field.value ? 'Active' : 'Inactive'}\n                      </Label>\n                    </div>\n                  )}\n                />\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Type-Specific Configuration */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              {getAdapterIcon(watchType)}\n              <span>{watchType} Configuration</span>\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <AdapterConfigFields\n              type={watchType}\n              direction={watchDirection}\n              control={control}\n              register={register}\n              errors={errors}\n              setValue={setValue}\n              sshKeysData={sshKeysData}\n            />\n          </CardContent>\n        </Card>\n\n        {/* Action Buttons */}\n        <div className=\"flex items-center gap-4\">\n          <Button\n            type=\"submit\"\n            disabled={updateMutation.isPending}\n          >\n            <Save className=\"h-4 w-4 mr-2\" />\n            {updateMutation.isPending ? 'Saving...' : 'Save Changes'}\n          </Button>\n          <Button type=\"button\" variant=\"outline\" onClick={onCancel}>\n            Cancel\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default EditAdapter;\n","import React from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { ArrowLeft, Pencil, FileText, Server, Mail, Trash2 } from 'lucide-react';\nimport { api } from '@/lib/api';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\n\ninterface ViewAdapterProps {\n  packageId: string;\n  adapterId: string;\n  onEdit: () => void;\n  onDelete: () => void;\n  onBack: () => void;\n}\n\n// Helper component for read-only fields\nconst ReadOnlyField: React.FC<{ label: string; value?: string | number | boolean; type?: 'text' | 'password' }> = ({\n  label,\n  value,\n  type = 'text'\n}) => (\n  <div className=\"space-y-2\">\n    <Label>{label}</Label>\n    <Input\n      value={type === 'password' && value ? '' : (value?.toString() || '-')}\n      readOnly\n      className=\"bg-muted cursor-default\"\n    />\n  </div>\n);\n\n// Helper component for read-only checkbox\nconst ReadOnlyCheckbox: React.FC<{ label: string; checked?: boolean }> = ({ label, checked }) => (\n  <div className=\"flex items-center space-x-2\">\n    <input\n      type=\"checkbox\"\n      checked={Boolean(checked)}\n      disabled\n      className=\"w-4 h-4 cursor-default\"\n    />\n    <Label className=\"text-muted-foreground\">{label}</Label>\n  </div>\n);\n\n// Helper component for read-only switch\nconst ReadOnlySwitch: React.FC<{ label: string; checked?: boolean; description?: string }> = ({ label, checked, description }) => (\n  <div className=\"space-y-2\">\n    <div className=\"flex items-center space-x-2\">\n      <Switch checked={Boolean(checked)} disabled className=\"cursor-default\" />\n      <Label className=\"text-muted-foreground\">{label}</Label>\n    </div>\n    {description && <p className=\"text-xs text-muted-foreground\">{description}</p>}\n  </div>\n);\n\nconst ViewAdapter: React.FC<ViewAdapterProps> = ({ packageId, adapterId, onEdit, onDelete, onBack }) => {\n  // Fetch adapter details\n  const { data: adapter, isLoading } = useQuery({\n    queryKey: ['adapter', adapterId],\n    queryFn: async () => {\n      const response = await api.get(`/api/adapters/${adapterId}`);\n      return response.data?.data || response.data;\n    },\n    enabled: !!adapterId,\n  });\n\n  const getAdapterIcon = (type: string) => {\n    switch (type) {\n      case 'FILE': return <FileText className=\"h-5 w-5\" />;\n      case 'SFTP': return <Server className=\"h-5 w-5\" />;\n      case 'EMAIL': return <Mail className=\"h-5 w-5\" />;\n      default: return <FileText className=\"h-5 w-5\" />;\n    }\n  };\n\n  const getStatusBadge = (status: string, active: boolean) => {\n    if (!active) return <Badge variant=\"outline\">Disabled</Badge>;\n    switch (status) {\n      case 'STARTED': return <Badge variant=\"default\" className=\"bg-green-500\">Running</Badge>;\n      case 'STOPPED': return <Badge variant=\"secondary\">Stopped</Badge>;\n      case 'ERROR': return <Badge variant=\"destructive\">Error</Badge>;\n      default: return <Badge variant=\"secondary\">{status}</Badge>;\n    }\n  };\n\n  const getDirectionBadge = (direction: string) => {\n    return (\n      <Badge variant=\"outline\" className={direction === 'SENDER' ? 'bg-amber-100 text-amber-800' : 'bg-cyan-100 text-cyan-800'}>\n        {direction === 'SENDER' ? 'Sender' : 'Receiver'}\n      </Badge>\n    );\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin\" />\n          <span className=\"text-muted-foreground\">Loading adapter...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (!adapter) {\n    return (\n      <div className=\"text-center py-12\">\n        <p className=\"text-muted-foreground\">Adapter not found</p>\n        <Button variant=\"outline\" onClick={onBack} className=\"mt-4\">\n          Go Back\n        </Button>\n      </div>\n    );\n  }\n\n  const adapterType = adapter.type || adapter.adapterType || 'FILE';\n  const direction = adapter.direction || 'SENDER';\n  const config = adapter.configuration || {};\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <Button variant=\"ghost\" size=\"sm\" onClick={onBack}>\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Back\n          </Button>\n          <div>\n            <h1 className=\"text-2xl font-bold\">{adapter.name}</h1>\n            <p className=\"text-muted-foreground\">{adapter.description || 'View adapter configuration'}</p>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Button variant=\"outline\" size=\"sm\" onClick={onEdit}>\n            <Pencil className=\"h-4 w-4 mr-2\" />\n            Edit\n          </Button>\n          <Button variant=\"outline\" size=\"sm\" className=\"text-destructive\" onClick={onDelete}>\n            <Trash2 className=\"h-4 w-4 mr-2\" />\n            Delete\n          </Button>\n        </div>\n      </div>\n\n      {/* Status Badges */}\n      <div className=\"flex items-center gap-3\">\n        {getStatusBadge(adapter.status, adapter.active)}\n        <Badge variant=\"outline\">{adapterType}</Badge>\n        {getDirectionBadge(direction)}\n      </div>\n\n      {/* Basic Information */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Basic Information</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <ReadOnlyField label=\"Adapter Name\" value={adapter.name} />\n            <ReadOnlyField label=\"Adapter Type\" value={adapterType === 'FILE' ? 'File Adapter' : adapterType === 'SFTP' ? 'SFTP Adapter' : 'Email Adapter'} />\n          </div>\n          <ReadOnlyField label=\"Description\" value={adapter.description} />\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <ReadOnlyField label=\"Direction\" value={direction === 'SENDER' ? 'Sender' : 'Receiver'} />\n            <div className=\"flex items-center space-x-3 pt-8\">\n              <Switch checked={Boolean(adapter.active)} disabled className=\"cursor-default\" />\n              <Label className=\"text-muted-foreground\">{adapter.active ? 'Active' : 'Inactive'}</Label>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Type-Specific Configuration */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            {getAdapterIcon(adapterType)}\n            <span>{adapterType} Configuration</span>\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          {adapterType === 'FILE' && (\n            <FileAdapterReadOnly direction={direction} config={config} />\n          )}\n          {adapterType === 'SFTP' && (\n            <SftpAdapterReadOnly direction={direction} config={config} />\n          )}\n          {adapterType === 'EMAIL' && (\n            <EmailAdapterReadOnly direction={direction} config={config} />\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Metadata */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Metadata</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div>\n              <div className=\"text-sm text-muted-foreground\">Created</div>\n              <div className=\"font-medium\">\n                {adapter.createdAt ? new Date(adapter.createdAt).toLocaleString() : 'N/A'}\n              </div>\n            </div>\n            <div>\n              <div className=\"text-sm text-muted-foreground\">Last Updated</div>\n              <div className=\"font-medium\">\n                {adapter.updatedAt ? new Date(adapter.updatedAt).toLocaleString() : 'N/A'}\n              </div>\n            </div>\n            <div>\n              <div className=\"text-sm text-muted-foreground\">Adapter ID</div>\n              <div className=\"font-mono text-xs\">{adapter.id}</div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\n// FILE Adapter Read-Only Configuration\nconst FileAdapterReadOnly: React.FC<{ direction: string; config: Record<string, any> }> = ({ direction, config }) => (\n  <div className=\"space-y-6\">\n    {/* Directory Configuration */}\n    <div>\n      <h4 className=\"text-sm font-medium mb-4\">{direction === 'SENDER' ? 'Source' : 'Target'} Configuration</h4>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {direction === 'SENDER' ? (\n          <>\n            <ReadOnlyField label=\"Source Directory\" value={config.sourceDirectory} />\n            <ReadOnlyField label=\"File Name Mask\" value={config.filePattern || '*'} />\n            <ReadOnlyField label=\"Exclusion Mask\" value={config.exclusionMask} />\n          </>\n        ) : (\n          <>\n            <ReadOnlyField label=\"Target Directory\" value={config.targetDirectory} />\n            <ReadOnlyCheckbox label=\"Create Target Directory\" checked={config.createTargetDirectory} />\n          </>\n        )}\n      </div>\n    </div>\n\n    {/* Processing Parameters - SENDER */}\n    {direction === 'SENDER' && (\n      <div>\n        <h4 className=\"text-sm font-medium mb-4\">Processing Parameters</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <ReadOnlyField label=\"Retry Interval (secs)\" value={config.retryInterval || '60'} />\n          <ReadOnlyField label=\"Empty File Handling\" value={config.emptyFileHandling || 'Do Not Create Message'} />\n          <ReadOnlyField label=\"Post Process Action\" value={config.postProcessAction || 'ARCHIVE'} />\n          <ReadOnlyField label=\"File Type\" value={config.fileType || 'Binary'} />\n        </div>\n      </div>\n    )}\n\n    {/* File Output Configuration - RECEIVER */}\n    {direction === 'RECEIVER' && (\n      <div>\n        <h4 className=\"text-sm font-medium mb-4\">File Output Configuration</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <ReadOnlyField label=\"Output Filename Mode\" value={config.outputFilenameMode || 'UseOriginal'} />\n          <ReadOnlyField label=\"File Type\" value={config.fileType || 'Binary'} />\n        </div>\n        {config.outputFilenameMode === 'Custom' && (\n          <div className=\"mt-4\">\n            <ReadOnlyField label=\"Custom Filename Pattern\" value={config.customFilenamePattern} />\n          </div>\n        )}\n      </div>\n    )}\n\n    {/* Archive Configuration - SENDER when Archive mode */}\n    {direction === 'SENDER' && config.postProcessAction === 'ARCHIVE' && (\n      <div>\n        <h4 className=\"text-sm font-medium mb-4\">Archive Configuration</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <ReadOnlyField label=\"Archive Directory\" value={config.archiveDirectory} />\n          <ReadOnlyField label=\"Archive File Naming\" value={config.archiveFileNaming || 'Original'} />\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n          <ReadOnlyCheckbox label=\"Create Archive Directory if it doesn't exist\" checked={config.createArchiveDirectory} />\n          <ReadOnlyCheckbox label=\"Compress archived files\" checked={config.compressArchive} />\n        </div>\n      </div>\n    )}\n\n    {/* Error Handling - SENDER */}\n    {direction === 'SENDER' && (\n      <div>\n        <h4 className=\"text-sm font-medium mb-4\">Error Handling</h4>\n        <div className=\"space-y-4\">\n          <ReadOnlyCheckbox label=\"Archive Faulty Source Files\" checked={config.archiveFaultySourceFiles} />\n          {config.archiveFaultySourceFiles && (\n            <ReadOnlyField label=\"Directory for Archiving Files with Errors\" value={config.archiveErrorDirectory} />\n          )}\n          <ReadOnlyCheckbox label=\"Process Read-Only Files\" checked={config.processReadOnlyFiles} />\n          <ReadOnlyField label=\"Processing Sequence\" value={config.processingSequence || 'By Name'} />\n        </div>\n      </div>\n    )}\n\n    {/* File Construction - RECEIVER */}\n    {direction === 'RECEIVER' && (\n      <div>\n        <h4 className=\"text-sm font-medium mb-4\">File Construction</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <ReadOnlyField label=\"File Construction Mode\" value={config.fileConstructionMode || 'Create'} />\n          <ReadOnlyField label=\"Write Mode\" value={config.writeMode || 'Directly'} />\n          <ReadOnlyField label=\"Empty Message Handling\" value={config.emptyMessageHandling || 'Write Empty File'} />\n          <ReadOnlyField label=\"Maximum Concurrency\" value={config.maximumConcurrency || '1'} />\n        </div>\n      </div>\n    )}\n\n    {/* Advanced Parameters */}\n    <div>\n      <h4 className=\"text-sm font-medium mb-4\">Advanced Parameters</h4>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <ReadOnlyField label=\"Msecs to Wait Before Modification Check\" value={config.msecsToWaitBeforeModificationCheck || '0'} />\n        <ReadOnlyField label=\"Maximum File Size (Bytes)\" value={config.maximumFileSize || '0'} />\n      </div>\n    </div>\n\n    {/* Scheduler Settings - SENDER only */}\n    {direction === 'SENDER' && (\n      <div>\n        <h4 className=\"text-sm font-medium mb-4\">Scheduler Settings</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <ReadOnlyField label=\"Schedule Type\" value={config.scheduleType || 'Daily'} />\n          <ReadOnlyField label=\"Schedule Mode\" value={config.scheduleMode === 'Every' ? 'Every Interval' : 'On Time'} />\n        </div>\n        {config.scheduleMode === 'OnTime' && (\n          <div className=\"mt-4\">\n            <ReadOnlyField label=\"Execution Time\" value={config.onTimeValue || '20:27'} />\n          </div>\n        )}\n        {config.scheduleMode === 'Every' && (\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\n            <ReadOnlyField label=\"Every Interval\" value={config.everyInterval || '1 min'} />\n            <ReadOnlyField label=\"Start Time\" value={config.everyStartTime || '00:00'} />\n            <ReadOnlyField label=\"End Time\" value={config.everyEndTime || '24:00'} />\n          </div>\n        )}\n        {config.scheduleType === 'Weekly' && config.weeklyDays && (\n          <div className=\"mt-4 space-y-2\">\n            <Label>Days of Week</Label>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n              {['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'].map((day) => (\n                <ReadOnlyCheckbox key={day} label={day.charAt(0).toUpperCase() + day.slice(1)} checked={config.weeklyDays?.[day]} />\n              ))}\n            </div>\n          </div>\n        )}\n        {config.scheduleType === 'Monthly' && (\n          <div className=\"mt-4\">\n            <ReadOnlyField label=\"Day of Month\" value={config.monthlyDay || '1'} />\n          </div>\n        )}\n      </div>\n    )}\n  </div>\n);\n\n// SFTP Adapter Read-Only Configuration\nconst SftpAdapterReadOnly: React.FC<{ direction: string; config: Record<string, any> }> = ({ direction, config }) => (\n  <div className=\"space-y-6\">\n    {/* Connection Settings */}\n    <div>\n      <h4 className=\"text-sm font-medium mb-4\">Connection Settings</h4>\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <ReadOnlyField label=\"Host\" value={config.host} />\n        <ReadOnlyField label=\"Port\" value={config.port || '22'} />\n        <ReadOnlyField label=\"Authentication Type\" value={\n          config.authenticationType === 'USERNAME_PASSWORD' ? 'Username/Password' :\n          config.authenticationType === 'PUBLIC_KEY' ? 'Public Key' :\n          config.authenticationType === 'DUAL' ? 'Dual Authentication' : config.authenticationType\n        } />\n      </div>\n\n      {/* Authentication Fields */}\n      <div className=\"space-y-4 mt-4\">\n        {(config.authenticationType === 'USERNAME_PASSWORD' || config.authenticationType === 'DUAL') && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <ReadOnlyField label=\"Username\" value={config.username} />\n            <ReadOnlyField label=\"Password\" value={config.password} type=\"password\" />\n          </div>\n        )}\n        <ReadOnlyField label=\"Server Fingerprint\" value={config.serverFingerprint} />\n        {(config.authenticationType === 'PUBLIC_KEY' || config.authenticationType === 'DUAL') && (\n          <ReadOnlyField label=\"SSH Key\" value={config.sshKeyId || 'Not selected'} />\n        )}\n      </div>\n    </div>\n\n    {/* RECEIVER - Remote Destination Settings */}\n    {direction === 'RECEIVER' && (\n      <>\n        <div>\n          <h4 className=\"text-sm font-medium mb-4\">Remote Destination Settings</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <ReadOnlyField label=\"Target Directory\" value={config.targetDirectory} />\n            <ReadOnlyField label=\"Remote File Permissions\" value={config.remoteFilePermissions || '644'} />\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n            <ReadOnlyCheckbox label=\"Create Remote Directory\" checked={config.createRemoteDirectory} />\n            <ReadOnlyCheckbox label=\"Use Temporary File Name\" checked={config.useTemporaryFileName} />\n          </div>\n          <div className=\"mt-4\">\n            <ReadOnlyField label=\"Temporary File Suffix\" value={config.temporaryFileSuffix || '.tmp'} />\n          </div>\n        </div>\n\n        {/* Output Filename Configuration */}\n        <div>\n          <h4 className=\"text-sm font-medium mb-4\">Output Filename Configuration</h4>\n          <ReadOnlyField label=\"Output Filename Mode\" value={config.outputFilenameMode || 'UseOriginal'} />\n          {config.outputFilenameMode === 'Custom' && (\n            <div className=\"mt-4\">\n              <ReadOnlyField label=\"Custom Filename Pattern\" value={config.customFilenamePattern} />\n            </div>\n          )}\n        </div>\n      </>\n    )}\n\n    {/* Connection Properties */}\n    <div>\n      <h4 className=\"text-sm font-medium mb-4\">Connection Properties</h4>\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <ReadOnlyField label=\"Connection Timeout (ms)\" value={config.connectionTimeout || '30000'} />\n        <ReadOnlyField label=\"Socket Timeout (ms)\" value={config.socketTimeout || '60000'} />\n        <ReadOnlyField label=\"Keep Alive\" value={config.keepAlive ? 'Enabled' : 'Disabled'} />\n      </div>\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\n        <ReadOnlyField label=\"Session Timeout (ms)\" value={config.sessionTimeout || '60000'} />\n        <ReadOnlyField label=\"Channel Timeout (ms)\" value={config.channelTimeout || '30000'} />\n        <ReadOnlyField label=\"Connection Pool Size\" value={config.connectionPoolSize || '5'} />\n      </div>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n        <ReadOnlyField label=\"Strict Host Key Checking\" value={config.strictHostKeyChecking ? 'Enabled' : 'Disabled'} />\n        <ReadOnlyField label=\"Connection Mode\" value={config.connectionMode || 'Permanently'} />\n      </div>\n    </div>\n\n    {/* Transfer Settings */}\n    <div>\n      <h4 className=\"text-sm font-medium mb-4\">Transfer Settings</h4>\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <ReadOnlyField label=\"Max Retry Attempts\" value={config.maxRetryAttempts || '3'} />\n        <ReadOnlyField label=\"Retry Delay (ms)\" value={config.retryDelayMs || '5000'} />\n        <ReadOnlyField label=\"Max File Size (MB)\" value={config.maxFileSize || '100'} />\n      </div>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n        <ReadOnlyField label=\"Transfer Buffer Size (KB)\" value={config.transferBufferSize || '32'} />\n        <ReadOnlyField label=\"Transfer Mode\" value={config.transferMode || 'BINARY'} />\n      </div>\n    </div>\n\n    {/* SENDER - Remote Pickup Settings */}\n    {direction === 'SENDER' && (\n      <>\n        <div>\n          <h4 className=\"text-sm font-medium mb-4\">Remote Pickup Settings</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <ReadOnlyField label=\"Source Directory\" value={config.sourceDirectory} />\n            <ReadOnlyField label=\"Filename Pattern\" value={config.filename} />\n          </div>\n          <div className=\"mt-4\">\n            <ReadOnlyField label=\"Exclude Pattern\" value={config.excludePattern} />\n          </div>\n        </div>\n\n        {/* Scheduler Settings */}\n        <div>\n          <h4 className=\"text-sm font-medium mb-4\">Scheduler Settings</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <ReadOnlyField label=\"Schedule Type\" value={config.scheduleType || 'Daily'} />\n            <ReadOnlyField label=\"Schedule Mode\" value={config.scheduleMode === 'Every' ? 'Every Interval' : 'On Time'} />\n          </div>\n          {config.scheduleMode === 'OnTime' && (\n            <div className=\"mt-4\">\n              <ReadOnlyField label=\"Execution Time\" value={config.onTimeValue || '20:27'} />\n            </div>\n          )}\n          {config.scheduleMode === 'Every' && (\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\n              <ReadOnlyField label=\"Every Interval\" value={config.everyInterval || '1 min'} />\n              <ReadOnlyField label=\"Start Time\" value={config.everyStartTime || '00:00'} />\n              <ReadOnlyField label=\"End Time\" value={config.everyEndTime || '24:00'} />\n            </div>\n          )}\n          {config.scheduleType === 'Weekly' && config.weeklyDays && (\n            <div className=\"mt-4 space-y-2\">\n              <Label>Days of Week</Label>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                {['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'].map((day) => (\n                  <ReadOnlyCheckbox key={day} label={day.charAt(0).toUpperCase() + day.slice(1)} checked={config.weeklyDays?.[day]} />\n                ))}\n              </div>\n            </div>\n          )}\n          {config.scheduleType === 'Monthly' && (\n            <div className=\"mt-4\">\n              <ReadOnlyField label=\"Day of Month\" value={config.monthlyDay || '1'} />\n            </div>\n          )}\n        </div>\n\n        {/* Empty File Handling */}\n        <div>\n          <h4 className=\"text-sm font-medium mb-4\">Empty File Handling</h4>\n          <ReadOnlyField label=\"Empty File Handling\" value={config.emptyFileHandling || 'Do Not Create Message'} />\n        </div>\n\n        {/* Post-Processing */}\n        <div>\n          <h4 className=\"text-sm font-medium mb-4\">Post-Processing</h4>\n          <ReadOnlyField label=\"Post Process Action\" value={\n            config.postProcessAction === 'ARCHIVE' ? 'Archive' :\n            config.postProcessAction === 'KEEP_AND_MARK' ? 'Keep File and Mark as Processed' :\n            config.postProcessAction === 'KEEP_AND_REPROCESS' ? 'Keep File and Process Again' :\n            config.postProcessAction === 'DELETE' ? 'Delete File' : config.postProcessAction || 'Archive'\n          } />\n\n          {config.postProcessAction === 'ARCHIVE' && (\n            <div className=\"space-y-4 mt-4\">\n              <ReadOnlyField label=\"Archive Directory\" value={config.archiveDirectory} />\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <ReadOnlyCheckbox label=\"Archive with Timestamp\" checked={config.archiveWithTimestamp} />\n                <ReadOnlyField label=\"Compression Type\" value={config.compressionType || 'NONE'} />\n              </div>\n            </div>\n          )}\n\n          {config.postProcessAction === 'KEEP_AND_MARK' && (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n              <ReadOnlyField label=\"Processed Directory\" value={config.processedDirectory} />\n              <ReadOnlyField label=\"Processed File Suffix\" value={config.processedFileSuffix} />\n            </div>\n          )}\n\n          {config.postProcessAction === 'KEEP_AND_REPROCESS' && (\n            <div className=\"mt-4\">\n              <ReadOnlyField label=\"Reprocessing Delay (ms)\" value={config.reprocessingDelay} />\n            </div>\n          )}\n\n          {config.postProcessAction === 'DELETE' && (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n              <ReadOnlyField label=\"Delete Backup Directory\" value={config.deleteBackupDirectory} />\n              <ReadOnlyCheckbox label=\"Confirm Delete\" checked={config.confirmDelete} />\n            </div>\n          )}\n        </div>\n      </>\n    )}\n  </div>\n);\n\n// EMAIL Adapter Read-Only Configuration\nconst EmailAdapterReadOnly: React.FC<{ direction: string; config: Record<string, any> }> = ({ direction, config }) => (\n  <div className=\"space-y-6\">\n    {/* SMTP Settings */}\n    <div>\n      <h4 className=\"text-sm font-medium mb-4\">SMTP Settings</h4>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <ReadOnlyField label=\"SMTP Host\" value={config.smtpHost} />\n        <ReadOnlyField label=\"SMTP Port\" value={config.smtpPort} />\n      </div>\n    </div>\n\n    {/* SSL/TLS Settings */}\n    <div>\n      <h4 className=\"text-sm font-medium mb-4\">SSL/TLS Settings</h4>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <ReadOnlySwitch\n          label=\"Enable SSL (Port 465)\"\n          checked={config.sslEnabled}\n          description=\"Use SSL for secure connection. Required for port 465.\"\n        />\n        <ReadOnlySwitch\n          label=\"Enable STARTTLS (Port 587)\"\n          checked={config.startTlsEnabled}\n          description=\"Use STARTTLS for secure connection. Typically used with port 587.\"\n        />\n      </div>\n    </div>\n\n    {/* From Address */}\n    <ReadOnlyField label=\"From Address (Sender Email)\" value={config.fromAddress} />\n\n    {/* Authentication */}\n    <div>\n      <h4 className=\"text-sm font-medium mb-4\">Authentication</h4>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <ReadOnlyField label=\"Email Username\" value={config.smtpUsername} />\n        <ReadOnlyField label=\"Email Password\" value={config.smtpPassword} type=\"password\" />\n      </div>\n    </div>\n\n    {/* RECEIVER specific */}\n    {direction === 'RECEIVER' && (\n      <div className=\"space-y-4\">\n        <ReadOnlyField label=\"Recipients (comma-separated)\" value={config.recipients} />\n        <ReadOnlyField label=\"Email Subject\" value={config.subject} />\n        <div className=\"space-y-2\">\n          <Label>Email Body</Label>\n          <div className=\"min-h-[120px] w-full rounded-md border border-input bg-muted px-3 py-2 text-sm\">\n            {config.body || '-'}\n          </div>\n          <p className=\"text-xs text-muted-foreground\">\n            Files will be attached directly from the flow execution context.\n          </p>\n        </div>\n      </div>\n    )}\n  </div>\n);\n\nexport default ViewAdapter;\n","import React from 'react'\nimport { Handle, Position, type NodeProps, type Node, useReactFlow } from '@xyflow/react'\nimport { X } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\n\nexport interface AdapterNodeData extends Record<string, unknown> {\n  label: string\n  adapterType?: 'FILE' | 'SFTP' | 'EMAIL' | null\n  direction?: 'SENDER' | 'RECEIVER'\n  adapterId?: string\n  configuration?: Record<string, unknown>\n  status?: 'idle' | 'running' | 'success' | 'error'\n  lastExecution?: string\n  showDeleteButton?: boolean\n}\n\nexport type AdapterNodeType = Node<AdapterNodeData, 'adapter'>\n\n// BPMN 2.0 Send Task Icon (filled envelope)\nconst SendTaskIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"currentColor\">\n    <path d=\"M2,21L23,12L2,3V10L17,12L2,14V21Z\" />\n  </svg>\n)\n\n// BPMN 2.0 Receive Task Icon (outlined envelope)\nconst ReceiveTaskIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\">\n    <rect x=\"3\" y=\"5\" width=\"18\" height=\"14\" rx=\"1\" />\n    <polyline points=\"3,5 12,13 21,5\" />\n  </svg>\n)\n\n// BPMN 2.0 Service Task Icon\nconst ServiceTaskIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"currentColor\">\n    <path d=\"M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1 0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66z\"/>\n  </svg>\n)\n\nconst AdapterNode: React.FC<NodeProps<AdapterNodeType>> = ({ \n  id,\n  data, \n  selected \n}) => {\n  const { setNodes, setEdges } = useReactFlow()\n  const nodeData = data || { label: 'Adapter' }\n\n  const getTaskIcon = () => {\n    if (nodeData.direction === 'SENDER') {\n      return ReceiveTaskIcon\n    } else if (nodeData.direction === 'RECEIVER') {\n      return SendTaskIcon\n    }\n    return ServiceTaskIcon\n  }\n\n  const TaskIcon = getTaskIcon()\n  \n  const handleDelete = () => {\n    setNodes((nodes) => nodes.filter((node) => node.id !== id))\n    setEdges((edges) => edges.filter((edge) => edge.source !== id && edge.target !== id))\n  }\n\n  const getBorderColor = () => {\n    if (selected) return 'border-blue-400 shadow-lg shadow-blue-500/30'\n    if (nodeData.direction === 'SENDER') return 'border-green-500 hover:border-green-400'\n    if (nodeData.direction === 'RECEIVER') return 'border-orange-500 hover:border-orange-400'\n    return 'border-slate-500 hover:border-slate-400'\n  }\n\n  const getIconColor = () => {\n    if (nodeData.direction === 'SENDER') return 'text-green-400'\n    if (nodeData.direction === 'RECEIVER') return 'text-orange-400'\n    return 'text-blue-400'\n  }\n\n  return (\n    <div className=\"flex flex-col items-center relative\">\n      {/* Delete button */}\n      {nodeData.showDeleteButton && (\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={handleDelete}\n          className=\"absolute -top-3 -right-3 h-5 w-5 p-0 bg-red-500 text-white rounded-full shadow-md hover:bg-red-600 z-10\"\n          title=\"Delete node\"\n        >\n          <X className=\"h-3 w-3\" />\n        </Button>\n      )}\n      \n      {/* BPMN Task - rounded rectangle */}\n      <div\n        className={`relative min-w-28 h-14 rounded-lg bg-slate-800 border-2 flex items-center justify-center px-3 transition-all ${getBorderColor()}`}\n      >\n        {/* Task type icon in top-left corner */}\n        <div className=\"absolute top-1 left-1\">\n          <TaskIcon className={`w-4 h-4 ${getIconColor()}`} />\n        </div>\n        \n        {/* Task label */}\n        <span className=\"text-xs font-medium text-slate-200 text-center leading-tight pt-2\">\n          {nodeData.label || 'Adapter'}\n        </span>\n      </div>\n      \n      {/* Type indicator */}\n      <div className=\"mt-1 text-[10px] text-slate-500\">\n        {nodeData.adapterType && nodeData.adapterType !== null\n          ? `${nodeData.adapterType} ${nodeData.direction}` \n          : `${nodeData.direction} (Select instance)`\n        }\n      </div>\n\n      {/* Handles */}\n      {nodeData.direction === 'SENDER' && (\n        <Handle\n          type=\"source\"\n          position={Position.Right}\n          className=\"w-2 h-2 bg-green-500 border border-slate-800\"\n          style={{ right: '-4px', top: '28px' }}\n        />\n      )}\n      \n      {nodeData.direction === 'RECEIVER' && (\n        <Handle\n          type=\"target\"\n          position={Position.Left}\n          className=\"w-2 h-2 bg-orange-500 border border-slate-800\"\n          style={{ left: '-4px', top: '28px' }}\n        />\n      )}\n\n      {/* Bidirectional adapters */}\n      {!nodeData.direction && (\n        <>\n          <Handle\n            type=\"target\"\n            position={Position.Left}\n            className=\"w-2 h-2 bg-slate-400 border border-slate-800\"\n            style={{ left: '-4px', top: '28px' }}\n          />\n          <Handle\n            type=\"source\"\n            position={Position.Right}\n            className=\"w-2 h-2 bg-slate-400 border border-slate-800\"\n            style={{ right: '-4px', top: '28px' }}\n          />\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default AdapterNode","import React from 'react'\nimport { Handle, Position, type NodeProps, type Node, useReactFlow } from '@xyflow/react'\nimport { X } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\n\nexport interface UtilityNodeData extends Record<string, unknown> {\n  label: string\n  utilityType?: 'PGP_ENCRYPT' | 'PGP_DECRYPT' | 'ZIP_COMPRESS' | 'ZIP_EXTRACT' | \n                'FILE_SPLIT' | 'FILE_MERGE' | 'DATA_TRANSFORM' | 'FILE_VALIDATE' | 'CUSTOM_SCRIPT'\n  configuration?: Record<string, unknown>\n  status?: 'idle' | 'running' | 'success' | 'error'\n  processingTime?: number\n  showDeleteButton?: boolean\n}\n\nexport type UtilityNodeType = Node<UtilityNodeData, 'utility'>\n\n// BPMN 2.0 Service Task Icon (gear/cog)\nconst ServiceTaskIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"currentColor\">\n    <path d=\"M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1 0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66z\"/>\n  </svg>\n)\n\n// BPMN 2.0 Script Task Icon\nconst ScriptTaskIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"currentColor\">\n    <path d=\"M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z\"/>\n  </svg>\n)\n\nconst UtilityNode: React.FC<NodeProps<UtilityNodeType>> = ({ \n  id,\n  data, \n  selected \n}) => {\n  const { setNodes, setEdges } = useReactFlow()\n  const nodeData = data || { label: 'Service Task' }\n  \n  const handleDelete = () => {\n    setNodes((nodes) => nodes.filter((node) => node.id !== id))\n    setEdges((edges) => edges.filter((edge) => edge.source !== id && edge.target !== id))\n  }\n\n  const isScript = nodeData.utilityType === 'CUSTOM_SCRIPT'\n\n  const formatUtilityType = () => {\n    if (!nodeData.utilityType) return ''\n    return nodeData.utilityType.replace(/_/g, ' ').toLowerCase()\n      .split(' ')\n      .map((word: string) => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(' ')\n  }\n\n  return (\n    <div className=\"flex flex-col items-center relative\">\n      {/* Delete button */}\n      {nodeData.showDeleteButton && (\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={handleDelete}\n          className=\"absolute -top-3 -right-3 h-5 w-5 p-0 bg-red-500 text-white rounded-full shadow-md hover:bg-red-600 z-10\"\n          title=\"Delete node\"\n        >\n          <X className=\"h-3 w-3\" />\n        </Button>\n      )}\n      \n      {/* BPMN Service/Script Task - rounded rectangle */}\n      <div\n        className={`relative min-w-28 h-14 rounded-lg bg-slate-800 border-2 flex items-center justify-center px-3 transition-all ${\n          selected \n            ? 'border-amber-400 shadow-lg shadow-amber-500/30' \n            : 'border-slate-500 hover:border-slate-400'\n        }`}\n      >\n        {/* Task type icon in top-left corner */}\n        <div className=\"absolute top-1 left-1\">\n          {isScript ? (\n            <ScriptTaskIcon className=\"w-4 h-4 text-amber-400\" />\n          ) : (\n            <ServiceTaskIcon className=\"w-4 h-4 text-amber-400\" />\n          )}\n        </div>\n        \n        {/* Task label */}\n        <span className=\"text-xs font-medium text-slate-200 text-center leading-tight pt-2\">\n          {nodeData.label || formatUtilityType() || 'Service Task'}\n        </span>\n\n        {/* Handles positioned on the task box */}\n        <Handle\n          type=\"target\"\n          position={Position.Left}\n          className=\"w-2 h-2 bg-slate-400 border border-slate-800\"\n          style={{ left: '-4px', top: '50%', transform: 'translateY(-50%)' }}\n        />\n        <Handle\n          type=\"source\"\n          position={Position.Right}\n          className=\"w-2 h-2 bg-slate-400 border border-slate-800\"\n          style={{ right: '-4px', top: '50%', transform: 'translateY(-50%)' }}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default UtilityNode","import React from 'react'\nimport { Handle, Position, type NodeProps, type Node, useReactFlow } from '@xyflow/react'\nimport { X } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\n\nexport interface DecisionNodeData extends Record<string, unknown> {\n  label: string\n  conditionType?: 'ALWAYS_TRUE' | 'ALWAYS_FALSE' | 'CONTEXT_CONTAINS_KEY' | \n                  'CONTEXT_VALUE_EQUALS' | 'FILE_COUNT_GREATER_THAN'\n  condition?: string\n  configuration?: Record<string, unknown>\n  status?: 'idle' | 'running' | 'success' | 'error'\n  lastResult?: boolean\n  showDeleteButton?: boolean\n}\n\nexport type DecisionNodeType = Node<DecisionNodeData, 'decision'>\n\n// BPMN 2.0 Exclusive Gateway (XOR) - X marker\nconst ExclusiveMarker = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"none\" stroke=\"currentColor\" strokeWidth=\"3\">\n    <line x1=\"7\" y1=\"7\" x2=\"17\" y2=\"17\" />\n    <line x1=\"17\" y1=\"7\" x2=\"7\" y2=\"17\" />\n  </svg>\n)\n\nconst DecisionNode: React.FC<NodeProps<DecisionNodeType>> = ({ \n  id,\n  data, \n  selected \n}) => {\n  const { setNodes, setEdges } = useReactFlow()\n  const nodeData = data || { label: 'Gateway' }\n  \n  const handleDelete = () => {\n    setNodes((nodes) => nodes.filter((node) => node.id !== id))\n    setEdges((edges) => edges.filter((edge) => edge.source !== id && edge.target !== id))\n  }\n\n  return (\n    <div className=\"flex flex-col items-center relative\">\n      {/* Delete button */}\n      {nodeData.showDeleteButton && (\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={handleDelete}\n          className=\"absolute -top-3 right-0 h-5 w-5 p-0 bg-red-500 text-white rounded-full shadow-md hover:bg-red-600 z-10\"\n          title=\"Delete node\"\n        >\n          <X className=\"h-3 w-3\" />\n        </Button>\n      )}\n      \n      {/* BPMN Exclusive Gateway - diamond shape */}\n      <div\n        className={`w-11 h-11 bg-slate-800 border-2 flex items-center justify-center transition-all rotate-45 ${\n          selected \n            ? 'border-amber-400 shadow-lg shadow-amber-500/30' \n            : 'border-amber-500 hover:border-amber-400'\n        }`}\n      >\n        {/* X marker for exclusive gateway */}\n        <ExclusiveMarker className=\"w-5 h-5 text-amber-400 -rotate-45\" />\n      </div>\n      \n      {/* Label below */}\n      <div className=\"mt-3 text-xs font-medium text-slate-400 text-center max-w-20\">\n        {nodeData.label || 'Gateway'}\n      </div>\n\n      {/* Input handle (left point of diamond) */}\n      <Handle\n        type=\"target\"\n        position={Position.Left}\n        className=\"w-2 h-2 bg-amber-500 border border-slate-800\"\n        style={{ left: '-2px', top: '22px' }}\n      />\n      \n      {/* True/Yes path (right point of diamond) */}\n      <Handle\n        type=\"source\"\n        position={Position.Right}\n        id=\"yes\"\n        className=\"w-2 h-2 bg-green-500 border border-slate-800\"\n        style={{ right: '-2px', top: '22px' }}\n      />\n      \n      {/* False/No path (bottom point of diamond) */}\n      <Handle\n        type=\"source\"\n        position={Position.Bottom}\n        id=\"no\"\n        className=\"w-2 h-2 bg-red-500 border border-slate-800\"\n        style={{ bottom: '14px', left: '50%', transform: 'translateX(-50%)' }}\n      />\n    </div>\n  )\n}\n\nexport default DecisionNode","import React from 'react'\nimport { Handle, Position, type NodeProps, type Node } from '@xyflow/react'\n\nexport interface StartNodeData extends Record<string, unknown> {\n  label: string\n  eventType?: 'none' | 'message' | 'timer' | 'signal'\n  showDeleteButton?: boolean\n}\n\nexport type StartNodeType = Node<StartNodeData, 'start'>\n\n// BPMN 2.0 Message Icon\nconst MessageIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\">\n    <rect x=\"3\" y=\"5\" width=\"18\" height=\"14\" rx=\"1\" />\n    <polyline points=\"3,5 12,13 21,5\" />\n  </svg>\n)\n\nconst StartNode: React.FC<NodeProps<StartNodeType>> = ({ data, selected }) => {\n  const nodeData = data || { label: 'Start', eventType: 'message' }\n  \n  return (\n    <div className=\"flex flex-col items-center relative\">\n      {/* System node - no delete button */}\n      \n      {/* Node container with handles */}\n      <div className=\"relative\">\n        {/* Target handle - left (for sender adapter connection) */}\n        <Handle\n          type=\"target\"\n          position={Position.Left}\n          className=\"w-2 h-2 bg-green-500 border border-slate-800\"\n          style={{ left: '-4px', top: '50%', transform: 'translateY(-50%)' }}\n        />\n\n        {/* BPMN Start Event - thin border circle */}\n        <div\n          className={`w-12 h-12 rounded-full bg-slate-800 border flex items-center justify-center transition-all ${\n            selected \n              ? 'border-2 border-green-400 shadow-lg shadow-green-500/30' \n              : 'border-green-500 hover:border-green-400'\n          }`}\n        >\n          {/* Message icon for message start event */}\n          <MessageIcon className=\"w-5 h-5 text-green-400\" />\n        </div>\n\n        {/* Source handle - right */}\n        <Handle\n          type=\"source\"\n          position={Position.Right}\n          className=\"w-2 h-2 bg-green-500 border border-slate-800\"\n          style={{ right: '-4px', top: '50%', transform: 'translateY(-50%)' }}\n        />\n      </div>\n      \n      {/* Label below */}\n      <div className=\"mt-2 text-xs font-medium text-slate-400\">\n        {nodeData.label || 'Start'}\n      </div>\n    </div>\n  )\n}\n\nexport default StartNode","import React from 'react'\nimport { Handle, Position, type NodeProps, type Node } from '@xyflow/react'\n\nexport interface EndNodeData extends Record<string, unknown> {\n  label: string\n  eventType?: 'none' | 'message' | 'terminate' | 'error'\n  showDeleteButton?: boolean\n}\n\nexport type EndNodeType = Node<EndNodeData, 'end'>\n\n// BPMN 2.0 Message Icon (filled for throw events)\nconst MessageIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"currentColor\" stroke=\"currentColor\" strokeWidth=\"0.5\">\n    <rect x=\"3\" y=\"5\" width=\"18\" height=\"14\" rx=\"1\" />\n    <polyline points=\"3,5 12,13 21,5\" fill=\"none\" strokeWidth=\"1.5\" />\n  </svg>\n)\n\nconst EndNode: React.FC<NodeProps<EndNodeType>> = ({ data, selected }) => {\n  const nodeData = data || { label: 'End', eventType: 'message' }\n  \n  return (\n    <div className=\"flex flex-col items-center relative\">\n      {/* System node - no delete button */}\n      \n      {/* Node container with handles */}\n      <div className=\"relative\">\n        {/* Target handle - left */}\n        <Handle\n          type=\"target\"\n          position={Position.Left}\n          className=\"w-2 h-2 bg-red-500 border border-slate-800\"\n          style={{ left: '-4px', top: '50%', transform: 'translateY(-50%)' }}\n        />\n\n        {/* BPMN End Event - thick border circle */}\n        <div\n          className={`w-12 h-12 rounded-full bg-slate-800 border-[3px] flex items-center justify-center transition-all ${\n            selected \n              ? 'border-red-400 shadow-lg shadow-red-500/30' \n              : 'border-red-500 hover:border-red-400'\n          }`}\n        >\n          {/* Message icon (filled) for message end event */}\n          <MessageIcon className=\"w-5 h-5 text-red-400\" />\n        </div>\n\n        {/* Source handle - right (for receiver adapter connection) */}\n        <Handle\n          type=\"source\"\n          position={Position.Right}\n          className=\"w-2 h-2 bg-red-500 border border-slate-800\"\n          style={{ right: '-4px', top: '50%', transform: 'translateY(-50%)' }}\n        />\n      </div>\n      \n      {/* Label below */}\n      <div className=\"mt-2 text-xs font-medium text-slate-400\">\n        {nodeData.label || 'End'}\n      </div>\n    </div>\n  )\n}\n\nexport default EndNode","import React from 'react'\nimport { Handle, Position, type NodeProps, type Node, useReactFlow } from '@xyflow/react'\nimport { X } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\n\nexport interface ParallelSplitNodeData extends Record<string, unknown> {\n  label: string\n  parallelPaths: number\n  status?: 'idle' | 'running' | 'success' | 'error'\n  showDeleteButton?: boolean\n}\n\nexport type ParallelSplitNodeType = Node<ParallelSplitNodeData, 'parallelSplit'>\n\n// BPMN 2.0 Parallel Gateway (AND) - + marker\nconst ParallelMarker = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"none\" stroke=\"currentColor\" strokeWidth=\"3\">\n    <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\" />\n    <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\n  </svg>\n)\n\nconst ParallelSplitNode: React.FC<NodeProps<ParallelSplitNodeType>> = ({ \n  id,\n  data, \n  selected \n}) => {\n  const { setNodes, setEdges } = useReactFlow()\n  const nodeData = data || { label: 'Parallel', parallelPaths: 2 }\n  \n  const handleDelete = () => {\n    setNodes((nodes) => nodes.filter((node) => node.id !== id))\n    setEdges((edges) => edges.filter((edge) => edge.source !== id && edge.target !== id))\n  }\n\n  // Calculate handle positions for multiple outputs\n  const getOutputHandlePositions = () => {\n    const positions = []\n    const pathCount = nodeData.parallelPaths || 2\n    \n    if (pathCount <= 2) {\n      positions.push(\n        { id: 'out-1', top: '16px' },\n        { id: 'out-2', top: '28px' }\n      )\n    } else {\n      for (let i = 0; i < pathCount; i++) {\n        const top = 10 + (i * 12)\n        positions.push({ id: `out-${i + 1}`, top: `${top}px` })\n      }\n    }\n    \n    return positions.slice(0, pathCount)\n  }\n\n  const outputPositions = getOutputHandlePositions()\n\n  return (\n    <div className=\"flex flex-col items-center relative\">\n      {/* Delete button */}\n      {nodeData.showDeleteButton && (\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={handleDelete}\n          className=\"absolute -top-3 right-0 h-5 w-5 p-0 bg-red-500 text-white rounded-full shadow-md hover:bg-red-600 z-10\"\n          title=\"Delete node\"\n        >\n          <X className=\"h-3 w-3\" />\n        </Button>\n      )}\n      \n      {/* BPMN Parallel Gateway - diamond shape */}\n      <div\n        className={`w-11 h-11 bg-slate-800 border-2 flex items-center justify-center transition-all rotate-45 ${\n          selected \n            ? 'border-green-400 shadow-lg shadow-green-500/30' \n            : 'border-green-500 hover:border-green-400'\n        }`}\n      >\n        {/* + marker for parallel gateway */}\n        <ParallelMarker className=\"w-5 h-5 text-green-400 -rotate-45\" />\n      </div>\n      \n      {/* Label below */}\n      <div className=\"mt-3 text-xs font-medium text-slate-400 text-center\">\n        {nodeData.label || 'Parallel'}\n      </div>\n\n      {/* Input Handle (left point of diamond) */}\n      <Handle\n        type=\"target\"\n        position={Position.Left}\n        className=\"w-2 h-2 bg-green-500 border border-slate-800\"\n        style={{ left: '-2px', top: '22px' }}\n      />\n\n      {/* Output Handles (right point of diamond) */}\n      {/* @ts-expect-error - index is used for positioning in drag operations */}\n      {outputPositions.map((pos, _index) => ( // index is used for positioning\n        <Handle\n          key={pos.id}\n          type=\"source\"\n          position={Position.Right}\n          id={pos.id}\n          className=\"w-2 h-2 bg-green-500 border border-slate-800\"\n          style={{ \n            right: '-2px',\n            top: pos.top\n          }}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default ParallelSplitNode","import React from 'react'\nimport { Handle, Position, type NodeProps, type Node } from '@xyflow/react'\n\nexport interface MessageEndNodeData extends Record<string, unknown> {\n  label: string\n  eventType?: string\n  messagePayload?: string\n  showDeleteButton?: boolean\n}\n\nexport type MessageEndNodeType = Node<MessageEndNodeData, 'messageEnd'>\n\n// BPMN 2.0 Message Icon (filled for throw/end events)\nconst MessageIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"currentColor\" stroke=\"currentColor\" strokeWidth=\"0.5\">\n    <rect x=\"3\" y=\"5\" width=\"18\" height=\"14\" rx=\"1\" />\n    <polyline points=\"3,5 12,13 21,5\" fill=\"none\" strokeWidth=\"1.5\" />\n  </svg>\n)\n\nconst MessageEndNode: React.FC<NodeProps<MessageEndNodeType>> = ({ data, selected }) => {\n  const nodeData = data || { \n    label: 'Message End', \n    eventType: 'MESSAGE_END', \n    messagePayload: ''\n  }\n  \n  return (\n    <div className=\"flex flex-col items-center relative\">\n      {/* System node - no delete button */}\n      \n      {/* Node container with handles */}\n      <div className=\"relative\">\n        {/* Target handle - left */}\n        <Handle\n          type=\"target\"\n          position={Position.Left}\n          className=\"w-2 h-2 bg-blue-500 border border-slate-800\"\n          style={{ left: '-4px', top: '50%', transform: 'translateY(-50%)' }}\n        />\n\n        {/* BPMN Message End Event - thick border circle with filled message icon */}\n        <div\n          className={`w-12 h-12 rounded-full bg-slate-800 border-[3px] flex items-center justify-center transition-all ${\n            selected \n              ? 'border-blue-400 shadow-lg shadow-blue-500/30' \n              : 'border-blue-500 hover:border-blue-400'\n          }`}\n        >\n          <MessageIcon className=\"w-5 h-5 text-blue-400\" />\n        </div>\n\n        {/* Source handle - right */}\n        <Handle\n          type=\"source\"\n          position={Position.Right}\n          className=\"w-2 h-2 bg-blue-500 border border-slate-800\"\n          style={{ right: '-4px', top: '50%', transform: 'translateY(-50%)' }}\n        />\n      </div>\n      \n      {/* Label below */}\n      <div className=\"mt-2 text-xs font-medium text-slate-400 text-center max-w-20\">\n        {nodeData.label || 'Message End'}\n      </div>\n    </div>\n  )\n}\n\nexport default MessageEndNode","import React from 'react'\nimport {\n  EdgeProps,\n  getBezierPath,\n  EdgeLabelRenderer,\n  BaseEdge,\n  useReactFlow,\n  type Edge,\n} from '@xyflow/react'\nimport { X } from 'lucide-react'\n\nexport interface FlowEdgeData extends Record<string, unknown> {\n  label?: string\n  condition?: 'true' | 'false' | 'default'\n  animated?: boolean\n  onDelete?: (edgeId: string) => void\n}\n\nexport type FlowEdgeType = Edge<FlowEdgeData, 'flow'>\n\nconst FlowEdge: React.FC<EdgeProps<FlowEdgeType>> = ({\n  id,\n  sourceX,\n  sourceY,\n  targetX,\n  targetY,\n  sourcePosition,\n  targetPosition,\n  data,\n  selected,\n  markerEnd,\n}) => {\n  const { setEdges } = useReactFlow()\n  const edgeData = data || {}\n  const [isHovered, setIsHovered] = React.useState(false)\n  \n  const handleDelete = () => {\n    setEdges((edges) => edges.filter((edge) => edge.id !== id))\n  }\n  \n  const [edgePath, labelX, labelY] = getBezierPath({\n    sourceX,\n    sourceY,\n    sourcePosition,\n    targetX,\n    targetY,\n    targetPosition,\n  })\n\n  const getEdgeColor = () => {\n    switch (edgeData.condition) {\n      case 'true':\n        return 'hsl(142, 76%, 36%)' // success green\n      case 'false':\n        return 'hsl(0, 84%, 60%)' // destructive red\n      default:\n        return 'hsl(217, 91%, 60%)' // primary blue\n    }\n  }\n\n  const getEdgeWidth = () => {\n    return selected ? 3 : 2\n  }\n\n  return (\n    <>\n      <BaseEdge\n        path={edgePath}\n        markerEnd={markerEnd}\n        style={{\n          stroke: getEdgeColor(),\n          strokeWidth: getEdgeWidth(),\n          strokeDasharray: 'none',\n        }}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n      />\n      \n      <EdgeLabelRenderer>\n        <div\n          style={{\n            position: 'absolute',\n            transform: `translate(-50%, -50%) translate(${labelX}px,${labelY}px)`,\n            pointerEvents: 'all',\n          }}\n          className=\"nodrag nopan\"\n        >\n        <div className=\"flex items-center\">\n            {(selected || isHovered) && (\n              <button\n                onClick={handleDelete}\n                className={`w-6 h-6 bg-destructive text-white rounded-full flex items-center justify-center hover:bg-destructive/80 transition-all shadow-md z-10 ${\n                  selected ? 'opacity-100 scale-110' : 'opacity-90 hover:opacity-100 hover:scale-105'\n                }`}\n                title=\"Delete connection\"\n              >\n                <X className=\"h-3 w-3\" />\n              </button>\n            )}\n          </div>\n        </div>\n      </EdgeLabelRenderer>\n    </>\n  )\n}\n\nexport default FlowEdge","import React from 'react'\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip'\nimport { cn } from '@/lib/utils'\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      'z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }","import React from 'react'\nimport { \n  Save, \n  Play, \n  Trash2, \n  RotateCcw, \n  Download,\n  Upload,\n  Eye,\n  EyeOff,\n  LayoutGrid\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Separator } from '@/components/ui/separator'\nimport { \n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/ui/tooltip'\n\ninterface FlowToolbarProps {\n  onSave?: () => void\n  onExecute?: () => void\n  onClear?: () => void\n  onDelete?: () => void\n  onExport?: () => void\n  onImport?: () => void\n  onToggleNodeSidebar?: () => void\n  onAutoLayout?: () => void\n  isNodeSidebarVisible?: boolean\n  readOnly?: boolean\n  canExecute?: boolean\n  canSave?: boolean\n  canDelete?: boolean\n  isExecuting?: boolean\n  isSaving?: boolean\n  className?: string\n}\n\nconst FlowToolbar: React.FC<FlowToolbarProps> = ({\n  onSave,\n  onExecute,\n  onClear,\n  onDelete,\n  onExport,\n  onImport,\n  onToggleNodeSidebar,\n  onAutoLayout,\n  isNodeSidebarVisible = false,\n  readOnly = false,\n  canExecute = true,\n  canSave = true,\n  canDelete = true,\n  isExecuting = false,\n  isSaving = false,\n  className = ''\n}) => {\n  return (\n    <TooltipProvider>\n      <div className={`flex items-center space-x-2 p-3 bg-background border-b ${className}`}>\n        {/* Primary Actions */}\n        {!readOnly && (\n          <>\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"default\"\n                  size=\"sm\"\n                  onClick={onSave}\n                  disabled={!canSave || isSaving}\n                  className=\"space-x-2\"\n                >\n                  <Save className={`h-4 w-4 ${isSaving ? 'animate-pulse' : ''}`} />\n                  <span>{isSaving ? 'Saving...' : 'Save'}</span>\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>\n                <p>{isSaving ? 'Saving flow to database...' : 'Save flow configuration'}</p>\n              </TooltipContent>\n            </Tooltip>\n\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={onExecute}\n                  disabled={!canExecute || isExecuting}\n                  className=\"space-x-2\"\n                >\n                  <Play className={`h-4 w-4 ${isExecuting ? 'animate-pulse' : ''}`} />\n                  <span>{isExecuting ? 'Executing...' : 'Execute'}</span>\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>\n                <p>Execute flow with current configuration</p>\n              </TooltipContent>\n            </Tooltip>\n\n            <Separator orientation=\"vertical\" className=\"h-6\" />\n          </>\n        )}\n\n        {/* View Actions */}\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={onToggleNodeSidebar}\n            >\n              {isNodeSidebarVisible ? (\n                <EyeOff className=\"h-4 w-4\" />\n              ) : (\n                <Eye className=\"h-4 w-4\" />\n              )}\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>\n            <p>{isNodeSidebarVisible ? 'Hide' : 'Show'} node panel</p>\n          </TooltipContent>\n        </Tooltip>\n\n        {/* Layout Actions */}\n        {!readOnly && (\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={onAutoLayout}\n              >\n                <LayoutGrid className=\"h-4 w-4\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>\n              <p>Auto-arrange flow layout</p>\n            </TooltipContent>\n          </Tooltip>\n        )}\n\n        <Separator orientation=\"vertical\" className=\"h-6\" />\n\n        {/* Import/Export Actions */}\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={onExport}\n            >\n              <Download className=\"h-4 w-4\" />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>\n            <p>Export flow</p>\n          </TooltipContent>\n        </Tooltip>\n\n        {!readOnly && (\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={onImport}\n              >\n                <Upload className=\"h-4 w-4\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>\n              <p>Import flow</p>\n            </TooltipContent>\n          </Tooltip>\n        )}\n\n        <Separator orientation=\"vertical\" className=\"h-6\" />\n\n        {/* Destructive Actions */}\n        {!readOnly && (\n          <>\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={onClear}\n                >\n                  <RotateCcw className=\"h-4 w-4\" />\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>\n                <p>Clear canvas</p>\n              </TooltipContent>\n            </Tooltip>\n\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={onDelete}\n                  disabled={!canDelete}\n                  className=\"text-destructive hover:text-destructive\"\n                >\n                  <Trash2 className=\"h-4 w-4\" />\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>\n                <p>Delete flow</p>\n              </TooltipContent>\n            </Tooltip>\n          </>\n        )}\n      </div>\n    </TooltipProvider>\n  )\n}\n\nexport default FlowToolbar","import * as CollapsiblePrimitive from '@radix-ui/react-collapsible'\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }","import React, { useState } from 'react'\nimport { \n  Play,\n  CheckCircle,\n  GitBranch,\n  Split,\n  Mail,\n  Lock,\n  Unlock,\n  FileArchive,\n  ChevronDown,\n  ChevronRight,\n  Plus,\n  Download,\n  Upload\n} from 'lucide-react'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from '@/components/ui/collapsible'\n\ninterface NodeSidebarProps {\n  onNodeAdd?: (nodeType: string, nodeData: any) => void\n  className?: string\n}\n\ninterface NodeTemplate {\n  id: string\n  type: string\n  label: string\n  icon: React.ComponentType<{ className?: string }>\n  category: string\n  description: string\n  data: any\n}\n\nconst NodeSidebar: React.FC<NodeSidebarProps> = ({\n  onNodeAdd,\n  className = ''\n}) => {\n  const [expandedCategories, setExpandedCategories] = useState<string[]>(['adapters', 'gateways', 'utilities'])\n\n  const nodeTemplates: NodeTemplate[] = [\n    // Adapters - Just 2 configurable nodes\n    {\n      id: 'sender-adapter',\n      type: 'adapter',\n      label: 'Sender Adapter',\n      icon: Download,\n      category: 'adapters',\n      description: 'Configure sender adapter type (File, SFTP)',\n      data: { \n        label: 'Sender Adapter',\n        adapterType: null,\n        direction: 'SENDER',\n        availableTypes: ['FILE', 'SFTP']\n        // REMOVED: configuration embedding - adapters should only store IDs\n      }\n    },\n    {\n      id: 'receiver-adapter',\n      type: 'adapter',\n      label: 'Receiver Adapter',\n      icon: Upload,\n      category: 'adapters',\n      description: 'Configure receiver adapter type (File, SFTP, Email)',\n      data: { \n        label: 'Receiver Adapter',\n        adapterType: null,\n        direction: 'RECEIVER',\n        availableTypes: ['FILE', 'SFTP', 'EMAIL']\n        // REMOVED: configuration embedding - adapters should only store IDs\n      }\n    },\n    // Events\n    {\n      id: 'start-node',\n      type: 'start',\n      label: 'Start Event',\n      icon: Play,\n      category: 'events',\n      description: 'BPMN message start event',\n      data: { label: 'Start', eventType: 'message' }\n    },\n    {\n      id: 'end-node',\n      type: 'end',\n      label: 'End Event',\n      icon: CheckCircle,\n      category: 'events',\n      description: 'BPMN message end event',\n      data: { label: 'End', eventType: 'message' }\n    },\n    {\n      id: 'message-end-node',\n      type: 'messageEnd',\n      label: 'Message End',\n      icon: Mail,\n      category: 'events',\n      description: 'Throw message end event',\n      data: { \n        label: 'Message End',\n        eventType: 'MESSAGE_END',\n        messagePayload: ''\n      }\n    },\n    // Gateways\n    {\n      id: 'decision-node',\n      type: 'decision',\n      label: 'Exclusive Gateway',\n      icon: GitBranch,\n      category: 'gateways',\n      description: 'BPMN XOR gateway - conditional branching',\n      data: { \n        label: 'Gateway',\n        conditionType: 'ALWAYS_TRUE',\n        condition: 'true'\n      }\n    },\n    {\n      id: 'parallel-split-node',\n      type: 'parallelSplit',\n      label: 'Parallel Gateway',\n      icon: Split,\n      category: 'gateways',\n      description: 'BPMN AND gateway - parallel execution',\n      data: { \n        label: 'Parallel',\n        parallelPaths: 2\n      }\n    },\n    // Service Tasks / Utilities\n    {\n      id: 'pgp-encrypt',\n      type: 'utility',\n      label: 'PGP Encrypt',\n      icon: Lock,\n      category: 'utilities',\n      description: 'Encrypt files with PGP',\n      data: { \n        label: 'PGP Encrypt',\n        utilityType: 'PGP_ENCRYPT',\n        configuration: {\n          algorithm: 'RSA-4096'\n        }\n      }\n    },\n    {\n      id: 'pgp-decrypt',\n      type: 'utility',\n      label: 'PGP Decrypt',\n      icon: Unlock,\n      category: 'utilities',\n      description: 'Decrypt files with PGP',\n      data: { \n        label: 'PGP Decrypt',\n        utilityType: 'PGP_DECRYPT',\n        configuration: {\n          algorithm: 'RSA-4096'\n        }\n      }\n    },\n    {\n      id: 'unzip-extract',\n      type: 'utility',\n      label: 'Unzip',\n      icon: FileArchive,\n      category: 'utilities',\n      description: 'Extract files from ZIP archives',\n      data: { \n        label: 'Unzip',\n        utilityType: 'ZIP_EXTRACT',\n        configuration: {\n          extractToDirectory: '',\n          preserveStructure: true\n        }\n      }\n    }\n  ]\n\n  const categories = [\n    { id: 'adapters', label: 'Adapters', color: 'bg-blue-500/20 text-blue-400' },\n    { id: 'events', label: 'Events', color: 'bg-green-500/20 text-green-400' },\n    { id: 'gateways', label: 'Gateways', color: 'bg-amber-500/20 text-amber-400' },\n    { id: 'utilities', label: 'Service Tasks', color: 'bg-purple-500/20 text-purple-400' }\n  ]\n\n  const toggleCategory = (categoryId: string) => {\n    setExpandedCategories(prev =>\n      prev.includes(categoryId)\n        ? prev.filter(id => id !== categoryId)\n        : [...prev, categoryId]\n    )\n  }\n\n  const handleNodeDragStart = (event: React.DragEvent, nodeTemplate: NodeTemplate) => {\n    event.dataTransfer.setData('application/reactflow', JSON.stringify({\n      nodeType: nodeTemplate.type,\n      nodeData: nodeTemplate.data\n    }))\n    event.dataTransfer.effectAllowed = 'move'\n  }\n\n  const handleNodeAdd = (nodeTemplate: NodeTemplate) => {\n    if (onNodeAdd) {\n      onNodeAdd(nodeTemplate.type, nodeTemplate.data)\n    }\n  }\n\n  return (\n    <div className={`w-80 bg-slate-900 border-r border-slate-700 flex flex-col ${className}`}>\n      {/* Header */}\n      <div className=\"p-4 border-b border-slate-700\">\n        <h3 className=\"font-semibold text-lg text-slate-100\">BPMN Elements</h3>\n        <p className=\"text-sm text-slate-400\">\n          Drag nodes to the canvas or click to add\n        </p>\n      </div>\n\n      {/* Node Categories */}\n      <div className=\"flex-1 overflow-y-auto p-3 space-y-2\">\n        {categories.map(category => {\n          const categoryNodes = nodeTemplates.filter(node => node.category === category.id)\n          const isExpanded = expandedCategories.includes(category.id)\n\n          return (\n            <Card key={category.id} className=\"bg-slate-800 border-slate-700\">\n              <Collapsible open={isExpanded} onOpenChange={() => toggleCategory(category.id)}>\n                <CollapsibleTrigger asChild>\n                  <CardHeader className=\"py-2 px-3 cursor-pointer hover:bg-slate-700/50 transition-colors\">\n                    <CardTitle className=\"flex items-center justify-between text-sm\">\n                      <div className=\"flex items-center space-x-2\">\n                        <Badge variant=\"secondary\" className={category.color}>\n                          {categoryNodes.length}\n                        </Badge>\n                        <span className=\"text-slate-200\">{category.label}</span>\n                      </div>\n                      {isExpanded ? (\n                        <ChevronDown className=\"h-4 w-4 text-slate-400\" />\n                      ) : (\n                        <ChevronRight className=\"h-4 w-4 text-slate-400\" />\n                      )}\n                    </CardTitle>\n                  </CardHeader>\n                </CollapsibleTrigger>\n\n                <CollapsibleContent>\n                  <CardContent className=\"pt-0 px-2 pb-2 space-y-1\">\n                    {categoryNodes.map(node => {\n                      const IconComponent = node.icon\n                      return (\n                        <div\n                          key={node.id}\n                          draggable\n                          onDragStart={(e) => handleNodeDragStart(e, node)}\n                          className=\"group p-2 border border-slate-600 rounded-lg cursor-grab active:cursor-grabbing hover:bg-slate-700/50 hover:border-slate-500 transition-all\"\n                        >\n                          <div className=\"flex items-start space-x-2\">\n                            <div className=\"w-7 h-7 bg-slate-700 rounded flex items-center justify-center flex-shrink-0\">\n                              <IconComponent className=\"h-4 w-4 text-slate-300\" />\n                            </div>\n                            <div className=\"flex-1 min-w-0\">\n                              <div className=\"flex items-center justify-between\">\n                                <h4 className=\"font-medium text-xs text-slate-200 truncate\">\n                                  {node.label}\n                                </h4>\n                                <Button\n                                  variant=\"ghost\"\n                                  size=\"sm\"\n                                  onClick={() => handleNodeAdd(node)}\n                                  className=\"opacity-0 group-hover:opacity-100 transition-opacity h-5 w-5 p-0 text-slate-400 hover:text-slate-200\"\n                                >\n                                  <Plus className=\"h-3 w-3\" />\n                                </Button>\n                              </div>\n                              <p className=\"text-[10px] text-slate-500 mt-0.5 leading-tight\">\n                                {node.description}\n                              </p>\n                            </div>\n                          </div>\n                        </div>\n                      )\n                    })}\n                  </CardContent>\n                </CollapsibleContent>\n              </Collapsible>\n            </Card>\n          )\n        })}\n      </div>\n\n      {/* Footer */}\n      <div className=\"p-3 border-t border-slate-700 bg-slate-800/50\">\n        <p className=\"text-[10px] text-slate-500 text-center\">\n          Drag nodes to canvas or click + to add\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default NodeSidebar","import React, { useState, useEffect } from 'react'\nimport { useQuery } from '@tanstack/react-query'\nimport { \n  Settings, \n  FileInput, \n  FileOutput, \n  Server, \n  Mail,\n  Save,\n  X\n} from 'lucide-react'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Label } from '@/components/ui/label'\nimport { Input } from '@/components/ui/input'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { interfaceApi } from '@/lib/api'\nimport { Node } from '@xyflow/react'\n\ninterface NodePropertiesPanelProps {\n  selectedNode: Node | null\n  onNodeUpdate: (nodeId: string, updates: any) => void\n  onClose: () => void\n  className?: string\n}\n\nconst NodePropertiesPanel: React.FC<NodePropertiesPanelProps> = ({\n  selectedNode,\n  onNodeUpdate,\n  onClose,\n  className = ''\n}) => {\n  const [nodeData, setNodeData] = useState<any>({})\n\n  // Fetch available adapters for selection\n  const { data: adaptersResponse } = useQuery({\n    queryKey: ['interfaces'],\n    queryFn: interfaceApi.getAllInterfaces,\n  })\n\n  const adapters = adaptersResponse?.data || []\n\n  // Initialize node data when selected node changes\n  useEffect(() => {\n    if (selectedNode) {\n      setNodeData({\n        label: selectedNode.data.label || '',\n        adapterType: selectedNode.data.adapterType || null,\n        direction: selectedNode.data.direction || '',\n        adapterId: selectedNode.data.adapterId || '',\n        configuration: selectedNode.data.configuration || {},\n        // New orchestration pattern fields\n        inboundAdapter: selectedNode.data.inboundAdapter || '',\n        ...selectedNode.data\n      })\n    }\n  }, [selectedNode])\n\n  const handleSave = () => {\n    if (selectedNode) {\n      onNodeUpdate(selectedNode.id, nodeData)\n      onClose()\n    }\n  }\n\n  const handleInputChange = (field: string, value: any) => {\n    setNodeData((prev: any) => ({\n      ...prev,\n      [field]: value\n    }))\n  }\n\n  const getNodeIcon = () => {\n    if (selectedNode?.type === 'start') return Settings\n    if (selectedNode?.type === 'end') return Settings\n    if (selectedNode?.type === 'messageEnd') return Mail\n    if (selectedNode?.type === 'decision') return Settings\n    if (selectedNode?.type === 'utility') return Settings\n\n    switch (nodeData.adapterType) {\n      case 'FILE':\n        return nodeData.direction === 'SENDER' ? FileInput : FileOutput\n      case 'SFTP':\n        return Server\n      case 'EMAIL':\n        return Mail\n      default:\n        return Settings\n    }\n  }\n\n  const getAvailableAdapters = () => {\n    // For adapter nodes, filter by direction only if no specific adapter type is set\n    // This allows all adapters of the correct direction to be shown\n    if (!nodeData.direction) return []\n    \n    return adapters.filter((adapter: any) => {\n      // Always match direction\n      const directionMatch = adapter.direction === nodeData.direction\n      \n      // If adapterType is set, also match on that\n      if (nodeData.adapterType && nodeData.adapterType !== 'null') {\n        return directionMatch && adapter.adapterType === nodeData.adapterType\n      }\n      \n      // Otherwise, just match on direction\n      return directionMatch\n    })\n  }\n\n  if (!selectedNode) {\n    return (\n      <div className={`w-80 bg-background border-l flex flex-col ${className}`}>\n        <div className=\"p-4 border-b\">\n          <h3 className=\"font-semibold text-lg\">Properties</h3>\n          <p className=\"text-sm text-muted-foreground\">\n            Select a node to configure its properties\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  const IconComponent = getNodeIcon()\n  const availableAdapters = getAvailableAdapters()\n\n  return (\n    <div className={`w-80 bg-background border-l flex flex-col ${className}`}>\n      {/* Header */}\n      <div className=\"p-4 border-b\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-8 h-8 bg-primary/20 rounded-lg flex items-center justify-center\">\n              <IconComponent className=\"h-4 w-4 text-primary\" />\n            </div>\n            <div>\n              <h3 className=\"font-semibold text-lg\">Node Properties</h3>\n              <p className=\"text-sm text-muted-foreground\">\n                {selectedNode.type === 'start' ? 'Start Process Configuration' : \n                 selectedNode.type === 'end' ? 'End Process Configuration' :\n                 selectedNode.type === 'messageEnd' ? 'Message End Configuration' :\n                 selectedNode.type === 'adapter' ? 'Adapter Configuration' : \n                 'Node Configuration'}\n              </p>\n            </div>\n          </div>\n          <Button variant=\"ghost\" size=\"sm\" onClick={onClose}>\n            <X className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n\n      {/* Properties */}\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n        {/* Basic Properties */}\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-sm\">Basic Properties</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-3\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"node-label\">Label</Label>\n              <Input\n                id=\"node-label\"\n                value={nodeData.label || ''}\n                onChange={(e) => handleInputChange('label', e.target.value)}\n                placeholder=\"Enter node label\"\n                className=\"text-sm\"\n              />\n            </div>\n\n            {/* START Process Node - System Node (Non-configurable) */}\n            {selectedNode.type === 'start' && (\n              <div className=\"space-y-2\">\n                <Label>Node Type</Label>\n                <div className=\"text-sm text-muted-foreground bg-muted/20 p-2 rounded\">\n                  Start Event - System node that initiates the flow process\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  This is a system node and cannot be configured. Use adapter nodes to connect external systems.\n                </p>\n              </div>\n            )}\n\n            {/* END Process Node - System Node (Non-configurable) */}\n            {selectedNode.type === 'end' && (\n              <div className=\"space-y-2\">\n                <Label>Node Type</Label>\n                <div className=\"text-sm text-muted-foreground bg-muted/20 p-2 rounded\">\n                  End Event - System node that terminates the flow process\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  This is a system node and cannot be configured. Use adapter nodes to connect external systems.\n                </p>\n              </div>\n            )}\n\n            {/* MESSAGE END Node - System Node (Non-configurable) */}\n            {selectedNode.type === 'messageEnd' && (\n              <div className=\"space-y-2\">\n                <Label>Node Type</Label>\n                <div className=\"text-sm text-muted-foreground bg-muted/20 p-2 rounded\">\n                  Message End Event - System node for message-based flow termination\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  This is a system node and cannot be configured. Use adapter nodes to connect external systems.\n                </p>\n              </div>\n            )}\n\n            {/* Legacy adapter node support */}\n            {selectedNode.type === 'adapter' && (\n              <>\n                <div className=\"space-y-2\">\n                  <Label>Adapter Type</Label>\n                  <div className=\"text-sm text-muted-foreground bg-muted/20 p-2 rounded\">\n                    {nodeData.adapterType && nodeData.adapterType !== null && nodeData.adapterType !== '' ? \n                      `${nodeData.adapterType} ${nodeData.direction}` : \n                      `${nodeData.direction} (Select adapter instance to set type)`\n                    }\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"adapter-instance\">Adapter Instance</Label>\n                  <Select\n                    value={nodeData.adapterId || ''}\n                    onValueChange={(value) => {\n                      const selectedAdapter = adapters.find((a: any) => a.id === value)\n                      const updates = {\n                        adapterId: value,\n                        ...(selectedAdapter && {\n                          label: selectedAdapter.name,\n                          adapterType: selectedAdapter.adapterType,\n                          configuration: selectedAdapter.configuration\n                        })\n                      }\n                      \n                      // Update local state\n                      setNodeData((prev: any) => ({\n                        ...prev,\n                        ...updates\n                      }))\n                      \n                      // Auto-save the changes immediately\n                      if (selectedNode) {\n                        onNodeUpdate(selectedNode.id, updates)\n                      }\n                    }}\n                  >\n                    <SelectTrigger className=\"w-full\">\n                      <SelectValue placeholder=\"Select adapter instance\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {availableAdapters.map((adapter: any) => (\n                        <SelectItem key={adapter.id} value={adapter.id}>\n                          {adapter.name} - {adapter.adapterType}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                  {availableAdapters.length === 0 && (\n                    <p className=\"text-xs text-muted-foreground\">\n                      No {nodeData.direction} adapters available. \n                      Create one in Adapter Configuration first.\n                    </p>\n                  )}\n                </div>\n              </>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Configuration Summary */}\n        {nodeData.configuration && Object.keys(nodeData.configuration).length > 0 && (\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm\">Configuration Summary</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-2 text-sm overflow-hidden\">\n                {nodeData.adapterType === 'FILE' && (\n                  <>\n                    {nodeData.configuration.sourceDirectory && (\n                      <div className=\"flex flex-col\">\n                        <span className=\"text-muted-foreground\">Source:</span>\n                        <span className=\"font-mono text-xs truncate\" title={nodeData.configuration.sourceDirectory}>{nodeData.configuration.sourceDirectory}</span>\n                      </div>\n                    )}\n                    {nodeData.configuration.targetDirectory && (\n                      <div className=\"flex flex-col\">\n                        <span className=\"text-muted-foreground\">Target:</span>\n                        <span className=\"font-mono text-xs truncate\" title={nodeData.configuration.targetDirectory}>{nodeData.configuration.targetDirectory}</span>\n                      </div>\n                    )}\n                    {nodeData.configuration.filePattern && (\n                      <div className=\"flex flex-col\">\n                        <span className=\"text-muted-foreground\">Pattern:</span>\n                        <span className=\"font-mono text-xs truncate\">{nodeData.configuration.filePattern}</span>\n                      </div>\n                    )}\n                  </>\n                )}\n                {nodeData.adapterType === 'SFTP' && (\n                  <>\n                    {nodeData.configuration.host && (\n                      <div className=\"flex flex-col\">\n                        <span className=\"text-muted-foreground\">Host:</span>\n                        <span className=\"font-mono text-xs truncate\">{nodeData.configuration.host}:{nodeData.configuration.port}</span>\n                      </div>\n                    )}\n                    {nodeData.configuration.remoteDirectory && (\n                      <div className=\"flex flex-col\">\n                        <span className=\"text-muted-foreground\">Remote Dir:</span>\n                        <span className=\"font-mono text-xs truncate\" title={nodeData.configuration.remoteDirectory}>{nodeData.configuration.remoteDirectory}</span>\n                      </div>\n                    )}\n                  </>\n                )}\n                {nodeData.adapterType === 'EMAIL' && (\n                  <>\n                    {nodeData.configuration.smtpHost && (\n                      <div className=\"flex flex-col\">\n                        <span className=\"text-muted-foreground\">SMTP:</span>\n                        <span className=\"font-mono text-xs truncate\">{nodeData.configuration.smtpHost}:{nodeData.configuration.smtpPort}</span>\n                      </div>\n                    )}\n                    {nodeData.configuration.recipients && (\n                      <div className=\"flex flex-col\">\n                        <span className=\"text-muted-foreground\">Recipients:</span>\n                        <span className=\"font-mono text-xs truncate\" title={\n                          Array.isArray(nodeData.configuration.recipients) \n                            ? nodeData.configuration.recipients.join(', ')\n                            : String(nodeData.configuration.recipients)\n                        }>\n                          {Array.isArray(nodeData.configuration.recipients) \n                            ? nodeData.configuration.recipients.join(', ')\n                            : String(nodeData.configuration.recipients)\n                          }\n                        </span>\n                      </div>\n                    )}\n                  </>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Node Type Specific Properties */}\n        {selectedNode.type === 'decision' && (\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm\">Decision Logic</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-3\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"condition-type\">Condition Type</Label>\n                <Select\n                  value={nodeData.conditionType || 'ALWAYS_TRUE'}\n                  onValueChange={(value) => handleInputChange('conditionType', value)}\n                >\n                  <SelectTrigger className=\"w-full\">\n                    <SelectValue placeholder=\"Select condition type\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"ALWAYS_TRUE\">Always True</SelectItem>\n                    <SelectItem value=\"FILE_EXISTS\">File Exists</SelectItem>\n                    <SelectItem value=\"FILE_SIZE\">File Size Check</SelectItem>\n                    <SelectItem value=\"CUSTOM\">Custom Expression</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {nodeData.conditionType === 'CUSTOM' && (\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"condition\">Condition Expression</Label>\n                  <Input\n                    id=\"condition\"\n                    value={nodeData.condition || ''}\n                    onChange={(e) => handleInputChange('condition', e.target.value)}\n                    placeholder=\"Enter condition expression\"\n                    className=\"text-sm font-mono\"\n                  />\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        )}\n\n        {selectedNode.type === 'utility' && (\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm\">Utility Configuration</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-3\">\n              <div className=\"space-y-2\">\n                <Label>Utility Type</Label>\n                <div className=\"text-sm text-muted-foreground bg-muted/20 p-2 rounded\">\n                  {nodeData.utilityType}\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n\n      {/* Footer */}\n      <div className=\"p-4 border-t\">\n        <div className=\"flex items-center space-x-2\">\n          <Button onClick={handleSave} size=\"sm\" className=\"flex-1\">\n            <Save className=\"h-4 w-4 mr-2\" />\n            Save Changes\n          </Button>\n          <Button variant=\"outline\" onClick={onClose} size=\"sm\">\n            Cancel\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default NodePropertiesPanel","import dagre from 'dagre'\nimport { type Node, type Edge } from '@xyflow/react'\n\n// Layout configuration for different flow types\nexport interface LayoutConfig {\n  direction: 'TB' | 'LR' | 'BT' | 'RL'\n  nodeWidth: number\n  nodeHeight: number\n  rankSeparation: number\n  nodeSeparation: number\n}\n\n// Default layout configuration optimized for integration flows\nconst DEFAULT_LAYOUT_CONFIG: LayoutConfig = {\n  direction: 'LR', // Left to Right for integration pipeline flows\n  nodeWidth: 180,  // Standard node width\n  nodeHeight: 80,  // Standard node height\n  rankSeparation: 120, // Horizontal spacing between ranks\n  nodeSeparation: 80,  // Vertical spacing between nodes\n}\n\n// Node type specific dimensions\nconst NODE_DIMENSIONS: Record<string, { width: number; height: number }> = {\n  start: { width: 120, height: 60 },\n  end: { width: 120, height: 60 },\n  messageEnd: { width: 140, height: 60 },\n  adapter: { width: 200, height: 100 },\n  utility: { width: 160, height: 80 },\n  decision: { width: 140, height: 80 },\n  parallelSplit: { width: 160, height: 80 },\n}\n\n/**\n * Apply Dagre layout algorithm to React Flow nodes and edges\n */\nexport function layoutElements(\n  nodes: Node[],\n  edges: Edge[],\n  config: Partial<LayoutConfig> = {}\n): { nodes: Node[]; edges: Edge[] } {\n  const layoutConfig = { ...DEFAULT_LAYOUT_CONFIG, ...config }\n  \n  // Create a new directed graph\n  const graph = new dagre.graphlib.Graph()\n  \n  // Set graph configuration\n  graph.setDefaultEdgeLabel(() => ({}))\n  graph.setGraph({\n    rankdir: layoutConfig.direction,\n    ranksep: layoutConfig.rankSeparation,\n    nodesep: layoutConfig.nodeSeparation,\n    marginx: 40,\n    marginy: 40,\n  })\n  \n  // Add nodes to graph with type-specific dimensions\n  nodes.forEach((node) => {\n    const dimensions = NODE_DIMENSIONS[node.type || 'default'] || {\n      width: layoutConfig.nodeWidth,\n      height: layoutConfig.nodeHeight,\n    }\n    \n    graph.setNode(node.id, {\n      width: dimensions.width,\n      height: dimensions.height,\n    })\n  })\n  \n  // Add edges to graph\n  edges.forEach((edge) => {\n    graph.setEdge(edge.source, edge.target)\n  })\n  \n  // Run the layout algorithm\n  dagre.layout(graph)\n  \n  // Apply calculated positions to nodes\n  const layoutedNodes = nodes.map((node) => {\n    const nodeWithPosition = graph.node(node.id)\n    \n    return {\n      ...node,\n      position: {\n        x: nodeWithPosition.x - nodeWithPosition.width / 2,\n        y: nodeWithPosition.y - nodeWithPosition.height / 2,\n      },\n      // Add computed width/height to node data for consistent rendering\n      data: {\n        ...node.data,\n        computedWidth: nodeWithPosition.width,\n        computedHeight: nodeWithPosition.height,\n      },\n    }\n  })\n  \n  return {\n    nodes: layoutedNodes,\n    edges, // Edges don't need position updates\n  }\n}\n\n/**\n * Apply vertical layout optimized for simple linear flows\n */\nexport function layoutElementsVertical(\n  nodes: Node[],\n  edges: Edge[]\n): { nodes: Node[]; edges: Edge[] } {\n  return layoutElements(nodes, edges, {\n    direction: 'TB',\n    rankSeparation: 100,\n    nodeSeparation: 60,\n  })\n}\n\n/**\n * Apply horizontal layout optimized for integration pipeline flows\n */\nexport function layoutElementsHorizontal(\n  nodes: Node[],\n  edges: Edge[]\n): { nodes: Node[]; edges: Edge[] } {\n  return layoutElements(nodes, edges, {\n    direction: 'LR',\n    rankSeparation: 120,\n    nodeSeparation: 80,\n  })\n}\n\n/**\n * Apply compact layout for flows with many nodes\n */\nexport function layoutElementsCompact(\n  nodes: Node[],\n  edges: Edge[]\n): { nodes: Node[]; edges: Edge[] } {\n  return layoutElements(nodes, edges, {\n    direction: 'LR',\n    nodeWidth: 140,\n    nodeHeight: 60,\n    rankSeparation: 80,\n    nodeSeparation: 40,\n  })\n}\n\n/**\n * Smart layout selection based on flow characteristics\n */\nexport function layoutElementsSmart(\n  nodes: Node[],\n  edges: Edge[]\n): { nodes: Node[]; edges: Edge[] } {\n  const nodeCount = nodes.length\n  const edgeCount = edges.length\n  \n  // For simple linear flows (few branches), use horizontal layout\n  if (nodeCount <= 6 && edgeCount <= nodeCount + 2) {\n    return layoutElementsHorizontal(nodes, edges)\n  }\n  \n  // For complex flows with many nodes, use compact layout\n  if (nodeCount > 10) {\n    return layoutElementsCompact(nodes, edges)\n  }\n  \n  // Default to horizontal layout for integration flows\n  return layoutElementsHorizontal(nodes, edges)\n}\n\n/**\n * Get layout statistics for the current flow\n */\nexport function getLayoutStats(nodes: Node[], edges: Edge[]): {\n  nodeCount: number\n  edgeCount: number\n  hasAdapters: boolean\n  hasDecisions: boolean\n  maxDepth: number\n  suggestedLayout: string\n} {\n  const nodeCount = nodes.length\n  const edgeCount = edges.length\n  const hasAdapters = nodes.some(node => node.type === 'adapter')\n  const hasDecisions = nodes.some(node => node.type === 'decision')\n  \n  // Calculate max depth (simplified - actual implementation would need proper graph traversal)\n  const maxDepth = Math.ceil(Math.sqrt(nodeCount))\n  \n  let suggestedLayout = 'horizontal'\n  if (nodeCount > 10) {\n    suggestedLayout = 'compact'\n  } else if (hasDecisions || maxDepth > 3) {\n    suggestedLayout = 'smart'\n  }\n  \n  return {\n    nodeCount,\n    edgeCount,\n    hasAdapters,\n    hasDecisions,\n    maxDepth,\n    suggestedLayout,\n  }\n}","import React, { useCallback, useRef, useState } from 'react'\nimport {\n  ReactFlow,\n  Background,\n  Controls,\n  MiniMap,\n  addEdge,\n  useNodesState,\n  useEdgesState,\n  useReactFlow,  \n  reconnectEdge,\n  type Node,\n  type Edge,\n  type Connection,\n  type NodeTypes,\n  type EdgeTypes,\n  ConnectionMode,\n  Panel,\n} from '@xyflow/react'\nimport '@xyflow/react/dist/style.css'\n\n// Node Components\nimport AdapterNode from './nodes/AdapterNode'\nimport UtilityNode from './nodes/UtilityNode'\nimport DecisionNode from './nodes/DecisionNode'\nimport StartNode from './nodes/StartNode'\nimport EndNode from './nodes/EndNode'\nimport ParallelSplitNode from './nodes/ParallelSplitNode'\nimport MessageEndNode from './nodes/MessageEndNode'\n\n// @ts-expect-error useReactFlow is used for flow functionality\nconst _ = useReactFlow\n\n// Edge Components\nimport FlowEdge from './edges/FlowEdge'\n\n// Flow Controls\nimport FlowToolbar from './FlowToolbar'\nimport NodeSidebar from './NodeSidebar'\nimport NodePropertiesPanel from './NodePropertiesPanel'\n\n// Layout utilities\nimport { layoutElementsSmart } from '@/utils/flowLayout'\n\n// Types\nexport interface FlowData {\n  id: string\n  name: string\n  description: string\n  nodes: Node[]\n  edges: Edge[]\n  active: boolean\n}\n\ninterface FlowCanvasProps {\n  flowData?: FlowData\n  onFlowChange?: (flow: FlowData) => void\n  onSave?: (flow: FlowData) => void\n  onExecute?: (flow: FlowData) => void\n  readOnly?: boolean\n  className?: string\n  isSaving?: boolean\n}\n\n// Define node types - xyflow's NodeTypes accepts ComponentType with data: any\nconst nodeTypes: NodeTypes = {\n  start: StartNode,\n  end: EndNode,\n  messageEnd: MessageEndNode,\n  adapter: AdapterNode,\n  utility: UtilityNode,\n  decision: DecisionNode,\n  parallelSplit: ParallelSplitNode,\n}\n\n// Define edge types\nconst edgeTypes: EdgeTypes = {\n  flow: FlowEdge,\n}\n\n// Initial nodes for new flows - BPMN 2.0 layout\nconst initialNodes: Node[] = [\n  {\n    id: 'start-event-1',\n    type: 'start',\n    position: { x: 100, y: 120 },\n    data: { \n      label: 'Start',\n      eventType: 'message',\n      inboundAdapter: '',\n      showDeleteButton: false\n    },\n  },\n  {\n    id: 'end-event-1',\n    type: 'end',\n    position: { x: 400, y: 120 },\n    data: { \n      label: 'End',\n      eventType: 'message',\n      adapterType: 'end-process',\n      adapterId: '',\n      showDeleteButton: false\n    },\n  },\n]\n\n// Edge color constant - light blue for dark theme\nconst EDGE_COLOR = '#3b82f6'\nconst EDGE_COLOR_SELECTED = '#60a5fa'\n\nconst initialEdges: Edge[] = [\n  {\n    id: 'flow-start-to-end',\n    source: 'start-event-1',\n    target: 'end-event-1',\n    type: 'flow',\n    markerEnd: { type: 'arrowclosed', color: EDGE_COLOR },\n    style: {\n      stroke: EDGE_COLOR,\n      strokeWidth: 1.5,\n    },\n  },\n]\n\nconst FlowCanvas: React.FC<FlowCanvasProps> = ({\n  flowData,\n  onFlowChange,\n  onSave,\n  onExecute,\n  readOnly = false,\n  className = '',\n  isSaving = false,\n}) => {\n  const [nodes, setNodes, onNodesChange] = useNodesState(\n    flowData?.nodes?.length ? flowData.nodes : initialNodes\n  )\n  const [edges, setEdges, onEdgesChange] = useEdgesState(\n    flowData?.edges?.length ? flowData.edges : initialEdges\n  )\n\n  const [selectedNode, setSelectedNode] = useState<Node | null>(null)\n  const [selectedEdge, setSelectedEdge] = useState<Edge | null>(null)\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n  const [propertiesPanelOpen, setPropertiesPanelOpen] = useState(false)\n  const [nodeWithDeleteButton, setNodeWithDeleteButton] = useState<string | null>(null)\n  const reactFlowWrapper = useRef<HTMLDivElement>(null)\n  const [reactFlowInstance, setReactFlowInstance] = useState<any>(null)\n\n  // Validate connections to ensure proper flow direction\n  const isValidConnection = useCallback((edge: Connection | Edge) => {\n    const sourceNode = nodes.find(node => node.id === edge.source)\n    const targetNode = nodes.find(node => node.id === edge.target)\n    \n    if (!sourceNode || !targetNode) return false\n    \n    // Prevent self-connections\n    if (edge.source === edge.target) return false\n    \n    // Sender adapters can connect to start nodes\n    if (sourceNode.type === 'adapter' && sourceNode.data?.direction === 'SENDER') {\n      return targetNode.type === 'start'\n    }\n    \n    // Start nodes can connect to utility, decision, parallelSplit, end, or messageEnd nodes\n    if (sourceNode.type === 'start') {\n      return targetNode.type === 'utility' || targetNode.type === 'decision' || targetNode.type === 'parallelSplit' || targetNode.type === 'end' || targetNode.type === 'messageEnd'\n    }\n    \n    // End nodes can connect to receiver adapters\n    if (sourceNode.type === 'end') {\n      return targetNode.type === 'adapter' && targetNode.data?.direction === 'RECEIVER'\n    }\n    \n    // Message end nodes can connect to receiver adapters\n    if (sourceNode.type === 'messageEnd') {\n      return targetNode.type === 'adapter' && targetNode.data?.direction === 'RECEIVER'\n    }\n    \n    // Utility, decision, and parallelSplit nodes can connect to other utilities, decisions, parallelSplits, end, or messageEnd nodes\n    if (sourceNode.type === 'utility' || sourceNode.type === 'decision' || sourceNode.type === 'parallelSplit') {\n      return targetNode.type === 'utility' || targetNode.type === 'decision' || targetNode.type === 'parallelSplit' || targetNode.type === 'end' || targetNode.type === 'messageEnd'\n    }\n    \n    // Receiver adapters should not connect to anything (they are final output points)\n    if (sourceNode.type === 'adapter' && sourceNode.data?.direction === 'RECEIVER') {\n      return false\n    }\n    \n    // Allow other standard connections\n    return true\n  }, [nodes])\n\n  // Handle connection creation\n  const onConnect = useCallback(\n    (params: Connection) => {\n      if (isValidConnection(params)) {\n        const edge = {\n          ...params,\n          type: 'flow',\n          markerEnd: { type: 'arrowclosed', color: EDGE_COLOR },\n          style: { stroke: EDGE_COLOR, strokeWidth: 2, strokeDasharray: 'none' },\n        }\n        setEdges((eds) => addEdge(edge, eds))\n      }\n    },\n    [setEdges, isValidConnection]\n  )\n\n  // Handle edge reconnection (drag arrowhead to new node)\n  const onReconnect = useCallback(\n    (oldEdge: Edge, newConnection: Connection) => {\n      if (isValidConnection(newConnection)) {\n        setEdges((eds) => reconnectEdge(oldEdge, newConnection, eds))\n      }\n    },\n    [setEdges, isValidConnection]\n  )\n\n  // Handle node selection\n  const onNodeClick = useCallback(\n    (_event: React.MouseEvent, node: Node) => {\n      if (!readOnly) {\n        // System nodes (start, end, messageEnd) should not be configurable\n        const isSystemNode = ['start', 'end', 'messageEnd'].includes(node.type || '')\n        \n        if (isSystemNode) {\n          // Clear any selections when clicking system nodes\n          setSelectedNode(null)\n          setSelectedEdge(null)\n          setPropertiesPanelOpen(false)\n          setNodeWithDeleteButton(null)\n        } else {\n          setSelectedNode(node)\n          setSelectedEdge(null) // Clear edge selection when node is selected\n          setPropertiesPanelOpen(true)\n          setSidebarOpen(false) // Close node sidebar when properties panel opens\n          \n          // Show delete button for 3 seconds (like Flow Bridge)\n          setNodeWithDeleteButton(node.id)\n          setTimeout(() => setNodeWithDeleteButton(null), 3000)\n        }\n      }\n    },\n    [readOnly]\n  )\n\n  // Handle edge selection\n  const onEdgeClick = useCallback(\n    (_event: React.MouseEvent, edge: Edge) => {\n      if (!readOnly) {\n        setSelectedEdge(edge)\n        setSelectedNode(null) // Clear node selection when edge is selected\n        setNodeWithDeleteButton(null) // Clear node delete button\n        setPropertiesPanelOpen(false) // Close properties panel for edges\n        setSidebarOpen(false)\n      }\n    },\n    [readOnly]\n  )\n\n  // Handle canvas click (clear selections when clicking empty space)\n  const onPaneClick = useCallback(() => {\n    if (!readOnly) {\n      setSelectedNode(null)\n      setSelectedEdge(null)\n      setNodeWithDeleteButton(null)\n      setPropertiesPanelOpen(false)\n    }\n  }, [readOnly])\n\n\n  // Handle drag over for node drop\n  const onDragOver = useCallback((event: React.DragEvent) => {\n    event.preventDefault()\n    event.dataTransfer.dropEffect = 'move'\n  }, [])\n\n  // Handle node drop from sidebar\n  const onDrop = useCallback(\n    (event: React.DragEvent) => {\n      event.preventDefault()\n\n      if (!reactFlowInstance) return\n\n      try {\n        const dropData = JSON.parse(event.dataTransfer.getData('application/reactflow'))\n        \n        // Use screenToFlowPosition to get exact drop position accounting for zoom/pan\n        const position = reactFlowInstance.screenToFlowPosition({\n          x: event.clientX,\n          y: event.clientY,\n        })\n\n        const newNode: Node = {\n          id: `${dropData.nodeType}-${Date.now()}`,\n          type: dropData.nodeType,\n          position,\n          data: dropData.nodeData,\n        }\n\n        setNodes((nds) => nds.concat(newNode))\n      } catch (error) {\n        console.error('Error parsing dropped node data:', error)\n      }\n    },\n    [setNodes, reactFlowInstance]\n  )\n\n  // Delete selected node/edge\n  const onDeleteSelected = useCallback(() => {\n    if (selectedNode) {\n      // Prevent deletion of system nodes\n      const isSystemNode = ['start', 'end', 'messageEnd'].includes(selectedNode.type || '')\n      if (isSystemNode) {\n        console.warn('System nodes cannot be deleted')\n        return\n      }\n      \n      setNodes((nds) => nds.filter((node) => node.id !== selectedNode.id))\n      setEdges((eds) => \n        eds.filter((edge) => \n          edge.source !== selectedNode.id && edge.target !== selectedNode.id\n        )\n      )\n      setSelectedNode(null)\n    } else if (selectedEdge) {\n      setEdges((eds) => eds.filter((edge) => edge.id !== selectedEdge.id))\n      setSelectedEdge(null)\n    }\n  }, [selectedNode, selectedEdge, setNodes, setEdges])\n\n  // Clear all nodes and edges\n  const onClear = useCallback(() => {\n    setNodes(initialNodes)\n    setEdges(initialEdges)\n    setSelectedNode(null)\n  }, [setNodes, setEdges])\n\n  // Save flow\n  const handleSave = useCallback(() => {\n    const currentFlow: FlowData = {\n      id: flowData?.id || `flow-${Date.now()}`,\n      name: flowData?.name || 'Untitled Flow',\n      description: flowData?.description || '',\n      nodes,\n      edges,\n      active: flowData?.active || true,\n    }\n    \n    onSave?.(currentFlow)\n    onFlowChange?.(currentFlow)\n  }, [flowData, nodes, edges, onSave, onFlowChange])\n\n  // Execute flow\n  const handleExecute = useCallback(() => {\n    const currentFlow: FlowData = {\n      id: flowData?.id || `flow-${Date.now()}`,\n      name: flowData?.name || 'Untitled Flow',\n      description: flowData?.description || '',\n      nodes,\n      edges,\n      active: flowData?.active || true,\n    }\n    \n    onExecute?.(currentFlow)\n  }, [flowData, nodes, edges, onExecute])\n\n  // Handle direct node addition from sidebar\n  const handleNodeAdd = useCallback(\n    (nodeType: string, nodeData: any) => {\n      // Position all new nodes at the same fixed central location\n      const fixedPosition = { x: 250, y: 200 }\n\n      const newNode: Node = {\n        id: `${nodeType}-${Date.now()}`,\n        type: nodeType,\n        position: fixedPosition,\n        data: nodeData,\n      }\n\n      setNodes((nds) => nds.concat(newNode))\n    },\n    [setNodes]\n  )\n\n  // Handle node property updates\n  const handleNodeUpdate = useCallback(\n    (nodeId: string, updates: any) => {\n      setNodes((nds) =>\n        nds.map((node) =>\n          node.id === nodeId\n            ? { ...node, data: { ...node.data, ...updates } }\n            : node\n        )\n      )\n      setSelectedNode(null)\n      setPropertiesPanelOpen(false)\n    },\n    [setNodes]\n  )\n\n  // Handle auto-layout\n  const handleAutoLayout = useCallback(() => {\n    const { nodes: layoutedNodes, edges: layoutedEdges } = layoutElementsSmart(nodes, edges)\n    setNodes(layoutedNodes)\n    setEdges(layoutedEdges)\n  }, [nodes, edges, setNodes, setEdges])\n\n  // Close properties panel\n  const handleClosePropertiesPanel = useCallback(() => {\n    setSelectedNode(null)\n    setPropertiesPanelOpen(false)\n  }, [])\n\n  // Handle keyboard shortcuts\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (!readOnly && event.key === 'Delete' && (selectedNode || selectedEdge)) {\n        event.preventDefault()\n        onDeleteSelected()\n      }\n    }\n\n    window.addEventListener('keydown', handleKeyDown)\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown)\n    }\n  }, [selectedNode, selectedEdge, onDeleteSelected, readOnly])\n\n  // Auto-save on changes\n  React.useEffect(() => {\n    if (onFlowChange) {\n      const currentFlow: FlowData = {\n        id: flowData?.id || `flow-${Date.now()}`,\n        name: flowData?.name || 'Untitled Flow',\n        description: flowData?.description || '',\n        nodes,\n        edges,\n        active: flowData?.active || true,\n      }\n      \n      onFlowChange(currentFlow)\n    }\n  }, [nodes, edges, flowData, onFlowChange])\n\n  return (\n    <div className={`flex h-full ${className}`}>\n      {/* Node Sidebar */}\n      {!readOnly && sidebarOpen && (\n        <NodeSidebar\n          onNodeAdd={handleNodeAdd}\n        />\n      )}\n\n      {/* Node Properties Panel */}\n      {!readOnly && propertiesPanelOpen && (\n        <NodePropertiesPanel\n          selectedNode={selectedNode}\n          onNodeUpdate={handleNodeUpdate}\n          onClose={handleClosePropertiesPanel}\n        />\n      )}\n\n      {/* Flow Canvas */}\n      <div className=\"flex-1 relative\" ref={reactFlowWrapper}>\n        <ReactFlow\n          nodes={nodes.map(node => ({\n            ...node,\n            data: {\n              ...node.data,\n              showDeleteButton: nodeWithDeleteButton === node.id\n            }\n          }))}\n          edges={edges.map(edge => ({\n            ...edge,\n            style: {\n              ...edge.style,\n              stroke: selectedEdge?.id === edge.id ? EDGE_COLOR_SELECTED : edge.style?.stroke || EDGE_COLOR,\n              strokeWidth: selectedEdge?.id === edge.id ? 3 : edge.style?.strokeWidth || 2,\n            }\n          }))}\n          onNodesChange={onNodesChange}\n          onEdgesChange={onEdgesChange}\n          onConnect={onConnect}\n          onReconnect={onReconnect}\n          isValidConnection={isValidConnection}\n          onNodeClick={onNodeClick}\n          onEdgeClick={onEdgeClick}\n          onPaneClick={onPaneClick}\n          onDrop={onDrop}\n          onDragOver={onDragOver}\n          onInit={setReactFlowInstance}\n          nodeTypes={nodeTypes}\n          edgeTypes={edgeTypes}\n          connectionMode={ConnectionMode.Strict}\n          fitView\n          fitViewOptions={{ padding: 0.4, includeHiddenNodes: false, minZoom: 0.8, maxZoom: 1.5 }}\n          defaultViewport={{ x: 0, y: 0, zoom: 1 }}\n          className=\"bg-slate-900\"\n          snapToGrid\n          snapGrid={[20, 20]}\n          deleteKeyCode=\"Delete\"\n          multiSelectionKeyCode=\"Control\"\n          defaultEdgeOptions={{\n            type: 'flow',\n            markerEnd: { type: 'arrowclosed', color: EDGE_COLOR },\n            style: { stroke: EDGE_COLOR, strokeWidth: 1.5, strokeDasharray: 'none' },\n          }}\n        >\n          <Background color=\"#334155\" gap={20} size={1} />\n          <Controls className=\"bg-slate-800 border border-slate-700 rounded shadow-lg [&>button]:bg-slate-800 [&>button]:border-slate-700 [&>button]:text-slate-300 [&>button:hover]:bg-slate-700\" />\n          <MiniMap \n            className=\"bg-slate-800 border border-slate-700 rounded shadow-lg\"\n            nodeColor={(node: Node) => {\n              switch (node.type) {\n                case 'start': return '#1e293b'\n                case 'end': return '#1e293b'\n                case 'messageEnd': return '#1e293b'\n                case 'adapter': return '#1e293b'\n                case 'utility': return '#1e293b'\n                case 'decision': return '#1e293b'\n                case 'parallelSplit': return '#1e293b'\n                default: return '#1e293b'\n              }\n            }}\n          />\n\n          {/* Flow Toolbar */}\n          {!readOnly && (\n            <Panel position=\"top-left\">\n              <FlowToolbar\n                onSave={handleSave}\n                onExecute={handleExecute}\n                onClear={onClear}\n                onDelete={onDeleteSelected}\n                onAutoLayout={handleAutoLayout}\n                onToggleNodeSidebar={() => {\n                  setSidebarOpen(!sidebarOpen)\n                  if (!sidebarOpen) {\n                    setPropertiesPanelOpen(false)\n                    setSelectedNode(null)\n                  }\n                }}\n                isNodeSidebarVisible={sidebarOpen}\n                canSave={true}\n                canExecute={nodes.length > 0}\n                canDelete={!!selectedNode || !!selectedEdge}\n                isSaving={isSaving}\n              />\n            </Panel>\n          )}\n\n          {/* Flow Info */}\n          <Panel position=\"top-right\" className=\"bg-card border border-border rounded-md p-2\">\n            <div className=\"text-sm space-y-1\">\n              <div className=\"font-medium text-foreground\">\n                {flowData?.name || 'Untitled Flow'}\n              </div>\n              {flowData?.description && (\n                <div className=\"text-muted-foreground text-xs\">\n                  {flowData.description}\n                </div>\n              )}\n              <div className=\"text-xs text-muted-foreground\">\n                {nodes.length} nodes, {edges.length} connections\n              </div>\n            </div>\n          </Panel>\n        </ReactFlow>\n      </div>\n    </div>\n  )\n}\n\nexport default FlowCanvas","import React, { useState } from 'react';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport { ArrowLeft, X } from 'lucide-react';\nimport { api } from '@/lib/api';\nimport { Button } from '@/components/ui/button';\nimport FlowCanvas, { FlowData } from '@/components/flow/FlowCanvas';\nimport toast from 'react-hot-toast';\n\ninterface CreateFlowProps {\n  packageId: string;\n  onSuccess: () => void;\n  onCancel: () => void;\n}\n\nconst CreateFlow: React.FC<CreateFlowProps> = ({ packageId, onSuccess, onCancel }) => {\n  const queryClient = useQueryClient();\n  const [flowName, setFlowName] = useState('');\n  const [flowDescription, setFlowDescription] = useState('');\n  const [isSaving, setIsSaving] = useState(false);\n\n  // Initialize empty flow data\n  const [flowData, setFlowData] = useState<FlowData>({\n    id: `flow-${Date.now()}`,\n    name: '',\n    description: '',\n    nodes: [],\n    edges: [],\n    active: true\n  });\n\n  const createMutation = useMutation({\n    mutationFn: async (payload: any) => {\n      return api.post('/api/flows', payload);\n    },\n    onSuccess: () => {\n      toast.success('Flow created successfully');\n      queryClient.invalidateQueries({ queryKey: ['package-flows', packageId] });\n      onSuccess();\n    },\n    onError: (err: any) => {\n      const errorMessage = err.response?.data?.message || err.message || 'Failed to create flow';\n      toast.error(errorMessage);\n    },\n  });\n\n  const handleFlowChange = (updatedFlow: FlowData) => {\n    setFlowData(updatedFlow);\n  };\n\n  const handleSave = async (flow: FlowData) => {\n    // Validate required fields\n    if (!flowName.trim()) {\n      toast.error('Flow Name is required');\n      return;\n    }\n\n    setIsSaving(true);\n    try {\n      const flowPayload = {\n        flow: {\n          name: flowName.trim(),\n          description: flowDescription.trim(),\n          flowDefinition: {\n            nodes: flow.nodes,\n            edges: flow.edges\n          },\n          active: flow.active\n        },\n        packageId\n      };\n\n      await createMutation.mutateAsync(flowPayload);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleExecute = async (_flow: FlowData) => {\n    toast.error('Please save the flow before executing');\n  };\n\n  return (\n    <div className=\"flex flex-col h-full overflow-hidden\">\n      {/* Header */}\n      <div className=\"border-b bg-background relative z-10 shrink-0\">\n        {/* Top Row - Navigation */}\n        <div className=\"flex items-center justify-between p-4\">\n          <div className=\"flex items-center space-x-4\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={onCancel}\n              className=\"space-x-2\"\n            >\n              <ArrowLeft className=\"h-4 w-4\" />\n              <span>Back to Flows</span>\n            </Button>\n            <h1 className=\"text-xl font-semibold text-foreground\">\n              Create Visual Flow\n            </h1>\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={onCancel}\n              className=\"space-x-2\"\n            >\n              <X className=\"h-4 w-4\" />\n              <span>Cancel</span>\n            </Button>\n          </div>\n        </div>\n\n        {/* Flow Configuration Inputs */}\n        <div className=\"px-4 py-4 bg-muted/50 border-t border-border\">\n          <div className=\"grid grid-cols-2 gap-4 max-w-2xl\">\n            <div>\n              <label className=\"text-sm font-medium text-foreground block mb-1\">\n                Flow Name <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                value={flowName}\n                onChange={(e) => setFlowName(e.target.value)}\n                placeholder=\"Enter flow name\"\n                required\n                className={`w-full px-3 py-2 border rounded-md text-foreground placeholder:text-muted-foreground ${\n                  !flowName.trim() ? 'border-red-500' : 'border-input'\n                } bg-background focus:outline-none focus:ring-2 focus:ring-ring`}\n              />\n            </div>\n            <div>\n              <label className=\"text-sm font-medium text-foreground block mb-1\">Description</label>\n              <input\n                type=\"text\"\n                value={flowDescription}\n                onChange={(e) => setFlowDescription(e.target.value)}\n                placeholder=\"Enter description\"\n                className=\"w-full px-3 py-2 border border-input rounded-md text-foreground placeholder:text-muted-foreground bg-background focus:outline-none focus:ring-2 focus:ring-ring\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Flow Canvas */}\n      <div className=\"flex-1 min-h-0 relative\">\n        <FlowCanvas\n          flowData={flowData}\n          onFlowChange={handleFlowChange}\n          onSave={handleSave}\n          onExecute={handleExecute}\n          readOnly={false}\n          className=\"h-full\"\n        />\n      </div>\n\n      {/* Loading State */}\n      {isSaving && (\n        <div className=\"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"></div>\n            <p className=\"mt-2 text-muted-foreground\">Saving flow...</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CreateFlow;\n","import React, { useState, useEffect } from 'react';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { ArrowLeft, X } from 'lucide-react';\nimport { api } from '@/lib/api';\nimport { Button } from '@/components/ui/button';\nimport FlowCanvas, { FlowData } from '@/components/flow/FlowCanvas';\nimport toast from 'react-hot-toast';\n\ninterface EditFlowProps {\n  packageId: string;\n  flowId: string;\n  onSuccess: () => void;\n  onCancel: () => void;\n}\n\nconst EditFlow: React.FC<EditFlowProps> = ({ packageId, flowId, onSuccess, onCancel }) => {\n  const queryClient = useQueryClient();\n  const [flowName, setFlowName] = useState('');\n  const [flowDescription, setFlowDescription] = useState('');\n  const [isSaving, setIsSaving] = useState(false);\n  const [isExecuting, setIsExecuting] = useState(false);\n  const [flowData, setFlowData] = useState<FlowData | null>(null);\n\n  // Fetch existing flow\n  const { data: existingFlow, isLoading } = useQuery({\n    queryKey: ['flow', flowId],\n    queryFn: async () => {\n      const response = await api.get(`/api/flows/${flowId}`);\n      return response.data?.data || response.data;\n    },\n    enabled: !!flowId,\n  });\n\n  // Populate form when flow data loads\n  useEffect(() => {\n    if (existingFlow) {\n      setFlowData({\n        id: existingFlow.id,\n        name: existingFlow.name,\n        description: existingFlow.description || '',\n        nodes: existingFlow.flowDefinition?.nodes || [],\n        edges: existingFlow.flowDefinition?.edges || [],\n        active: existingFlow.active\n      });\n      setFlowName(existingFlow.name || '');\n      setFlowDescription(existingFlow.description || '');\n    }\n  }, [existingFlow]);\n\n  const updateMutation = useMutation({\n    mutationFn: async (payload: any) => {\n      return api.put(`/api/flows/${flowId}`, payload);\n    },\n    onSuccess: () => {\n      toast.success('Flow updated successfully');\n      queryClient.invalidateQueries({ queryKey: ['package-flows', packageId] });\n      queryClient.invalidateQueries({ queryKey: ['flow', flowId] });\n      onSuccess();\n    },\n    onError: (err: any) => {\n      const errorMessage = err.response?.data?.message || err.message || 'Failed to update flow';\n      toast.error(errorMessage);\n    },\n  });\n\n  const handleFlowChange = (updatedFlow: FlowData) => {\n    setFlowData(updatedFlow);\n  };\n\n  const handleSave = async (flow: FlowData) => {\n    // Validate required fields\n    if (!flowName.trim()) {\n      toast.error('Flow Name is required');\n      return;\n    }\n\n    setIsSaving(true);\n    try {\n      const flowPayload = {\n        flow: {\n          name: flowName.trim(),\n          description: flowDescription.trim(),\n          flowDefinition: {\n            nodes: flow.nodes,\n            edges: flow.edges\n          },\n          active: flow.active\n        },\n        packageId\n      };\n\n      await updateMutation.mutateAsync(flowPayload);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleExecute = async (_flow: FlowData) => {\n    setIsExecuting(true);\n    try {\n      await api.post(`/api/flows/${flowId}/execute`);\n      toast.success('Flow execution started');\n    } catch (error: any) {\n      const errorMessage = error.response?.data?.message || 'Failed to execute flow';\n      toast.error(errorMessage);\n    } finally {\n      setIsExecuting(false);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"></div>\n          <p className=\"mt-2 text-muted-foreground\">Loading flow...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col h-full overflow-hidden\">\n      {/* Header */}\n      <div className=\"border-b bg-background relative z-10 shrink-0\">\n        {/* Top Row - Navigation */}\n        <div className=\"flex items-center justify-between p-4\">\n          <div className=\"flex items-center space-x-4\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={onCancel}\n              className=\"space-x-2\"\n            >\n              <ArrowLeft className=\"h-4 w-4\" />\n              <span>Back to Flows</span>\n            </Button>\n            <h1 className=\"text-xl font-semibold text-foreground\">\n              Edit Visual Flow\n            </h1>\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={onCancel}\n              className=\"space-x-2\"\n            >\n              <X className=\"h-4 w-4\" />\n              <span>Cancel</span>\n            </Button>\n          </div>\n        </div>\n\n        {/* Flow Configuration Inputs */}\n        <div className=\"px-4 py-4 bg-muted/50 border-t border-border\">\n          <div className=\"grid grid-cols-2 gap-4 max-w-2xl\">\n            <div>\n              <label className=\"text-sm font-medium text-foreground block mb-1\">\n                Flow Name <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                value={flowName}\n                onChange={(e) => setFlowName(e.target.value)}\n                placeholder=\"Enter flow name\"\n                required\n                className={`w-full px-3 py-2 border rounded-md text-foreground placeholder:text-muted-foreground ${\n                  !flowName.trim() ? 'border-red-500' : 'border-input'\n                } bg-background focus:outline-none focus:ring-2 focus:ring-ring`}\n              />\n            </div>\n            <div>\n              <label className=\"text-sm font-medium text-foreground block mb-1\">Description</label>\n              <input\n                type=\"text\"\n                value={flowDescription}\n                onChange={(e) => setFlowDescription(e.target.value)}\n                placeholder=\"Enter description\"\n                className=\"w-full px-3 py-2 border border-input rounded-md text-foreground placeholder:text-muted-foreground bg-background focus:outline-none focus:ring-2 focus:ring-ring\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Flow Canvas */}\n      <div className=\"flex-1 min-h-0 relative\">\n        {flowData && (\n          <FlowCanvas\n            flowData={flowData}\n            onFlowChange={handleFlowChange}\n            onSave={handleSave}\n            onExecute={handleExecute}\n            readOnly={false}\n            className=\"h-full\"\n          />\n        )}\n      </div>\n\n      {/* Loading States */}\n      {(isSaving || isExecuting) && (\n        <div className=\"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"></div>\n            <p className=\"mt-2 text-muted-foreground\">\n              {isSaving ? 'Saving flow...' : 'Executing flow...'}\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default EditFlow;\n","import React, { useState, useEffect } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { ArrowLeft, Edit, X } from 'lucide-react';\nimport { api } from '@/lib/api';\nimport { Button } from '@/components/ui/button';\nimport FlowCanvas, { FlowData } from '@/components/flow/FlowCanvas';\n\ninterface ViewFlowProps {\n  packageId: string;\n  flowId: string;\n  onEdit: () => void;\n  onDelete: () => void;\n  onBack: () => void;\n  onOpenDesigner: () => void;\n}\n\nconst ViewFlow: React.FC<ViewFlowProps> = ({ packageId, flowId, onEdit, onBack }) => {\n  const [flowName, setFlowName] = useState('');\n  const [flowDescription, setFlowDescription] = useState('');\n  const [flowData, setFlowData] = useState<FlowData | null>(null);\n\n  // Fetch flow details\n  const { data: flow, isLoading } = useQuery({\n    queryKey: ['flow', flowId],\n    queryFn: async () => {\n      const response = await api.get(`/api/flows/${flowId}`);\n      return response.data?.data || response.data;\n    },\n    enabled: !!flowId,\n  });\n\n  // Populate data when flow loads\n  useEffect(() => {\n    if (flow) {\n      setFlowData({\n        id: flow.id,\n        name: flow.name,\n        description: flow.description || '',\n        nodes: flow.flowDefinition?.nodes || [],\n        edges: flow.flowDefinition?.edges || [],\n        active: flow.active\n      });\n      setFlowName(flow.name || '');\n      setFlowDescription(flow.description || '');\n    }\n  }, [flow]);\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"></div>\n          <p className=\"mt-2 text-muted-foreground\">Loading flow...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!flow) {\n    return (\n      <div className=\"text-center py-12\">\n        <p className=\"text-muted-foreground\">Flow not found</p>\n        <Button variant=\"outline\" onClick={onBack} className=\"mt-4\">\n          Go Back\n        </Button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col h-full overflow-hidden\">\n      {/* Header */}\n      <div className=\"border-b bg-background relative z-10 shrink-0\">\n        {/* Top Row - Navigation */}\n        <div className=\"flex items-center justify-between p-4\">\n          <div className=\"flex items-center space-x-4\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={onBack}\n              className=\"space-x-2\"\n            >\n              <ArrowLeft className=\"h-4 w-4\" />\n              <span>Back to Flows</span>\n            </Button>\n            <h1 className=\"text-xl font-semibold text-foreground\">\n              View Visual Flow\n            </h1>\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            {!flow.deployed && (\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={onEdit}\n                className=\"space-x-2\"\n              >\n                <Edit className=\"h-4 w-4\" />\n                <span>Edit Flow</span>\n              </Button>\n            )}\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={onBack}\n              className=\"space-x-2\"\n            >\n              <X className=\"h-4 w-4\" />\n              <span>Close</span>\n            </Button>\n          </div>\n        </div>\n\n        {/* Flow Configuration Inputs (Read-Only) */}\n        <div className=\"px-4 py-4 bg-muted/50 border-t border-border\">\n          <div className=\"grid grid-cols-2 gap-4 max-w-2xl\">\n            <div>\n              <label className=\"text-sm font-medium text-foreground block mb-1\">\n                Flow Name\n              </label>\n              <input\n                type=\"text\"\n                value={flowName}\n                readOnly\n                className=\"w-full px-3 py-2 border border-input rounded-md text-foreground bg-muted/50 cursor-default\"\n              />\n            </div>\n            <div>\n              <label className=\"text-sm font-medium text-foreground block mb-1\">Description</label>\n              <input\n                type=\"text\"\n                value={flowDescription}\n                readOnly\n                className=\"w-full px-3 py-2 border border-input rounded-md text-foreground bg-muted/50 cursor-default\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Flow Canvas (Read-Only) */}\n      <div className=\"flex-1 min-h-0 relative\">\n        {flowData && (\n          <FlowCanvas\n            flowData={flowData}\n            onFlowChange={() => {}}\n            onSave={() => {}}\n            onExecute={() => {}}\n            readOnly={true}\n            className=\"h-full\"\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ViewFlow;\n","import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useQuery, useQueryClient } from '@tanstack/react-query';\nimport { useSidebar } from '@/contexts/SidebarContext';\nimport {\n  Package,\n  ArrowLeft,\n  Settings,\n  RefreshCw\n} from 'lucide-react';\n\nimport { api } from '@/lib/api';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { AdapterTestResultModal } from '@/components/ui/AdapterTestResultModal';\nimport { NotificationModal, NotificationType } from '@/components/ui/NotificationModal';\nimport { ConfirmationModal } from '@/components/ui/ConfirmationModal';\n\n// Components\nimport WorkspaceSidebar from './components/WorkspaceSidebar';\nimport PackageOverview from './components/PackageOverview';\nimport PackageAdaptersTab from './components/PackageAdaptersTab';\nimport PackageFlowsTab from './components/PackageFlowsTab';\n\n// Adapter Forms\nimport { CreateAdapter, EditAdapter, ViewAdapter } from './components/adapters';\n// Flow Forms\nimport { CreateFlow, EditFlow, ViewFlow } from './components/flows';\n\ntype WorkspaceAction = 'list' | 'create' | 'edit' | 'view';\n\ninterface PackageDetails {\n  id: string;\n  name: string;\n  description: string;\n  version: string;\n  configuration: Record<string, unknown>;\n  createdAt: string;\n  updatedAt: string | null;\n}\n\nconst PackageWorkspace: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const queryClient = useQueryClient();\n  const [activeSection, setActiveSection] = useState('overview');\n  const [currentAction, setCurrentAction] = useState<WorkspaceAction>('list');\n  const [selectedItemId, setSelectedItemId] = useState<string | null>(null);\n  const [testResultModalOpen, setTestResultModalOpen] = useState(false);\n  const [testResult, setTestResult] = useState<any>(null);\n  const [notificationModal, setNotificationModal] = useState<{\n    open: boolean;\n    type: NotificationType;\n    title?: string;\n    message: string;\n  }>({ open: false, type: 'info', message: '' });\n  const [confirmationModal, setConfirmationModal] = useState<{\n    open: boolean;\n    title: string;\n    message: string;\n    confirmLabel?: string;\n    onConfirm: () => void;\n  }>({ open: false, title: '', message: '', onConfirm: () => {} });\n  const { setCollapsed } = useSidebar();\n\n  const showNotification = (type: NotificationType, message: string, title?: string) => {\n    setNotificationModal({ open: true, type, title, message });\n  };\n\n  // Collapse main sidebar when workspace opens, restore when leaving\n  useEffect(() => {\n    setCollapsed(true);\n    return () => setCollapsed(false);\n  }, [setCollapsed]);\n\n  // Fetch package details\n  const { data: packageData, isLoading, error } = useQuery({\n    queryKey: ['package', id],\n    queryFn: async () => {\n      const response = await api.get(`/api/packages/${id}`);\n      return response.data?.data || response.data;\n    },\n    enabled: !!id\n  });\n\n  // Fetch adapters for this package\n  const { data: adaptersData } = useQuery({\n    queryKey: ['package-adapters', id],\n    queryFn: async () => {\n      const response = await api.get(`/api/adapters/package/${id}`);\n      return response.data?.data || response.data || [];\n    },\n    enabled: !!id\n  });\n\n  // Fetch flows for this package\n  const { data: flowsData } = useQuery({\n    queryKey: ['package-flows', id],\n    queryFn: async () => {\n      const response = await api.get(`/api/flows/package/${id}`);\n      return response.data?.data || response.data || [];\n    },\n    enabled: !!id\n  });\n\n  const pkg: PackageDetails | null = packageData;\n  const adapters = Array.isArray(adaptersData) ? adaptersData : [];\n  const flows = Array.isArray(flowsData) ? flowsData : [];\n\n  // Handle sidebar navigation\n  const handleSidebarNavigate = (section: string) => {\n    setActiveSection(section);\n    setCurrentAction('list');\n    setSelectedItemId(null);\n  };\n\n\n  // Loading state\n  if (isLoading) {\n    return (\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center gap-4\">\n          <Button variant=\"ghost\" size=\"sm\" onClick={() => navigate('/packages')}>\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Back to Packages\n          </Button>\n        </div>\n        <Card className=\"animate-pulse\">\n          <CardContent className=\"pt-6\">\n            <div className=\"space-y-4\">\n              <div className=\"h-8 bg-gray-200 rounded w-1/3\"></div>\n              <div className=\"h-4 bg-gray-200 rounded w-2/3\"></div>\n              <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  // Error state\n  if (error || !pkg) {\n    return (\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center gap-4\">\n          <Button variant=\"ghost\" size=\"sm\" onClick={() => navigate('/packages')}>\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Back to Packages\n          </Button>\n        </div>\n        <Card className=\"border-red-200 bg-red-50\">\n          <CardContent className=\"pt-6\">\n            <div className=\"text-center py-8\">\n              <Package className=\"h-12 w-12 text-red-400 mx-auto mb-4\" />\n              <div className=\"text-lg font-medium text-red-600 mb-2\">Package not found</div>\n              <div className=\"text-muted-foreground mb-4\">\n                The package you're looking for doesn't exist or has been deleted.\n              </div>\n              <Button onClick={() => navigate('/packages')}>\n                Return to Package Library\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  // Refresh all data\n  const handleRefresh = async () => {\n    await queryClient.invalidateQueries({ queryKey: ['package', id] });\n    await queryClient.invalidateQueries({ queryKey: ['package-adapters', id] });\n    await queryClient.invalidateQueries({ queryKey: ['package-flows', id] });\n  };\n\n  // Event handlers for adapters\n  const handleAddAdapter = () => {\n    setActiveSection('adapters');\n    setCurrentAction('create');\n    setSelectedItemId(null);\n  };\n\n  const handleViewAdapter = (adapter: any) => {\n    setActiveSection('adapters');\n    setCurrentAction('view');\n    setSelectedItemId(adapter.id);\n  };\n\n  const handleEditAdapter = (adapter: any) => {\n    setActiveSection('adapters');\n    setCurrentAction('edit');\n    setSelectedItemId(adapter.id);\n  };\n\n  const handleDeleteAdapter = async (adapter: any) => {\n    setConfirmationModal({\n      open: true,\n      title: 'Delete Adapter',\n      message: `Are you sure you want to delete the adapter \"${adapter.name}\"? This action cannot be undone and will permanently remove the adapter configuration.`,\n      confirmLabel: 'Delete Adapter',\n      onConfirm: async () => {\n        try {\n          await api.delete(`/api/adapters/${adapter.id}`);\n          await handleRefresh();\n          setCurrentAction('list');\n          setSelectedItemId(null);\n          showNotification('success', `Adapter \"${adapter.name}\" deleted successfully`);\n        } catch (error) {\n          console.error('Error deleting adapter:', error);\n          showNotification('error', 'Failed to delete adapter');\n        }\n      }\n    });\n  };\n\n  const handleStartAdapter = async (adapter: any) => {\n    try {\n      await api.post(`/api/adapters/${adapter.id}/start`);\n      await handleRefresh();\n    } catch (error) {\n      console.error('Error starting adapter:', error);\n    }\n  };\n\n  const handleStopAdapter = async (adapter: any) => {\n    try {\n      await api.post(`/api/adapters/${adapter.id}/stop`);\n      await handleRefresh();\n    } catch (error) {\n      console.error('Error stopping adapter:', error);\n    }\n  };\n\n  const handleTestAdapter = async (adapter: any) => {\n    try {\n      const result = await api.post(`/api/adapters/${adapter.id}/test`);\n      setTestResult(result);\n      setTestResultModalOpen(true);\n    } catch (error: any) {\n      setTestResult({\n        data: {\n          success: false,\n          error: error.response?.data?.message || error.message || 'Unknown error'\n        }\n      });\n      setTestResultModalOpen(true);\n    }\n  };\n\n  const handleAdapterFormSuccess = () => {\n    handleRefresh();\n    setCurrentAction('list');\n    setSelectedItemId(null);\n  };\n\n  const handleAdapterFormCancel = () => {\n    setCurrentAction('list');\n    setSelectedItemId(null);\n  };\n\n  // Event handlers for flows\n  const handleAddFlow = () => {\n    setActiveSection('flows');\n    setCurrentAction('create');\n    setSelectedItemId(null);\n  };\n\n  const handleViewFlow = (flow: any) => {\n    setActiveSection('flows');\n    setCurrentAction('view');\n    setSelectedItemId(flow.id);\n  };\n\n  const handleEditFlow = (flow: any) => {\n    setActiveSection('flows');\n    setCurrentAction('edit');\n    setSelectedItemId(flow.id);\n  };\n\n  const handleDeleteFlow = async (flow: any) => {\n    setConfirmationModal({\n      open: true,\n      title: 'Delete Flow',\n      message: `Are you sure you want to delete the flow \"${flow.name}\"? This action cannot be undone and will permanently remove the flow configuration.`,\n      confirmLabel: 'Delete Flow',\n      onConfirm: async () => {\n        try {\n          await api.delete(`/api/flows/${flow.id}`);\n          await handleRefresh();\n          setCurrentAction('list');\n          setSelectedItemId(null);\n          showNotification('success', `Flow \"${flow.name}\" deleted successfully`);\n        } catch (error: any) {\n          console.error('Error deleting flow:', error);\n          const errorMessage = error.response?.data?.message || error.response?.data?.error || error.message || 'Failed to delete flow';\n          showNotification('error', errorMessage);\n        }\n      }\n    });\n  };\n\n  const handleActivateFlow = async (flow: any) => {\n    try {\n      await api.put(`/api/flows/${flow.id}/active?active=true`);\n      await handleRefresh();\n      showNotification('success', `Flow \"${flow.name}\" has been activated successfully`);\n    } catch (error: any) {\n      console.error('Error activating flow:', error);\n      const errorMessage = error.response?.data?.message || error.response?.data?.error || error.message || 'Failed to activate flow';\n      showNotification('error', errorMessage);\n    }\n  };\n\n  const handleDeployFlow = async (flow: any) => {\n    try {\n      const response = await api.post(`/api/flows/${flow.id}/deploy`);\n      const result = response.data?.data || response.data;\n\n      if (result?.status === 'SUCCESS') {\n        await handleRefresh();\n        showNotification('success', `Flow \"${flow.name}\" has been deployed successfully.`);\n      } else {\n        // Deployment failed - show detailed error message\n        let errorMsg = result?.message || 'Unknown error';\n\n        // Append validation errors if present\n        if (result?.validationErrors && Array.isArray(result.validationErrors) && result.validationErrors.length > 0) {\n          errorMsg += ':\\n ' + result.validationErrors.join('\\n ');\n        } else if (result?.errors && Array.isArray(result.errors) && result.errors.length > 0) {\n          errorMsg += ':\\n ' + result.errors.join('\\n ');\n        }\n\n        showNotification('error', errorMsg, 'Failed to Deploy Flow');\n      }\n    } catch (error: any) {\n      console.error('Error deploying flow:', error);\n      showNotification('error', error.response?.data?.message || error.message || 'Unknown error', 'Failed to Deploy Flow');\n    }\n  };\n\n  const handleUndeployFlow = async (flow: any) => {\n    try {\n      const response = await api.post(`/api/flows/${flow.id}/undeploy`);\n      const result = response.data?.data || response.data;\n\n      if (result?.status === 'SUCCESS') {\n        await handleRefresh();\n        showNotification('success', `Flow \"${flow.name}\" has been undeployed.`);\n      } else {\n        const errorMsg = result?.message || 'Unknown error';\n        showNotification('error', errorMsg, 'Failed to Undeploy Flow');\n      }\n    } catch (error: any) {\n      console.error('Error undeploying flow:', error);\n      showNotification('error', error.response?.data?.message || error.message || 'Unknown error', 'Failed to Undeploy Flow');\n    }\n  };\n\n  const handleOpenFlowDesigner = (flowId: string) => {\n    navigate(`/flows/${flowId}/designer`);\n  };\n\n  const handleDuplicateFlow = async (flow: any) => {\n    try {\n      await api.post(`/api/flows/${flow.id}/duplicate`);\n      await handleRefresh();\n    } catch (error) {\n      console.error('Error duplicating flow:', error);\n    }\n  };\n\n  const handleExportFlow = async (flow: any) => {\n    try {\n      const response = await api.get(`/api/flows/${flow.id}/export`);\n      const dataStr = JSON.stringify(response.data, null, 2);\n      const dataBlob = new Blob([dataStr], { type: 'application/json' });\n      const url = URL.createObjectURL(dataBlob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `${flow.name || 'flow'}_export.json`;\n      link.click();\n      URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error('Error exporting flow:', error);\n      showNotification('error', 'Failed to export flow. Please try again.');\n    }\n  };\n\n  const handleImportFlow = async (file: File) => {\n    try {\n      const fileContent = await file.text();\n      const flowData = JSON.parse(fileContent);\n\n      // Add packageId to the imported flow\n      flowData.packageId = id;\n\n      await api.post('/api/flows/import', flowData);\n      await handleRefresh();\n      showNotification('success', 'Flow has been imported successfully.');\n    } catch (error: any) {\n      console.error('Error importing flow:', error);\n      showNotification('error', error.response?.data?.message || error.message || 'Unknown error', 'Failed to Import Flow');\n    }\n  };\n\n  const handleFlowFormSuccess = () => {\n    handleRefresh();\n    setCurrentAction('list');\n    setSelectedItemId(null);\n  };\n\n  const handleFlowFormCancel = () => {\n    setCurrentAction('list');\n    setSelectedItemId(null);\n  };\n\n  // Render the main content based on active section and action\n  const renderContent = () => {\n    // Handle adapter section\n    if (activeSection === 'adapters') {\n      switch (currentAction) {\n        case 'create':\n          return (\n            <CreateAdapter\n              packageId={id!}\n              onSuccess={handleAdapterFormSuccess}\n              onCancel={handleAdapterFormCancel}\n            />\n          );\n        case 'edit':\n          if (!selectedItemId) return null;\n          return (\n            <EditAdapter\n              packageId={id!}\n              adapterId={selectedItemId}\n              onSuccess={handleAdapterFormSuccess}\n              onCancel={handleAdapterFormCancel}\n            />\n          );\n        case 'view':\n          if (!selectedItemId) return null;\n          return (\n            <ViewAdapter\n              packageId={id!}\n              adapterId={selectedItemId}\n              onEdit={() => handleEditAdapter({ id: selectedItemId })}\n              onDelete={() => {\n                const adapter = adapters.find((a: any) => a.id === selectedItemId);\n                if (adapter) handleDeleteAdapter(adapter);\n              }}\n              onBack={handleAdapterFormCancel}\n            />\n          );\n        default:\n          return (\n            <PackageAdaptersTab\n              packageId={id!}\n              adapters={adapters}\n              onAddAdapter={handleAddAdapter}\n              onViewAdapter={handleViewAdapter}\n              onEditAdapter={handleEditAdapter}\n              onDeleteAdapter={handleDeleteAdapter}\n              onTestAdapter={handleTestAdapter}\n            />\n          );\n      }\n    }\n\n    // Handle flows section\n    if (activeSection === 'flows') {\n      switch (currentAction) {\n        case 'create':\n          return (\n            <CreateFlow\n              packageId={id!}\n              onSuccess={handleFlowFormSuccess}\n              onCancel={handleFlowFormCancel}\n            />\n          );\n        case 'edit':\n          if (!selectedItemId) return null;\n          return (\n            <EditFlow\n              packageId={id!}\n              flowId={selectedItemId}\n              onSuccess={handleFlowFormSuccess}\n              onCancel={handleFlowFormCancel}\n            />\n          );\n        case 'view':\n          if (!selectedItemId) return null;\n          return (\n            <ViewFlow\n              packageId={id!}\n              flowId={selectedItemId}\n              onEdit={() => handleEditFlow({ id: selectedItemId })}\n              onDelete={() => {\n                const flow = flows.find((f: any) => f.id === selectedItemId);\n                if (flow) handleDeleteFlow(flow);\n              }}\n              onBack={handleFlowFormCancel}\n              onOpenDesigner={() => handleOpenFlowDesigner(selectedItemId)}\n            />\n          );\n        default:\n          return (\n            <PackageFlowsTab\n              packageId={id!}\n              flows={flows}\n              onAddFlow={handleAddFlow}\n              onViewFlow={handleViewFlow}\n              onEditFlow={handleEditFlow}\n              onDeleteFlow={handleDeleteFlow}\n              onActivateFlow={handleActivateFlow}\n              onDeployFlow={handleDeployFlow}\n              onUndeployFlow={handleUndeployFlow}\n              onExportFlow={handleExportFlow}\n              onImportFlow={handleImportFlow}\n            />\n          );\n      }\n    }\n\n    // Default: Overview\n    return (\n      <PackageOverview\n        pkg={pkg}\n        adapters={adapters}\n        flows={flows}\n      />\n    );\n  };\n\n  return (\n    <div className=\"flex h-full -m-6\">\n      {/* Sidebar */}\n      <WorkspaceSidebar\n        packageId={id!}\n        onNavigate={handleSidebarNavigate}\n        activeSection={activeSection}\n      />\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex flex-col min-h-0\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between px-6 py-4 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 flex-shrink-0\">\n          <div className=\"flex items-center gap-4\">\n            <Button variant=\"ghost\" size=\"sm\" onClick={() => navigate('/packages')}>\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\n              Back\n            </Button>\n            <div>\n              <div className=\"flex items-center gap-3\">\n                <Package className=\"h-6 w-6 text-primary\" />\n                <h1 className=\"text-xl font-bold\">{pkg.name}</h1>\n              </div>\n              {pkg.description && (\n                <p className=\"text-sm text-muted-foreground mt-0.5\">{pkg.description}</p>\n              )}\n            </div>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Button variant=\"outline\" size=\"sm\" onClick={handleRefresh}>\n              <RefreshCw className=\"h-4 w-4 mr-2\" />\n              Refresh\n            </Button>\n            <Button variant=\"outline\" size=\"sm\">\n              <Settings className=\"h-4 w-4 mr-2\" />\n              Settings\n            </Button>\n          </div>\n        </div>\n\n        {/* Content Area */}\n        <div className=\"p-6 flex-1 overflow-y-auto\">\n          {renderContent()}\n        </div>\n      </div>\n\n      {/* Adapter Test Result Modal */}\n      <AdapterTestResultModal\n        open={testResultModalOpen}\n        onOpenChange={setTestResultModalOpen}\n        testResult={testResult}\n      />\n\n      {/* Notification Modal */}\n      <NotificationModal\n        open={notificationModal.open}\n        onOpenChange={(open) => setNotificationModal(prev => ({ ...prev, open }))}\n        type={notificationModal.type}\n        title={notificationModal.title}\n        message={notificationModal.message}\n      />\n\n      <ConfirmationModal\n        open={confirmationModal.open}\n        onOpenChange={(open) => setConfirmationModal(prev => ({ ...prev, open }))}\n        title={confirmationModal.title}\n        message={confirmationModal.message}\n        confirmLabel={confirmationModal.confirmLabel || \"Delete\"}\n        variant=\"destructive\"\n        onConfirm={confirmationModal.onConfirm}\n      />\n    </div>\n  );\n};\n\nexport default PackageWorkspace;\n","/**\n * Package Management Context Provider\n * \n * React context for package state management following context pattern.\n * Provides centralized state management for package operations with type safety.\n * \n * @author Claude Code\n * @since Package Management Frontend V1.0\n */\n\nimport React, { createContext, useContext, useReducer, useCallback, ReactNode } from 'react'\nimport {\n  IntegrationPackage,\n  PackageSummary,\n  PackageContainer,\n  PackageWorkspaceState,\n  PackageLibraryState,\n  PackageSearchCriteria,\n  PackageType,\n  PackageStatus,\n  AssetType,\n  PackageError\n} from '@/types/package'\n\n// State interface following state management pattern\ninterface PackageState {\n  // Current packages data\n  packages: PackageSummary[]\n  currentPackage: IntegrationPackage | null\n  currentPackageContainer: PackageContainer | null\n  \n  // UI state\n  workspaceState: PackageWorkspaceState\n  libraryState: PackageLibraryState\n  \n  // Loading and error states\n  isLoading: boolean\n  error: PackageError | null\n  \n  // Statistics and metadata\n  totalCount: number\n  hasNextPage: boolean\n  hasPreviousPage: boolean\n}\n\n// Action types following action pattern\ntype PackageAction =\n  | { type: 'SET_LOADING'; payload: boolean }\n  | { type: 'SET_ERROR'; payload: PackageError | null }\n  | { type: 'SET_PACKAGES'; payload: { packages: PackageSummary[]; totalCount: number; hasNextPage: boolean; hasPreviousPage: boolean } }\n  | { type: 'ADD_PACKAGE'; payload: PackageSummary }\n  | { type: 'UPDATE_PACKAGE'; payload: PackageSummary }\n  | { type: 'REMOVE_PACKAGE'; payload: string }\n  | { type: 'SET_CURRENT_PACKAGE'; payload: IntegrationPackage | null }\n  | { type: 'SET_CURRENT_PACKAGE_CONTAINER'; payload: PackageContainer | null }\n  | { type: 'UPDATE_WORKSPACE_STATE'; payload: Partial<PackageWorkspaceState> }\n  | { type: 'UPDATE_LIBRARY_STATE'; payload: Partial<PackageLibraryState> }\n  | { type: 'SELECT_ASSET'; payload: string }\n  | { type: 'DESELECT_ASSET'; payload: string }\n  | { type: 'CLEAR_SELECTED_ASSETS' }\n  | { type: 'SELECT_PACKAGE'; payload: string }\n  | { type: 'DESELECT_PACKAGE'; payload: string }\n  | { type: 'CLEAR_SELECTED_PACKAGES' }\n  | { type: 'UPDATE_SEARCH_CRITERIA'; payload: Partial<PackageSearchCriteria> }\n  | { type: 'SET_ACTIVE_TAB'; payload: 'overview' | 'adapters' | 'flows' | 'dependencies' }\n  | { type: 'SET_VIEW_MODE'; payload: 'grid' | 'list' }\n  | { type: 'SET_CREATE_MODAL'; payload: boolean }\n  | { type: 'RESET_STATE' }\n\n// Context interface following context pattern\ninterface PackageContextType {\n  state: PackageState\n  dispatch: React.Dispatch<PackageAction>\n  \n  // Computed properties following derived state pattern\n  selectedPackageCount: number\n  selectedAssetCount: number\n  hasSelectedPackages: boolean\n  hasSelectedAssets: boolean\n  isWorkspaceActive: boolean\n  currentPackageId: string | null\n  \n  // Action creators following action creator pattern\n  actions: {\n    setLoading: (loading: boolean) => void\n    setError: (error: PackageError | null) => void\n    setPackages: (packages: PackageSummary[], totalCount: number, hasNextPage: boolean, hasPreviousPage: boolean) => void\n    addPackage: (package_: PackageSummary) => void\n    updatePackage: (package_: PackageSummary) => void\n    removePackage: (packageId: string) => void\n    setCurrentPackage: (package_: IntegrationPackage | null) => void\n    setCurrentPackageContainer: (container: PackageContainer | null) => void\n    updateWorkspaceState: (updates: Partial<PackageWorkspaceState>) => void\n    updateLibraryState: (updates: Partial<PackageLibraryState>) => void\n    selectAsset: (assetId: string) => void\n    deselectAsset: (assetId: string) => void\n    clearSelectedAssets: () => void\n    selectPackage: (packageId: string) => void\n    deselectPackage: (packageId: string) => void\n    clearSelectedPackages: () => void\n    updateSearchCriteria: (criteria: Partial<PackageSearchCriteria>) => void\n    setActiveTab: (tab: 'overview' | 'adapters' | 'flows' | 'dependencies') => void\n    setViewMode: (mode: 'grid' | 'list') => void\n    setCreateModal: (show: boolean) => void\n    resetState: () => void\n  }\n}\n\n// Initial state following default state pattern\nconst initialState: PackageState = {\n  packages: [],\n  currentPackage: null,\n  currentPackageContainer: null,\n  \n  workspaceState: {\n    selectedAssets: new Set<string>(),\n    activeTab: 'overview',\n    isLoading: false,\n    error: undefined\n  },\n  \n  libraryState: {\n    searchCriteria: {\n      searchTerm: '',\n      packageTypes: [],\n      statuses: [PackageStatus.ACTIVE],\n      tags: [],\n      sortBy: 'updatedAt',\n      sortOrder: 'desc',\n      limit: 20,\n      offset: 0\n    },\n    selectedPackages: new Set<string>(),\n    viewMode: 'grid',\n    isCreating: false,\n    showCreateModal: false\n  },\n  \n  isLoading: false,\n  error: null,\n  totalCount: 0,\n  hasNextPage: false,\n  hasPreviousPage: false\n}\n\n// Reducer function following reducer pattern\nconst packageReducer = (state: PackageState, action: PackageAction): PackageState => {\n  switch (action.type) {\n    case 'SET_LOADING':\n      return {\n        ...state,\n        isLoading: action.payload\n      }\n      \n    case 'SET_ERROR':\n      return {\n        ...state,\n        error: action.payload,\n        isLoading: false\n      }\n      \n    case 'SET_PACKAGES':\n      return {\n        ...state,\n        packages: action.payload.packages,\n        totalCount: action.payload.totalCount,\n        hasNextPage: action.payload.hasNextPage,\n        hasPreviousPage: action.payload.hasPreviousPage,\n        isLoading: false,\n        error: null\n      }\n      \n    case 'ADD_PACKAGE':\n      return {\n        ...state,\n        packages: [action.payload, ...state.packages],\n        totalCount: state.totalCount + 1\n      }\n      \n    case 'UPDATE_PACKAGE': {\n      const updatedPackages = state.packages.map(pkg =>\n        pkg.id === action.payload.id ? action.payload : pkg\n      )\n      \n      return {\n        ...state,\n        packages: updatedPackages,\n        currentPackage: state.currentPackage?.id === action.payload.id \n          ? { ...state.currentPackage, ...action.payload } \n          : state.currentPackage\n      }\n    }\n    \n    case 'REMOVE_PACKAGE': {\n      const filteredPackages = state.packages.filter(pkg => pkg.id !== action.payload)\n      \n      return {\n        ...state,\n        packages: filteredPackages,\n        totalCount: Math.max(0, state.totalCount - 1),\n        currentPackage: state.currentPackage?.id === action.payload ? null : state.currentPackage,\n        currentPackageContainer: state.currentPackageContainer?.packageInfo.id === action.payload \n          ? null : state.currentPackageContainer\n      }\n    }\n    \n    case 'SET_CURRENT_PACKAGE':\n      return {\n        ...state,\n        currentPackage: action.payload,\n        workspaceState: {\n          ...state.workspaceState,\n          currentPackageId: action.payload?.id\n        }\n      }\n      \n    case 'SET_CURRENT_PACKAGE_CONTAINER':\n      return {\n        ...state,\n        currentPackageContainer: action.payload\n      }\n      \n    case 'UPDATE_WORKSPACE_STATE':\n      return {\n        ...state,\n        workspaceState: {\n          ...state.workspaceState,\n          ...action.payload\n        }\n      }\n      \n    case 'UPDATE_LIBRARY_STATE':\n      return {\n        ...state,\n        libraryState: {\n          ...state.libraryState,\n          ...action.payload\n        }\n      }\n      \n    case 'SELECT_ASSET': {\n      const newSelectedAssets = new Set(state.workspaceState.selectedAssets)\n      newSelectedAssets.add(action.payload)\n      \n      return {\n        ...state,\n        workspaceState: {\n          ...state.workspaceState,\n          selectedAssets: newSelectedAssets\n        }\n      }\n    }\n    \n    case 'DESELECT_ASSET': {\n      const newSelectedAssets = new Set(state.workspaceState.selectedAssets)\n      newSelectedAssets.delete(action.payload)\n      \n      return {\n        ...state,\n        workspaceState: {\n          ...state.workspaceState,\n          selectedAssets: newSelectedAssets\n        }\n      }\n    }\n    \n    case 'CLEAR_SELECTED_ASSETS':\n      return {\n        ...state,\n        workspaceState: {\n          ...state.workspaceState,\n          selectedAssets: new Set<string>()\n        }\n      }\n      \n    case 'SELECT_PACKAGE': {\n      const newSelectedPackages = new Set(state.libraryState.selectedPackages)\n      newSelectedPackages.add(action.payload)\n      \n      return {\n        ...state,\n        libraryState: {\n          ...state.libraryState,\n          selectedPackages: newSelectedPackages\n        }\n      }\n    }\n    \n    case 'DESELECT_PACKAGE': {\n      const newSelectedPackages = new Set(state.libraryState.selectedPackages)\n      newSelectedPackages.delete(action.payload)\n      \n      return {\n        ...state,\n        libraryState: {\n          ...state.libraryState,\n          selectedPackages: newSelectedPackages\n        }\n      }\n    }\n    \n    case 'CLEAR_SELECTED_PACKAGES':\n      return {\n        ...state,\n        libraryState: {\n          ...state.libraryState,\n          selectedPackages: new Set<string>()\n        }\n      }\n      \n    case 'UPDATE_SEARCH_CRITERIA':\n      return {\n        ...state,\n        libraryState: {\n          ...state.libraryState,\n          searchCriteria: {\n            ...state.libraryState.searchCriteria,\n            ...action.payload\n          }\n        }\n      }\n      \n    case 'SET_ACTIVE_TAB':\n      return {\n        ...state,\n        workspaceState: {\n          ...state.workspaceState,\n          activeTab: action.payload\n        }\n      }\n      \n    case 'SET_VIEW_MODE':\n      return {\n        ...state,\n        libraryState: {\n          ...state.libraryState,\n          viewMode: action.payload\n        }\n      }\n      \n    case 'SET_CREATE_MODAL':\n      return {\n        ...state,\n        libraryState: {\n          ...state.libraryState,\n          showCreateModal: action.payload\n        }\n      }\n      \n    case 'RESET_STATE':\n      return initialState\n      \n    default:\n      return state\n  }\n}\n\n// Context creation following context pattern\nconst PackageContext = createContext<PackageContextType | undefined>(undefined)\n\n// Provider component props\ninterface PackageProviderProps {\n  children: ReactNode\n}\n\n/**\n * Package context provider component.\n * Manages package state and provides actions to child components.\n */\nexport const PackageProvider: React.FC<PackageProviderProps> = ({ children }) => {\n  const [state, dispatch] = useReducer(packageReducer, initialState)\n  \n  // Computed properties using useMemo equivalent logic\n  const selectedPackageCount = state.libraryState.selectedPackages.size\n  const selectedAssetCount = state.workspaceState.selectedAssets.size\n  const hasSelectedPackages = selectedPackageCount > 0\n  const hasSelectedAssets = selectedAssetCount > 0\n  const isWorkspaceActive = Boolean(state.currentPackage)\n  const currentPackageId = state.currentPackage?.id || null\n  \n  // Action creators using useCallback for performance\n  const actions = {\n    setLoading: useCallback((loading: boolean) => {\n      dispatch({ type: 'SET_LOADING', payload: loading })\n    }, []),\n    \n    setError: useCallback((error: PackageError | null) => {\n      dispatch({ type: 'SET_ERROR', payload: error })\n    }, []),\n    \n    setPackages: useCallback((packages: PackageSummary[], totalCount: number, hasNextPage: boolean, hasPreviousPage: boolean) => {\n      dispatch({ type: 'SET_PACKAGES', payload: { packages, totalCount, hasNextPage, hasPreviousPage } })\n    }, []),\n    \n    addPackage: useCallback((package_: PackageSummary) => {\n      dispatch({ type: 'ADD_PACKAGE', payload: package_ })\n    }, []),\n    \n    updatePackage: useCallback((package_: PackageSummary) => {\n      dispatch({ type: 'UPDATE_PACKAGE', payload: package_ })\n    }, []),\n    \n    removePackage: useCallback((packageId: string) => {\n      dispatch({ type: 'REMOVE_PACKAGE', payload: packageId })\n    }, []),\n    \n    setCurrentPackage: useCallback((package_: IntegrationPackage | null) => {\n      dispatch({ type: 'SET_CURRENT_PACKAGE', payload: package_ })\n    }, []),\n    \n    setCurrentPackageContainer: useCallback((container: PackageContainer | null) => {\n      dispatch({ type: 'SET_CURRENT_PACKAGE_CONTAINER', payload: container })\n    }, []),\n    \n    updateWorkspaceState: useCallback((updates: Partial<PackageWorkspaceState>) => {\n      dispatch({ type: 'UPDATE_WORKSPACE_STATE', payload: updates })\n    }, []),\n    \n    updateLibraryState: useCallback((updates: Partial<PackageLibraryState>) => {\n      dispatch({ type: 'UPDATE_LIBRARY_STATE', payload: updates })\n    }, []),\n    \n    selectAsset: useCallback((assetId: string) => {\n      dispatch({ type: 'SELECT_ASSET', payload: assetId })\n    }, []),\n    \n    deselectAsset: useCallback((assetId: string) => {\n      dispatch({ type: 'DESELECT_ASSET', payload: assetId })\n    }, []),\n    \n    clearSelectedAssets: useCallback(() => {\n      dispatch({ type: 'CLEAR_SELECTED_ASSETS' })\n    }, []),\n    \n    selectPackage: useCallback((packageId: string) => {\n      dispatch({ type: 'SELECT_PACKAGE', payload: packageId })\n    }, []),\n    \n    deselectPackage: useCallback((packageId: string) => {\n      dispatch({ type: 'DESELECT_PACKAGE', payload: packageId })\n    }, []),\n    \n    clearSelectedPackages: useCallback(() => {\n      dispatch({ type: 'CLEAR_SELECTED_PACKAGES' })\n    }, []),\n    \n    updateSearchCriteria: useCallback((criteria: Partial<PackageSearchCriteria>) => {\n      dispatch({ type: 'UPDATE_SEARCH_CRITERIA', payload: criteria })\n    }, []),\n    \n    setActiveTab: useCallback((tab: 'overview' | 'adapters' | 'flows' | 'dependencies') => {\n      dispatch({ type: 'SET_ACTIVE_TAB', payload: tab })\n    }, []),\n    \n    setViewMode: useCallback((mode: 'grid' | 'list') => {\n      dispatch({ type: 'SET_VIEW_MODE', payload: mode })\n    }, []),\n    \n    setCreateModal: useCallback((show: boolean) => {\n      dispatch({ type: 'SET_CREATE_MODAL', payload: show })\n    }, []),\n    \n    resetState: useCallback(() => {\n      dispatch({ type: 'RESET_STATE' })\n    }, [])\n  }\n  \n  // Context value\n  const value: PackageContextType = {\n    state,\n    dispatch,\n    selectedPackageCount,\n    selectedAssetCount,\n    hasSelectedPackages,\n    hasSelectedAssets,\n    isWorkspaceActive,\n    currentPackageId,\n    actions\n  }\n  \n  return (\n    <PackageContext.Provider value={value}>\n      {children}\n    </PackageContext.Provider>\n  )\n}\n\n/**\n * Custom hook for accessing package context.\n * Provides type-safe access to package state and actions.\n * \n * @returns PackageContextType\n * @throws Error if used outside PackageProvider\n */\nexport const usePackageContext = (): PackageContextType => {\n  const context = useContext(PackageContext)\n  \n  if (context === undefined) {\n    throw new Error('usePackageContext must be used within a PackageProvider')\n  }\n  \n  return context\n}\n\n/**\n * Higher-order component for providing package context.\n * Wraps components with package state management.\n * \n * @param Component Component to wrap\n * @returns Wrapped component with package context\n */\nexport const withPackageContext = <P extends object>(\n  Component: React.ComponentType<P>\n): React.FC<P> => {\n  const WrappedComponent: React.FC<P> = (props) => (\n    <PackageProvider>\n      <Component {...props} />\n    </PackageProvider>\n  )\n  \n  WrappedComponent.displayName = `withPackageContext(${Component.displayName || Component.name})`\n  \n  return WrappedComponent\n}","import { useEffect } from 'react'\nimport { Routes, Route, Navigate } from 'react-router-dom'\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools'\nimport { Toaster } from 'react-hot-toast'\n\nimport useAuthInit from './hooks/useAuthInit'\n\n// Components\nimport Layout from './components/Layout'\nimport ProtectedRoute from './components/ProtectedRoute'\n\n// Pages\nimport LoginPage from './pages/auth/LoginPage'\nimport { Dashboard } from './pages/Dashboard'\nimport CreateSshKey from './pages/ssh-keys/CreateSshKey'\nimport AdapterMonitoring from './pages/AdapterMonitoring'\nimport FlowMonitoring from './pages/FlowMonitoring'\nimport ExecutionLogsViewer from './pages/ExecutionLogsViewer'\nimport AdminPage from './pages/AdminPage'\nimport { Settings } from './pages/Settings'\nimport PackageLibrary from './pages/packages/PackageLibrary'\nimport CreatePackage from './pages/packages/CreatePackage'\nimport EditPackage from './pages/packages/EditPackage'\nimport PackageWorkspace from './pages/packages/PackageWorkspace'\nimport { PackageProvider } from './contexts/PackageContext'\n\n// Initialize theme on app load\nconst initializeTheme = () => {\n  const savedPreferences = localStorage.getItem('h2h_user_preferences')\n  let theme: 'light' | 'dark' | 'system' = 'light' // Default to light\n  \n  if (savedPreferences) {\n    try {\n      const parsed = JSON.parse(savedPreferences)\n      theme = parsed.theme || 'light'\n    } catch (error) {\n      console.warn('Failed to parse saved preferences for theme')\n    }\n  }\n  \n  const root = document.documentElement\n  if (theme === 'system') {\n    const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches\n    root.classList.toggle('dark', systemPrefersDark)\n  } else if (theme === 'dark') {\n    root.classList.add('dark')\n  } else {\n    root.classList.remove('dark')\n  }\n}\n\nfunction App() {\n  useAuthInit()\n  \n  useEffect(() => {\n    initializeTheme()\n  }, [])\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Routes>\n            {/* Public routes */}\n            <Route path=\"/login\" element={<LoginPage />} />\n            \n            {/* Protected routes */}\n            <Route path=\"/\" element={<ProtectedRoute><Layout /></ProtectedRoute>}>\n              <Route index element={<Navigate to=\"/dashboard\" replace />} />\n              <Route path=\"dashboard\" element={<Dashboard />} />\n              \n              {/* Package management */}\n              <Route path=\"packages\" element={\n                <PackageProvider>\n                  <PackageLibrary />\n                </PackageProvider>\n              } />\n              <Route path=\"packages/create\" element={\n                <PackageProvider>\n                  <CreatePackage />\n                </PackageProvider>\n              } />\n              <Route path=\"packages/:id/edit\" element={\n                <PackageProvider>\n                  <EditPackage />\n                </PackageProvider>\n              } />\n              <Route path=\"packages/:id\" element={\n                <PackageProvider>\n                  <PackageWorkspace />\n                </PackageProvider>\n              } />\n\n              {/* Admin page - centralized administration */}\n              <Route path=\"admin\" element={<AdminPage />} />\n              \n              {/* SSH key management - redirect to admin */}\n              <Route path=\"ssh-keys\" element={<Navigate to=\"/admin\" replace />} />\n              <Route path=\"ssh-keys/create\" element={<CreateSshKey />} />\n              \n              {/* User management - redirect to admin */}\n              <Route path=\"users\" element={<Navigate to=\"/admin\" replace />} />\n\n              {/* Monitoring */}\n              <Route path=\"adapter-monitoring\" element={<AdapterMonitoring />} />\n              <Route path=\"flow-monitoring\" element={<FlowMonitoring />} />\n              <Route path=\"execution-logs/:executionId\" element={<ExecutionLogsViewer />} />\n              \n              {/* User Settings */}\n              <Route path=\"settings\" element={<Settings />} />\n              \n              {/* Legacy route redirects */}\n              <Route path=\"monitoring\" element={<Navigate to=\"/adapter-monitoring\" replace />} />\n              <Route path=\"executions\" element={<Navigate to=\"/flow-monitoring\" replace />} />\n              <Route path=\"execution-monitoring\" element={<Navigate to=\"/flow-monitoring\" replace />} />\n              <Route path=\"performance\" element={<Navigate to=\"/dashboard\" replace />} />\n              <Route path=\"logs\" element={<Navigate to=\"/admin\" replace />} />\n            </Route>\n            \n            {/* Catch all - redirect to dashboard */}\n            <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\n          </Routes>\n          \n          {/* Global notifications */}\n          <Toaster \n            position=\"top-right\"\n            toastOptions={{\n              duration: 4000,\n              style: {\n                background: 'hsl(215, 25%, 10%)',\n                color: 'hsl(210, 40%, 98%)',\n              },\n              success: {\n                style: {\n                  background: 'hsl(142, 76%, 36%)',\n                  color: 'hsl(210, 40%, 98%)',\n                },\n              },\n              error: {\n                style: {\n                  background: 'hsl(0, 84%, 60%)',\n                  color: 'hsl(210, 40%, 98%)',\n                },\n              },\n            }}\n          />\n        \n        {/* React Query DevTools - only in development */}\n        {import.meta.env.DEV && <ReactQueryDevtools initialIsOpen={false} />}\n      </div>\n  )\n}\n\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query'\r\nimport { Toaster } from 'react-hot-toast'\r\nimport App from './App.tsx'\r\nimport './index.css'\r\n\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      refetchOnWindowFocus: false,\r\n      retry: 1,\r\n      staleTime: 30000,\r\n    },\r\n  },\r\n})\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <QueryClientProvider client={queryClient}>\r\n      <BrowserRouter>\r\n        <App />\r\n        <Toaster position=\"top-right\" />\r\n      </BrowserRouter>\r\n    </QueryClientProvider>\r\n  </React.StrictMode>,\r\n)"],"names":["m","require$$0","client","createJSONStorage","getStorage","options","storage","name","_a","parse","str2","str","newValue","toThenable","fn","input","result","onFulfilled","_onRejected","e","_onFulfilled","onRejected","oldImpl","config","baseOptions","set","get","api","state","persistedState","currentState","hasHydrated","hydrationListeners","finishHydrationListeners","args","thenableSerialize","setItem","errorInSync","thenable","serializedValue","savedSetState","replace","configResult","stateFromStorage","hydrate","cb","postRehydrationCallback","storageValue","deserializedStorageValue","migratedState","_a2","newOptions","newImpl","_b","migrationResult","migrated","persistImpl","__vite_import_meta_env__","persist","DEFAULT_CONFIG","SessionManager","__publicField","_event","token","user","persistLogin","userStr","reason","response","error","sessionManager","ACTIVITY_EVENTS","lastActivity","event","now","WebSocketService","baseUrl","resolve","reject","stompConfig","SockJS","frame","receipt","Client","topics","topic","message","data","handlers","handler","index","flowId","executionId","webSocketService","getWebSocketService","initializeWebSocket","disconnectWebSocket","getInitialAuthState","isTokenLocallyValid","payload","useAuthStore","create","loading","initialized","currentToken","getApiBaseUrl","API_BASE_URL","axios","url","_c","authApi","credentials","refreshToken","userApi","userData","userId","currentPassword","newPassword","dashboardApi","limit","configApi","category","configKey","value","adapterApi","packageId","id","adapterData","params","searchParams","interfaceApi","sshKeyApi","keyData","keyId","enabled","pgpKeyApi","flowApi","flowData","backendMessage","active","executionApi","transactionLogsApi","environmentApi","action","systemLogsApi","isTokenValid","useAuthInit","setAuth","setInitialized","hasInitialized","useEffect","localUser","cn","inputs","twMerge","clsx","buttonVariants","cva","Button","React.forwardRef","className","variant","size","asChild","props","ref","Comp","Slot","jsx","SidebarContext","createContext","SidebarProvider","children","collapsed","setCollapsed","useState","toggle","prev","useSidebar","context","useContext","navigation","LayoutDashboard","Package","Activity","BarChart3","Database","Settings","Sidebar","isAdmin","filteredNavigation","item","jsxs","ChevronRight","ChevronLeft","NavLink","isActive","Fragment","useUIStore","open","notification","newNotification","n","modalId","useNotifications","addNotification","removeNotification","clearNotifications","title","duration","badgeVariants","Badge","DropdownMenu","DropdownMenuPrimitive.Root","DropdownMenuTrigger","DropdownMenuPrimitive.Trigger","DropdownMenuSubTrigger","inset","DropdownMenuPrimitive.SubTrigger","DropdownMenuSubContent","DropdownMenuPrimitive.SubContent","DropdownMenuContent","sideOffset","DropdownMenuPrimitive.Portal","DropdownMenuPrimitive.Content","DropdownMenuItem","DropdownMenuPrimitive.Item","DropdownMenuCheckboxItem","checked","DropdownMenuPrimitive.CheckboxItem","DropdownMenuPrimitive.ItemIndicator","Check","DropdownMenuRadioItem","DropdownMenuPrimitive.RadioItem","Circle","DropdownMenuLabel","DropdownMenuPrimitive.Label","DropdownMenuSeparator","DropdownMenuPrimitive.Separator","useEnvironment","isAuthenticated","useQuery","failureCount","sizeClasses","getEnvironmentDetails","envType","EnvironmentBadge","showName","environment","isLoading","envDetails","Header","navigate","useNavigate","clearAuth","success","logoutMutation","useMutation","handleLogout","Menu","Building2","Bell","User","LogOut","Layout","Outlet","ProtectedRoute","roles","Navigate","Input","type","labelVariants","Label","LabelPrimitive.Root","Card","CardHeader","CardTitle","CardDescription","CardContent","CardFooter","LoginPage","showPassword","setShowPassword","React","register","handleSubmit","errors","useForm","loginMutation","variables","err","onSubmit","UserIcon","Lock","EyeOff","Eye","Dialog","DialogPrimitive.Root","DialogTrigger","DialogPrimitive.Trigger","DialogPortal","DialogPrimitive.Portal","DialogOverlay","DialogPrimitive.Overlay","DialogContent","DialogPrimitive.Content","DialogPrimitive.Close","X","DialogHeader","DialogFooter","DialogTitle","DialogPrimitive.Title","DialogDescription","DialogPrimitive.Description","Select","SelectPrimitive.Root","SelectValue","SelectPrimitive.Value","SelectTrigger","SelectPrimitive.Trigger","SelectPrimitive.Icon","ChevronDown","SelectScrollUpButton","SelectPrimitive.ScrollUpButton","ChevronUp","SelectScrollDownButton","SelectPrimitive.ScrollDownButton","SelectContent","position","SelectPrimitive.Portal","SelectPrimitive.Content","SelectPrimitive.Viewport","SelectLabel","SelectPrimitive.Label","SelectItem","SelectPrimitive.Item","SelectPrimitive.ItemIndicator","SelectPrimitive.ItemText","SelectSeparator","SelectPrimitive.Separator","ManualFlowExecutionModal","onOpenChange","selectedFlowId","setSelectedFlowId","queryClient","useQueryClient","flowsResponse","flowsLoading","flows","executeFlowMutation","handleExecute","activeFlows","flow","Play","Loader2","AlertCircle","CheckCircle","f","Dashboard","isFlowExecutionModalOpen","setIsFlowExecutionModalOpen","intervals","refreshIntervals","systemHealth","healthLoading","adapterStats","statsLoading","recentExecutions","executionsLoading","RefreshCw","TrendingUp","FileText","execution","getStatusIcon","status","AlertTriangle","Clock","formatRelativeTime","timestamp","executionTime","diffMs","diffMins","diffHours","adapter","Boxes","Link","CreateSshKey","formData","setFormData","createKeyMutation","getSecurityLevel","isFormValid","Home","Key","FileKey","Shield","AdapterMonitoring","statusFilter","setStatusFilter","typeFilter","setTypeFilter","selectedAdapterId","setSelectedAdapterId","pendingStartIds","setPendingStartIds","pendingStopIds","setPendingStopIds","adaptersResponse","adaptersLoading","refetchAdapters","executionHistoryResponse","adapters","executionHistory","startAdapterMutation","adapterId","previous","old","next","list","a","_adapterId","ctx","_data","_error","stopAdapterMutation","getStatusLED","errorCount","filteredAdapters","statusMatch","typeMatch","Square","XCircle","_d","FlowMonitoring","flowFilter","setFlowFilter","executionsResponse","refetchExecutions","executions","restartExecutionMutation","getStatusColor","RotateCcw","ExecutionLogsViewer","useParams","logFilter","setLogFilter","logLevelFilter","setLogLevelFilter","autoRefresh","setAutoRefresh","executionResponse","logsResponse","logsLoading","refetch","filteredLogs","log","getLogLevelIcon","level","Info","getLogLevelColor","_level","formatTimestamp","date","handleExportLogs","csvContent","header","blob","link","clearFilters","ArrowLeft","Download","Filter","Search","key","usePermissions","hasRole","role","UserManagement","currentUser","showCreateForm","setShowCreateForm","formKey","setFormKey","_showPasswords","_setShowPasswords","_editingUser","setEditingUser","usersResponse","users","createUserMutation","updateUserMutation","deleteUserMutation","getRoleIcon","Crown","getRoleBadgeStyle","canModifyUser","Plus","Users","u","CreateUserForm","Edit","Trash2","onCancel","SshKeyManagement","showPrivateKeys","setShowPrivateKeys","sshKeys","toggleKeyStatusMutation","deleteKeyMutation","handleDownloadPrivateKey","keyName","handleDownloadPublicKey","handleCopyPublicKey","publicKey","togglePrivateKeyVisibility","k","ShieldCheck","ShieldX","Copy","Switch","SwitchPrimitives.Root","SwitchPrimitives.Thumb","alertVariants","Alert","AlertTitle","AlertDescription","getEnvironmentStyle","EnvironmentConfiguration","selectedType","setSelectedType","enforceRestrictions","setEnforceRestrictions","restrictionMessage","setRestrictionMessage","hasChanges","setHasChanges","envResponse","envLoading","typesResponse","typesLoading","environmentInfo","environmentTypes","updateEnvironmentMutation","hasTypeChange","hasEnforceChange","hasMessageChange","handleSave","handleReset","Layers","currentEnvStyle","restrictedFeatures","permission","allowed","CheckCircle2","Save","categoryIcons","Monitor","categoryColors","SystemConfigurations","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","editingConfig","setEditingConfig","editValues","setEditValues","configurationsResponse","configurations","updateConfigMutation","handleEdit","configId","handleCancel","filteredConfigurations","matchesSearch","matchesCategory","categories","c","getConfigsByCategory","renderConfigValue","isEditing","currentValue","cat","categoryConfigs","Icon","iconColor","logLevelIcons","Bug","logLevelColors","SystemLogs","selectedLevel","setSelectedLevel","currentPage","setCurrentPage","pageSize","setPageSize","expandedLog","setExpandedLog","logs","totalPages","totalElements","handleExport","renderLogLevel","color","renderLogCategory","TransactionalLogs","logTabs","LogsPage","availableTabs","tab","defaultTab","activeTab","setActiveTab","renderTabContent","PgpKeys","showGenerateForm","setShowGenerateForm","showImportForm","setShowImportForm","keysResponse","keys","generateKeyMutation","importKeyMutation","revokeKeyMutation","handleExportPublic","handleExportPrivate","getKeyStatusIcon","getKeyStatusText","getKeyTypeIcon","keyType","formatFingerprint","fingerprint","Upload","GenerateKeyForm","ImportKeyForm","showPassphrase","setShowPassphrase","handleFileUpload","file","reader","content","iconMap","defaultTitles","NotificationModal","displayTitle","DATA_TYPE_OPTIONS","DataRetentionManagement","configs","setConfigs","setStatus","setLoading","showCreateDialog","setShowCreateDialog","newConfig","setNewConfig","defaultConfigs","setDefaultConfigs","availableJobs","setAvailableJobs","notificationModal","setNotificationModal","showNotification","toast","description","loadConfigurations","loadStatus","loadDefaultConfigurations","loadAvailableJobs","jobs","resetNewConfigForm","defaultSchedule","createConfiguration","updateConfiguration","deleteConfiguration","toggleConfiguration","executeManualRetention","formatDateTime","dateString","option","job","dataTypeOption","opt","adminTabs","AdminPage","setSearchParams","useSearchParams","tabParam","handleTabChange","tabId","Tabs","TabsPrimitive.Root","TabsList","TabsPrimitive.List","TabsTrigger","TabsPrimitive.Trigger","TabsContent","TabsPrimitive.Content","Separator","orientation","decorative","SeparatorPrimitive.Root","isSaving","setIsSaving","setUser","setIsLoading","setNotification","preferences","setPreferences","profile","setProfile","passwordForm","setPasswordForm","loadCurrentUser","loadPreferences","savedPreferences","parsed","applyTheme","theme","root","systemPrefersDark","handleSaveProfile","handleSavePreferences","handleChangePassword","SettingsIcon","Palette","PackageStatus","PackageType","PackageCard","pkg","onSelect","isSelected","onToggleSelect","onEdit","onArchive","onDelete","onExport","statusInfo","StatusIcon","handleCardClick","handleSelectToggle","Workflow","tag","formatDistanceToNow","ConfirmationModal","confirmLabel","cancelLabel","onConfirm","handleConfirm","CHECKBOX_NAME","createCheckboxContext","createContextScope","CheckboxProviderImpl","useCheckboxContext","CheckboxProvider","__scopeCheckbox","checkedProp","defaultChecked","disabled","form","onCheckedChange","required","internal_do_not_use_render","setChecked","useControllableState","control","setControl","React.useState","bubbleInput","setBubbleInput","hasConsumerStoppedPropagationRef","React.useRef","isFormControl","isIndeterminate","isFunction","TRIGGER_NAME","CheckboxTrigger","onKeyDown","onClick","checkboxProps","forwardedRef","composedRefs","useComposedRefs","initialCheckedStateRef","React.useEffect","reset","Primitive","getState","composeEventHandlers","prevChecked","Checkbox","CheckboxBubbleInput","INDICATOR_NAME","CheckboxIndicator","forceMount","indicatorProps","Presence","BUBBLE_INPUT_NAME","usePrevious","controlSize","useSize","inputProto","bubbles","defaultCheckedRef","CheckboxPrimitive.Root","CheckboxPrimitive.Indicator","PackageExportModal","packageName","selectedFlowIds","setSelectedFlowIds","isExporting","setIsExporting","containerData","flowsData","adaptersData","toggleFlow","newSet","selectAll","deselectAll","encryptedData","dataStr","dataBlob","FileJson","PackageImportModal","onImportSuccess","selectedFile","setSelectedFile","isImporting","setIsImporting","importResult","setImportResult","handleFileSelect","handleDrop","handleDragOver","handleImport","fileContent","packageData","handleClose","PackageLibrary","selectedPackageType","setSelectedPackageType","selectedStatus","setSelectedStatus","viewMode","setViewMode","selectedPackages","setSelectedPackages","confirmationModal","setConfirmationModal","exportModal","setExportModal","importModal","setImportModal","packagesResult","searchCriteria","packages","handlePackageSelect","handlePackageToggleSelect","selected","newSelection","handleCreatePackage","handleImportPackage","handleImportSuccess","handleExportPackage","handleExportModalClose","handleArchiveSelected","packageNames","handleEditPackage","handleDeletePackage","errorMessage","activePackages","p","packagesByType","acc","i","sum","Grid3x3","List","count","Textarea","CreatePackage","EditPackage","isLoadingPackage","updateData","AdapterTestResultModal","testResult","rawData","StatusText","successText","failText","WorkspaceSidebar","onNavigate","activeSection","menuItems","Plug","PackageOverview","adapterCount","flowCount","activeAdapters","deployedFlows","PackageAdaptersTab","onAddAdapter","onViewAdapter","onEditAdapter","onDeleteAdapter","onTestAdapter","getAdapterIcon","adapterType","Server","Mail","getType","fileAdaptersCount","sftpAdaptersCount","emailAdaptersCount","PackageFlowsTab","onAddFlow","onEditFlow","onDeleteFlow","onActivateFlow","onDeployFlow","onUndeployFlow","onViewFlow","onExportFlow","onImportFlow","fileInputRef","useRef","handleImportClick","handleFileChange","totalFlows","enabledFlows","totalExecutions","avgExecutionTime","formatExecutionTime","ms","minutes","seconds","calculateSuccessRate","successful","total","nodeCount","connectionCount","successRate","failed","ArrowRight","Power","FileAdapterConfig","direction","watchArchiveFaultyFiles","useWatch","watchPostProcessAction","watchOutputFilenameMode","watchScheduleMode","watchScheduleType","Controller","field","day","_","SftpAdapterConfig","sshKeysData","watchAuthType","EmailAdapterConfig","setValue","AdapterConfigFields","CreateAdapter","onSuccess","watch","watchType","watchDirection","createMutation","cleanupConfiguration","cleaned","copyIfSet","EditAdapter","adapterLoading","updateMutation","cleanedConfig","ReadOnlyField","label","ReadOnlyCheckbox","ReadOnlySwitch","ViewAdapter","onBack","getStatusBadge","getDirectionBadge","Pencil","FileAdapterReadOnly","SftpAdapterReadOnly","EmailAdapterReadOnly","SendTaskIcon","ReceiveTaskIcon","ServiceTaskIcon","AdapterNode","setNodes","setEdges","useReactFlow","nodeData","TaskIcon","handleDelete","nodes","node","edges","edge","getBorderColor","getIconColor","Handle","Position","ScriptTaskIcon","UtilityNode","isScript","formatUtilityType","word","ExclusiveMarker","DecisionNode","MessageIcon","StartNode","EndNode","ParallelMarker","ParallelSplitNode","outputPositions","positions","pathCount","top","pos","_index","MessageEndNode","FlowEdge","sourceX","sourceY","targetX","targetY","sourcePosition","targetPosition","markerEnd","edgeData","isHovered","setIsHovered","edgePath","labelX","labelY","getBezierPath","getEdgeColor","getEdgeWidth","BaseEdge","EdgeLabelRenderer","TooltipProvider","TooltipPrimitive.Provider","Tooltip","TooltipPrimitive.Root","TooltipTrigger","TooltipPrimitive.Trigger","TooltipContent","TooltipPrimitive.Content","FlowToolbar","onSave","onExecute","onClear","onImport","onToggleNodeSidebar","onAutoLayout","isNodeSidebarVisible","readOnly","canExecute","canSave","canDelete","isExecuting","LayoutGrid","Collapsible","CollapsiblePrimitive.Root","CollapsibleTrigger","CollapsiblePrimitive.CollapsibleTrigger","CollapsibleContent","CollapsiblePrimitive.CollapsibleContent","NodeSidebar","onNodeAdd","expandedCategories","setExpandedCategories","nodeTemplates","GitBranch","Split","Unlock","FileArchive","toggleCategory","categoryId","handleNodeDragStart","nodeTemplate","handleNodeAdd","categoryNodes","isExpanded","IconComponent","NodePropertiesPanel","selectedNode","onNodeUpdate","onClose","setNodeData","handleInputChange","getNodeIcon","FileInput","FileOutput","getAvailableAdapters","directionMatch","availableAdapters","selectedAdapter","updates","DEFAULT_LAYOUT_CONFIG","NODE_DIMENSIONS","layoutElements","layoutConfig","graph","dagre","dimensions","nodeWithPosition","layoutElementsHorizontal","layoutElementsCompact","layoutElementsSmart","edgeCount","nodeTypes","edgeTypes","initialNodes","EDGE_COLOR","EDGE_COLOR_SELECTED","initialEdges","FlowCanvas","onFlowChange","onNodesChange","useNodesState","onEdgesChange","useEdgesState","setSelectedNode","selectedEdge","setSelectedEdge","sidebarOpen","setSidebarOpen","propertiesPanelOpen","setPropertiesPanelOpen","nodeWithDeleteButton","setNodeWithDeleteButton","reactFlowWrapper","reactFlowInstance","setReactFlowInstance","isValidConnection","useCallback","sourceNode","targetNode","onConnect","eds","addEdge","onReconnect","oldEdge","newConnection","reconnectEdge","onNodeClick","onEdgeClick","onPaneClick","onDragOver","onDrop","dropData","newNode","nds","onDeleteSelected","currentFlow","nodeType","fixedPosition","handleNodeUpdate","nodeId","handleAutoLayout","layoutedNodes","layoutedEdges","handleClosePropertiesPanel","handleKeyDown","ReactFlow","ConnectionMode","Background","Controls","MiniMap","Panel","CreateFlow","flowName","setFlowName","flowDescription","setFlowDescription","setFlowData","handleFlowChange","updatedFlow","flowPayload","_flow","EditFlow","setIsExecuting","existingFlow","ViewFlow","PackageWorkspace","setActiveSection","currentAction","setCurrentAction","selectedItemId","setSelectedItemId","testResultModalOpen","setTestResultModalOpen","setTestResult","handleSidebarNavigate","section","handleRefresh","handleAddAdapter","handleViewAdapter","handleEditAdapter","handleDeleteAdapter","handleTestAdapter","handleAdapterFormSuccess","handleAdapterFormCancel","handleAddFlow","handleViewFlow","handleEditFlow","handleDeleteFlow","handleActivateFlow","handleDeployFlow","errorMsg","handleUndeployFlow","handleOpenFlowDesigner","handleExportFlow","handleImportFlow","handleFlowFormSuccess","handleFlowFormCancel","renderContent","initialState","packageReducer","updatedPackages","filteredPackages","newSelectedAssets","newSelectedPackages","PackageContext","PackageProvider","dispatch","useReducer","selectedPackageCount","selectedAssetCount","hasSelectedPackages","hasSelectedAssets","isWorkspaceActive","currentPackageId","actions","totalCount","hasNextPage","hasPreviousPage","package_","container","assetId","criteria","mode","show","initializeTheme","App","Routes","Route","Toaster","QueryClient","ReactDOM","QueryClientProvider","BrowserRouter"],"mappings":"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","x_google_ignoreList":[0,1,51]}