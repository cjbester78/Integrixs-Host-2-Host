{"version":3,"file":"index-DsdjU0po.js","sources":["../../node_modules/react-dom/client.js","../../node_modules/zustand/esm/middleware.mjs","../../src/lib/session.ts","../../src/services/websocket.ts","../../src/stores/auth.ts","../../src/lib/api.ts","../../src/hooks/useAuthInit.ts","../../src/lib/utils.ts","../../src/components/ui/button.tsx","../../src/components/Sidebar.tsx","../../src/stores/ui.ts","../../src/components/ui/badge.tsx","../../src/components/ui/dropdown-menu.tsx","../../src/hooks/useEnvironment.ts","../../src/components/common/EnvironmentBadge.tsx","../../src/components/Header.tsx","../../src/components/Layout.tsx","../../src/components/ProtectedRoute.tsx","../../src/components/ui/input.tsx","../../src/components/ui/label.tsx","../../src/components/ui/card.tsx","../../src/pages/auth/LoginPage.tsx","../../src/components/ui/dialog.tsx","../../src/components/ui/select.tsx","../../src/components/ui/ManualFlowExecutionModal.tsx","../../src/pages/Dashboard.tsx","../../src/components/ui/switch.tsx","../../src/hooks/useWebSocket.ts","../../src/components/WebSocketStatus.tsx","../../src/pages/adapters/AdapterConfiguration.tsx","../../src/hooks/auth.ts","../../src/components/ui/AdapterTestResultModal.tsx","../../src/pages/adapters/AdapterList.tsx","../../src/pages/ssh-keys/CreateSshKey.tsx","../../src/pages/flows/FlowManagement.tsx","../../src/components/flow/nodes/AdapterNode.tsx","../../src/components/flow/nodes/UtilityNode.tsx","../../src/components/flow/nodes/DecisionNode.tsx","../../src/components/flow/nodes/StartNode.tsx","../../src/components/flow/nodes/EndNode.tsx","../../src/components/flow/nodes/ParallelSplitNode.tsx","../../src/components/flow/nodes/MessageEndNode.tsx","../../src/components/flow/edges/FlowEdge.tsx","../../src/components/ui/separator.tsx","../../src/components/ui/tooltip.tsx","../../src/components/flow/FlowToolbar.tsx","../../src/components/ui/collapsible.tsx","../../src/components/flow/NodeSidebar.tsx","../../src/components/flow/NodePropertiesPanel.tsx","../../src/utils/flowLayout.ts","../../src/components/flow/FlowCanvas.tsx","../../src/pages/flows/VisualFlowBuilder.tsx","../../src/pages/AdapterMonitoring.tsx","../../src/pages/FlowMonitoring.tsx","../../src/pages/ExecutionLogsViewer.tsx","../../src/pages/users/UserManagement.tsx","../../src/pages/ssh-keys/SshKeyManagement.tsx","../../src/components/ui/alert.tsx","../../src/components/admin/EnvironmentConfiguration.tsx","../../src/pages/admin/SystemConfigurations.tsx","../../src/pages/admin/SystemLogs.tsx","../../src/pages/admin/TransactionalLogs.tsx","../../src/pages/admin/LogsPage.tsx","../../src/pages/admin/PgpKeys.tsx","../../src/pages/admin/DataRetentionManagement.tsx","../../src/pages/AdminPage.tsx","../../src/components/ui/tabs.tsx","../../src/pages/Settings.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...a) => api.dispatch(...a), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (_e) {\n  }\n  if (!extensionConnector) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\n        \"[zustand devtools middleware] Please install/enable Redux devtools extension\"\n      );\n    }\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? { type: anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...a) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...a);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) f(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nconst combine = (initialState, create) => (...a) => Object.assign({}, initialState, create(...a));\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (_e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, options == null ? void 0 : options.replacer)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst oldImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    getStorage: () => localStorage,\n    serialize: JSON.stringify,\n    deserialize: JSON.parse,\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage;\n  try {\n    storage = options.getStorage();\n  } catch (_e) {\n  }\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const thenableSerialize = toThenable(options.serialize);\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    let errorInSync;\n    const thenable = thenableSerialize({ state, version: options.version }).then(\n      (serializedValue) => storage.setItem(options.name, serializedValue)\n    ).catch((e) => {\n      errorInSync = e;\n    });\n    if (errorInSync) {\n      throw errorInSync;\n    }\n    return thenable;\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => cb(get()));\n    const postRehydrationCallback = ((_a = options.onRehydrateStorage) == null ? void 0 : _a.call(options, get())) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue) => {\n      if (storageValue) {\n        return options.deserialize(storageValue);\n      }\n    }).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.getStorage) {\n        storage = newOptions.getStorage();\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  hydrate();\n  return stateFromStorage || configResult;\n};\nconst newImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return [\n              true,\n              options.migrate(\n                deserializedStorageValue.state,\n                deserializedStorageValue.version\n              )\n            ];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persistImpl = (config, baseOptions) => {\n  if (\"getStorage\" in baseOptions || \"serialize\" in baseOptions || \"deserialize\" in baseOptions) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead.\"\n      );\n    }\n    return oldImpl(config, baseOptions);\n  }\n  return newImpl(config, baseOptions);\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","/**\r\n * Session management utilities for handling authentication tokens\r\n * and browser close detection\r\n */\r\n\r\nexport interface SessionConfig {\r\n  persistLogin: boolean\r\n  sessionTimeout: number // in milliseconds\r\n  heartbeatInterval: number // in milliseconds\r\n}\r\n\r\nconst DEFAULT_CONFIG: SessionConfig = {\r\n  persistLogin: false,\r\n  sessionTimeout: 24 * 60 * 60 * 1000, // 24 hours\r\n  heartbeatInterval: 5 * 60 * 1000, // 5 minutes\r\n}\r\n\r\nclass SessionManager {\r\n  private config: SessionConfig\r\n  private heartbeatTimer?: number\r\n  private sessionTimeoutTimer?: number\r\n  private isVerifying: boolean = false // Mutex for token verification\r\n\r\n  constructor(config: Partial<SessionConfig> = {}) {\r\n    this.config = { ...DEFAULT_CONFIG, ...config }\r\n    this.setupSessionManagement()\r\n  }\r\n\r\n  private setupSessionManagement() {\r\n    // Simple session management without complex refresh detection\r\n    window.addEventListener('beforeunload', this.handleBeforeUnload.bind(this))\r\n    \r\n    // Page visibility change (tab switching, minimizing)\r\n    document.addEventListener('visibilitychange', this.handleVisibilityChange.bind(this))\r\n    \r\n    // Start heartbeat if user is logged in\r\n    if (this.isLoggedIn()) {\r\n      this.startHeartbeat()\r\n    }\r\n  }\r\n\r\n  private handleBeforeUnload(_event: BeforeUnloadEvent) {\r\n    console.log('[SessionManager] beforeunload triggered, persistLogin:', this.config.persistLogin)\r\n    \r\n    // Simple approach: sessionStorage automatically handles browser termination\r\n    // We don't need to clear anything here - let browser handle it naturally\r\n    // - sessionStorage: cleared automatically on browser termination\r\n    // - localStorage: persists only when user explicitly chose \"Remember Me\"\r\n  }\r\n\r\n  private handleVisibilityChange() {\r\n    if (document.hidden) {\r\n      // Tab became hidden, pause heartbeat\r\n      this.stopHeartbeat()\r\n    } else {\r\n      // Tab became visible, resume heartbeat if logged in\r\n      if (this.isLoggedIn()) {\r\n        this.startHeartbeat()\r\n      }\r\n    }\r\n  }\r\n\r\n  public setToken(token: string, user: any, persistLogin: boolean = false) {\r\n    console.log('[SessionManager] setToken called with persistLogin:', persistLogin)\r\n    this.config.persistLogin = persistLogin\r\n    \r\n    if (persistLogin) {\r\n      // Store in localStorage for persistence across browser sessions\r\n      console.log('[SessionManager] Storing in localStorage (persistent)')\r\n      localStorage.setItem('h2h_token', token)\r\n      localStorage.setItem('h2h_user', JSON.stringify(user))\r\n      localStorage.setItem('h2h_persist_login', 'true')\r\n      // Clear sessionStorage to avoid conflicts\r\n      sessionStorage.removeItem('h2h_token')\r\n      sessionStorage.removeItem('h2h_user')\r\n    } else {\r\n      // Store in sessionStorage (cleared on browser close)\r\n      console.log('[SessionManager] Storing in sessionStorage (temporary)')\r\n      sessionStorage.setItem('h2h_token', token)\r\n      sessionStorage.setItem('h2h_user', JSON.stringify(user))\r\n      // Clear any persistent data\r\n      localStorage.removeItem('h2h_token')\r\n      localStorage.removeItem('h2h_user')\r\n      localStorage.removeItem('h2h_persist_login')\r\n    }\r\n    \r\n    this.startHeartbeat()\r\n    this.startSessionTimeout()\r\n  }\r\n\r\n  public getToken(): string | null {\r\n    return sessionStorage.getItem('h2h_token') || localStorage.getItem('h2h_token')\r\n  }\r\n\r\n  public getUser(): any | null {\r\n    const userStr = sessionStorage.getItem('h2h_user') || localStorage.getItem('h2h_user')\r\n    return userStr ? JSON.parse(userStr) : null\r\n  }\r\n\r\n  public isLoggedIn(): boolean {\r\n    return !!this.getToken()\r\n  }\r\n\r\n  public isPersistentLogin(): boolean {\r\n    return localStorage.getItem('h2h_persist_login') === 'true'\r\n  }\r\n\r\n  public logout() {\r\n    this.clearAllTokens()\r\n    this.stopHeartbeat()\r\n    this.stopSessionTimeout()\r\n    \r\n    // Redirect to login\r\n    window.location.href = '/login'\r\n  }\r\n\r\n  public clearTokens() {\r\n    this.clearAllTokens()\r\n    this.stopHeartbeat()\r\n    this.stopSessionTimeout()\r\n  }\r\n\r\n  public forceLogout(reason: string = 'Session expired') {\r\n    console.warn('Force logout:', reason)\r\n    this.logout()\r\n  }\r\n\r\n\r\n  private clearAllTokens() {\r\n    // Clear both session and persistent tokens\r\n    sessionStorage.removeItem('h2h_token')\r\n    sessionStorage.removeItem('h2h_user')\r\n    localStorage.removeItem('h2h_token')\r\n    localStorage.removeItem('h2h_user')\r\n    localStorage.removeItem('h2h_persist_login')\r\n  }\r\n\r\n  private startHeartbeat() {\r\n    this.stopHeartbeat() // Clear any existing timer\r\n    \r\n    this.heartbeatTimer = window.setInterval(() => {\r\n      // Use mutex pattern to prevent concurrent heartbeat calls\r\n      if (!this.isVerifying) {\r\n        this.performHeartbeat()\r\n      }\r\n    }, this.config.heartbeatInterval)\r\n  }\r\n\r\n  private stopHeartbeat() {\r\n    if (this.heartbeatTimer) {\r\n      window.clearInterval(this.heartbeatTimer)\r\n      this.heartbeatTimer = undefined\r\n    }\r\n  }\r\n\r\n  private startSessionTimeout() {\r\n    this.stopSessionTimeout() // Clear any existing timer\r\n    \r\n    this.sessionTimeoutTimer = window.setTimeout(() => {\r\n      this.forceLogout('Session timeout')\r\n    }, this.config.sessionTimeout)\r\n  }\r\n\r\n  private stopSessionTimeout() {\r\n    if (this.sessionTimeoutTimer) {\r\n      window.clearTimeout(this.sessionTimeoutTimer)\r\n      this.sessionTimeoutTimer = undefined\r\n    }\r\n  }\r\n\r\n  private async performHeartbeat() {\r\n    // Use mutex to prevent concurrent heartbeat operations\r\n    if (this.isVerifying) {\r\n      return\r\n    }\r\n    \r\n    this.isVerifying = true\r\n    \r\n    try {\r\n      const token = this.getToken()\r\n      if (!token) {\r\n        this.forceLogout('No token found')\r\n        return\r\n      }\r\n\r\n      // Make a lightweight API call to verify token validity\r\n      const response = await fetch('/api/auth/verify', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n\r\n      if (!response.ok) {\r\n        if (response.status === 401) {\r\n          this.forceLogout('Invalid token')\r\n        }\r\n        return\r\n      }\r\n\r\n      // Reset session timeout on successful heartbeat\r\n      this.startSessionTimeout()\r\n      \r\n    } catch (error) {\r\n      console.warn('Heartbeat failed:', error)\r\n      // Don't force logout on network errors, just log\r\n    } finally {\r\n      this.isVerifying = false\r\n    }\r\n  }\r\n\r\n  public refreshSession() {\r\n    // Reset session timeout when user is active\r\n    if (this.isLoggedIn()) {\r\n      this.startSessionTimeout()\r\n    }\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nexport const sessionManager = new SessionManager()\r\n\r\n// Activity detection for session refresh\r\nconst ACTIVITY_EVENTS = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart']\r\nlet lastActivity = Date.now()\r\n\r\nACTIVITY_EVENTS.forEach(event => {\r\n  document.addEventListener(event, () => {\r\n    const now = Date.now()\r\n    // Only refresh session if there's been significant inactivity (> 1 minute)\r\n    if (now - lastActivity > 60000) {\r\n      sessionManager.refreshSession()\r\n    }\r\n    lastActivity = now\r\n  }, true)\r\n})\r\n\r\nexport default sessionManager","import { Client, IMessage, StompConfig } from '@stomp/stompjs'\nimport SockJS from 'sockjs-client'\n\nexport interface FlowExecutionUpdate {\n  type: 'FLOW_EXECUTION_UPDATE'\n  executionId: string\n  flowId: string\n  flowName: string\n  status: 'PENDING' | 'RUNNING' | 'COMPLETED' | 'FAILED' | 'CANCELLED'\n  progress: number\n  startedAt?: string\n  completedAt?: string\n  durationMs?: number\n  triggerType: string\n  triggeredBy: string\n  correlationId: string\n  retryAttempt: number\n  errorMessage?: string\n}\n\nexport interface FlowStepUpdate {\n  type: 'FLOW_STEP_UPDATE'\n  stepId: string\n  executionId: string\n  stepName: string\n  stepType: string\n  status: 'PENDING' | 'RUNNING' | 'COMPLETED' | 'FAILED' | 'CANCELLED'\n  stepOrder: number\n  startedAt?: string\n  completedAt?: string\n  durationMs?: number\n  progress: number\n  errorMessage?: string\n  outputSummary?: Record<string, any>\n}\n\nexport interface FlowValidationResult {\n  type: 'FLOW_VALIDATION_RESULT'\n  flowId: string\n  validation: {\n    valid: boolean\n    errors: string[]\n    warnings: string[]\n    errorCount: number\n    warningCount: number\n  }\n  timestamp: number\n}\n\nexport interface FlowDefinitionUpdate {\n  type: 'FLOW_DEFINITION_UPDATE'\n  flowId: string\n  flowName: string\n  updateType: 'CREATED' | 'UPDATED' | 'DELETED' | 'ENABLED' | 'DISABLED'\n  updatedBy: string\n  timestamp: number\n}\n\nexport interface SystemHealthUpdate {\n  type: 'SYSTEM_HEALTH_UPDATE'\n  health: Record<string, any>\n  timestamp: number\n}\n\nexport type WebSocketMessage = \n  | FlowExecutionUpdate \n  | FlowStepUpdate \n  | FlowValidationResult \n  | FlowDefinitionUpdate \n  | SystemHealthUpdate\n\nexport type MessageHandler = (message: WebSocketMessage) => void\n\nexport class WebSocketService {\n  private client: Client | null = null\n  private subscriptions: Map<string, MessageHandler[]> = new Map()\n  private isConnected = false\n  private reconnectAttempts = 0\n  private maxReconnectAttempts = 5\n  private reconnectInterval = 5000\n  private reconnectTimer?: ReturnType<typeof setTimeout>\n\n  constructor(private baseUrl?: string) {\n    this.baseUrl = baseUrl || this.getWebSocketUrl()\n  }\n\n  private getWebSocketUrl(): string {\n    // Always use HTTP/HTTPS URL for SockJS, not ws:// or wss://\n    // SockJS will handle the WebSocket protocol negotiation\n    return `${window.location.protocol}//${window.location.host}/ws`\n  }\n\n  private getAuthToken(): string | null {\n    return sessionStorage.getItem('h2h_token') || localStorage.getItem('h2h_token')\n  }\n\n  public connect(): Promise<void> {\n    if (this.isConnected) {\n      return Promise.resolve()\n    }\n\n    return new Promise((resolve, reject) => {\n      const token = this.getAuthToken()\n      if (!token) {\n        reject(new Error('No authentication token available'))\n        return\n      }\n\n      const stompConfig: StompConfig = {\n        webSocketFactory: () => new SockJS(this.baseUrl!),\n        connectHeaders: {\n          Authorization: `Bearer ${token}`,\n        },\n        heartbeatIncoming: 4000,\n        heartbeatOutgoing: 4000,\n        reconnectDelay: this.reconnectInterval,\n        logRawCommunication: import.meta.env.DEV,\n        debug: import.meta.env.DEV ? (str: string) => console.log('[STOMP Debug]', str) : () => {},\n        onConnect: (frame) => {\n          console.log('[WebSocket] Connected successfully', frame)\n          this.isConnected = true\n          this.reconnectAttempts = 0\n          this.clearReconnectTimer()\n          this.resubscribeAll()\n          resolve()\n        },\n        onStompError: (frame) => {\n          console.error('[WebSocket] STOMP error', frame)\n          this.isConnected = false\n          reject(new Error(`STOMP error: ${frame.body}`))\n        },\n        onWebSocketClose: (event) => {\n          console.warn('[WebSocket] Connection closed', event)\n          this.isConnected = false\n          this.handleReconnect()\n        },\n        onDisconnect: (receipt) => {\n          console.log('[WebSocket] Disconnected', receipt)\n          this.isConnected = false\n        },\n        onWebSocketError: (error) => {\n          console.error('[WebSocket] Connection error', error)\n          this.isConnected = false\n          this.handleReconnect()\n        }\n      }\n\n      this.client = new Client(stompConfig)\n      this.client.activate()\n    })\n  }\n\n  private handleReconnect(): void {\n    if (this.reconnectAttempts >= this.maxReconnectAttempts) {\n      console.error('[WebSocket] Maximum reconnection attempts reached')\n      return\n    }\n\n    this.reconnectAttempts++\n    console.log(`[WebSocket] Attempting to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})`)\n\n    this.reconnectTimer = setTimeout(() => {\n      this.connect().catch((error) => {\n        console.error('[WebSocket] Reconnection failed', error)\n      })\n    }, this.reconnectInterval * this.reconnectAttempts)\n  }\n\n  private clearReconnectTimer(): void {\n    if (this.reconnectTimer) {\n      clearTimeout(this.reconnectTimer)\n      this.reconnectTimer = undefined\n    }\n  }\n\n  private resubscribeAll(): void {\n    // Resubscribe to all topics when reconnected\n    const topics = Array.from(this.subscriptions.keys())\n    for (const topic of topics) {\n      this.subscribeToTopic(topic)\n    }\n  }\n\n  private subscribeToTopic(topic: string): void {\n    if (!this.client || !this.isConnected) {\n      console.warn(`[WebSocket] Cannot subscribe to ${topic}: not connected`)\n      return\n    }\n\n    this.client.subscribe(topic, (message: IMessage) => {\n      try {\n        const data = JSON.parse(message.body) as WebSocketMessage\n        // console.log(`[WebSocket] Received message on ${topic}:`, data)\n        \n        // Call all handlers for this topic\n        const handlers = this.subscriptions.get(topic) || []\n        for (const handler of handlers) {\n          try {\n            handler(data)\n          } catch (error) {\n            console.error(`[WebSocket] Handler error for topic ${topic}:`, error)\n          }\n        }\n      } catch (error) {\n        console.error(`[WebSocket] Failed to parse message on ${topic}:`, error)\n      }\n    })\n\n    // console.log(`[WebSocket] Subscribed to topic: ${topic}`)\n  }\n\n  public subscribe(topic: string, handler: MessageHandler): () => void {\n    // Add handler to subscription map\n    if (!this.subscriptions.has(topic)) {\n      this.subscriptions.set(topic, [])\n    }\n    this.subscriptions.get(topic)!.push(handler)\n\n    // Subscribe to topic if connected\n    if (this.isConnected) {\n      this.subscribeToTopic(topic)\n    }\n\n    // console.log(`[WebSocket] Added handler for topic: ${topic}`)\n\n    // Return unsubscribe function\n    return () => {\n      const handlers = this.subscriptions.get(topic)\n      if (handlers) {\n        const index = handlers.indexOf(handler)\n        if (index > -1) {\n          handlers.splice(index, 1)\n          if (handlers.length === 0) {\n            this.subscriptions.delete(topic)\n            // Note: We don't unsubscribe from STOMP as other components might still need it\n          }\n        }\n      }\n      // console.log(`[WebSocket] Removed handler for topic: ${topic}`)\n    }\n  }\n\n  // Convenience methods for common subscriptions\n  public subscribeToFlowExecutions(handler: (update: FlowExecutionUpdate) => void): () => void {\n    return this.subscribe('/topic/flow-executions', (message) => {\n      if (message.type === 'FLOW_EXECUTION_UPDATE') {\n        handler(message as FlowExecutionUpdate)\n      }\n    })\n  }\n\n  public subscribeToSpecificFlowExecutions(flowId: string, handler: (update: FlowExecutionUpdate) => void): () => void {\n    return this.subscribe(`/topic/flow/${flowId}/executions`, (message) => {\n      if (message.type === 'FLOW_EXECUTION_UPDATE') {\n        handler(message as FlowExecutionUpdate)\n      }\n    })\n  }\n\n  public subscribeToSpecificExecution(executionId: string, handler: (update: FlowExecutionUpdate | FlowStepUpdate) => void): () => void {\n    return this.subscribe(`/topic/execution/${executionId}`, (message) => {\n      if (message.type === 'FLOW_EXECUTION_UPDATE' || message.type === 'FLOW_STEP_UPDATE') {\n        handler(message as FlowExecutionUpdate | FlowStepUpdate)\n      }\n    })\n  }\n\n  public subscribeToExecutionSteps(executionId: string, handler: (update: FlowStepUpdate) => void): () => void {\n    return this.subscribe(`/topic/execution/${executionId}/steps`, (message) => {\n      if (message.type === 'FLOW_STEP_UPDATE') {\n        handler(message as FlowStepUpdate)\n      }\n    })\n  }\n\n  public subscribeToFlowDefinitionUpdates(handler: (update: FlowDefinitionUpdate) => void): () => void {\n    return this.subscribe('/topic/flow-definitions', (message) => {\n      if (message.type === 'FLOW_DEFINITION_UPDATE') {\n        handler(message as FlowDefinitionUpdate)\n      }\n    })\n  }\n\n  public subscribeToFlowValidation(flowId: string, handler: (result: FlowValidationResult) => void): () => void {\n    return this.subscribe(`/topic/flow/${flowId}/validation`, (message) => {\n      if (message.type === 'FLOW_VALIDATION_RESULT') {\n        handler(message as FlowValidationResult)\n      }\n    })\n  }\n\n  public subscribeToSystemHealth(handler: (update: SystemHealthUpdate) => void): () => void {\n    return this.subscribe('/topic/system-health', (message) => {\n      if (message.type === 'SYSTEM_HEALTH_UPDATE') {\n        handler(message as SystemHealthUpdate)\n      }\n    })\n  }\n\n  public disconnect(): void {\n    this.clearReconnectTimer()\n    this.isConnected = false\n    this.subscriptions.clear()\n    \n    if (this.client) {\n      this.client.deactivate()\n      this.client = null\n    }\n    \n    console.log('[WebSocket] Disconnected and cleaned up')\n  }\n\n  public isConnectionActive(): boolean {\n    return this.isConnected && this.client?.connected === true\n  }\n\n  public getConnectionStatus(): 'connected' | 'connecting' | 'disconnected' | 'reconnecting' {\n    if (!this.client) return 'disconnected'\n    if (this.isConnected && this.client.connected) return 'connected'\n    if (this.reconnectAttempts > 0) return 'reconnecting'\n    if (this.client.active) return 'connecting'\n    return 'disconnected'\n  }\n}\n\n// Global WebSocket service instance\nlet webSocketService: WebSocketService | null = null\n\nexport function getWebSocketService(): WebSocketService {\n  if (!webSocketService) {\n    webSocketService = new WebSocketService()\n  }\n  return webSocketService\n}\n\n// Initialize WebSocket connection when user is authenticated\nexport function initializeWebSocket(): Promise<void> {\n  const service = getWebSocketService()\n  return service.connect()\n}\n\n// Cleanup WebSocket connection\nexport function disconnectWebSocket(): void {\n  if (webSocketService) {\n    webSocketService.disconnect()\n    webSocketService = null\n  }\n}","import { create } from 'zustand'\nimport { persist } from 'zustand/middleware'\nimport { sessionManager } from '@/lib/session'\nimport { initializeWebSocket, disconnectWebSocket } from '@/services/websocket'\n\nexport interface User {\n  id: string\n  username: string\n  firstName: string\n  lastName: string\n  email: string\n  role: 'ADMINISTRATOR' | 'VIEWER'\n  enabled: boolean\n  createdAt: string\n  lastLogin?: string\n}\n\ninterface AuthState {\n  user: User | null\n  token: string | null\n  isAuthenticated: boolean\n  isLoading: boolean\n  hasInitialized: boolean\n  persistLogin: boolean\n  \n  // Actions\n  setAuth: (user: User, token: string, persistLogin?: boolean) => void\n  clearAuth: () => void\n  setLoading: (loading: boolean) => void\n  setInitialized: (initialized: boolean) => void\n  updateUser: (user: User) => void\n  setPersistLogin: (persist: boolean) => void\n}\n\n// Helper function to initialize auth state from localStorage immediately\nconst getInitialAuthState = () => {\n  try {\n    const persistLogin = localStorage.getItem('h2h_persist_login') === 'true'\n    \n    const token = sessionManager.getToken()\n    const user = sessionManager.getUser()\n    \n    // Check if token is locally valid (not expired)\n    let isTokenLocallyValid = false\n    if (token) {\n      try {\n        const payload = JSON.parse(atob(token.split('.')[1]))\n        const now = Date.now() / 1000\n        isTokenLocallyValid = payload.exp > now\n      } catch (error) {\n        // Token parsing failed, will be treated as invalid\n      }\n    }\n    \n    // Based on research: Set isAuthenticated to true if we have valid tokens\n    // This prevents the immediate redirect during page refresh\n    const hasValidLocalAuth = !!(token && user && isTokenLocallyValid)\n    \n    return {\n      user,\n      token,\n      // KEY FIX: Set to true if we have valid tokens to prevent redirect\n      isAuthenticated: hasValidLocalAuth,\n      persistLogin,\n      hasInitialized: false, // useAuthInit will still run for backend verification\n      isLoading: false, // Don't show loading if we have tokens\n    }\n  } catch (error) {\n    console.warn('Failed to initialize auth state from storage:', error)\n    return {\n      user: null,\n      token: null,\n      isAuthenticated: false,\n      persistLogin: false,\n      hasInitialized: false,\n      isLoading: true,\n    }\n  }\n}\n\nexport const useAuthStore = create<AuthState>()(\n  persist(\n    (set, get) => ({\n      ...getInitialAuthState(), // Initialize from storage immediately\n      \n      setAuth: (user: User, token: string, persistLogin = false) => {\n        set({\n          user,\n          token,\n          isAuthenticated: true,\n          isLoading: false,\n          hasInitialized: true,\n          persistLogin,\n        })\n        // Use session manager for token storage\n        sessionManager.setToken(token, user, persistLogin)\n        \n        // Initialize WebSocket connection when user logs in\n        initializeWebSocket().catch((error) => {\n          console.warn('[Auth Store] Failed to initialize WebSocket:', error)\n        })\n      },\n      \n      clearAuth: () => {\n        set({\n          user: null,\n          token: null,\n          isAuthenticated: false,\n          isLoading: false,\n          hasInitialized: true,\n          persistLogin: false,\n        })\n        // Don't call sessionManager.logout() here - it causes redirect loop\n        // Just clear local state; actual logout should handle redirect\n        \n        // Disconnect WebSocket when user logs out\n        disconnectWebSocket()\n      },\n      \n      setLoading: (loading: boolean) => {\n        set({ isLoading: loading })\n      },\n      \n      setInitialized: (initialized: boolean) => {\n        set({ hasInitialized: initialized, isLoading: false })\n      },\n      \n      updateUser: (user: User) => {\n        set({ user })\n        // Update user in session manager\n        const currentToken = get().token\n        if (currentToken) {\n          sessionManager.setToken(currentToken, user, get().persistLogin)\n        }\n      },\n      \n      setPersistLogin: (persist: boolean) => {\n        set({ persistLogin: persist })\n      },\n    }),\n    {\n      name: 'h2h-auth',\n      partialize: (state) => ({\n        // Only persist basic auth state, let sessionManager handle tokens\n        persistLogin: state.persistLogin,\n      }),\n    }\n  )\n)","import axios from 'axios'\r\n\r\n// Determine API base URL - production ready\r\nconst getApiBaseUrl = () => {\r\n  // If VITE_API_URL is explicitly set and not empty, use it\r\n  if (import.meta.env.VITE_API_URL && import.meta.env.VITE_API_URL.trim() !== '') {\r\n    return import.meta.env.VITE_API_URL\r\n  }\r\n  \r\n  // Production: Use same origin as frontend\r\n  return window.location.origin\r\n}\r\n\r\nconst API_BASE_URL = getApiBaseUrl()\r\n\r\n// Create axios instance with interceptors\r\nexport const api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 30000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n})\r\n\r\n// Request interceptor to add auth token\r\napi.interceptors.request.use((config) => {\r\n  // Try sessionStorage first (cleared on browser close), fallback to localStorage\r\n  const token = sessionStorage.getItem('h2h_token') || localStorage.getItem('h2h_token')\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`\r\n  }\r\n  return config\r\n})\r\n\r\n// Response interceptor for error handling  \r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      const url = error.config?.url || ''\r\n      console.warn('[API] 401 response received:', {\r\n        url,\r\n        method: error.config?.method,\r\n      })\r\n      \r\n      // TEMPORARILY DISABLED - Don't aggressively clear tokens on 401\r\n      // This was causing refresh loops. Let the auth initialization handle token validation\r\n      // if (!url.includes('/auth/login') && !url.includes('/auth/verify')) {\r\n      //   sessionStorage.removeItem('h2h_token')\r\n      //   sessionStorage.removeItem('h2h_user')  \r\n      //   localStorage.removeItem('h2h_token')\r\n      //   localStorage.removeItem('h2h_user')\r\n      // }\r\n    }\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// Auth API endpoints\r\nexport const authApi = {\r\n  login: async (credentials: { username: string; password: string; rememberMe?: boolean }) => {\r\n    const response = await api.post('/api/auth/login', credentials)\r\n    return response.data\r\n  },\r\n  \r\n  refreshToken: async (refreshToken: string) => {\r\n    const response = await api.post('/api/auth/refresh', { refreshToken })\r\n    return response.data\r\n  },\r\n  \r\n  verifyToken: async () => {\r\n    const response = await api.get('/api/auth/verify')\r\n    return response.data\r\n  },\r\n  \r\n  logout: async () => {\r\n    const response = await api.post('/api/auth/logout')\r\n    return response.data\r\n  },\r\n}\r\n\r\n// User API endpoints\r\nexport const userApi = {\r\n  getCurrentUser: async () => {\r\n    const response = await api.get('/api/users/me')\r\n    return response.data\r\n  },\r\n  \r\n  getAllUsers: async () => {\r\n    const response = await api.get('/api/users')\r\n    return response.data\r\n  },\r\n  \r\n  createUser: async (userData: any) => {\r\n    const response = await api.post('/api/users', userData)\r\n    return response.data\r\n  },\r\n  \r\n  updateUser: async (userId: string, userData: any) => {\r\n    const response = await api.put(`/api/users/${userId}`, userData)\r\n    return response.data\r\n  },\r\n  \r\n  deleteUser: async (userId: string) => {\r\n    const response = await api.delete(`/api/users/${userId}`)\r\n    return response.data\r\n  },\r\n  \r\n  changePassword: async (userId: string, currentPassword: string, newPassword: string) => {\r\n    const response = await api.put(`/api/users/${userId}/password`, {\r\n      currentPassword,\r\n      newPassword\r\n    })\r\n    return response.data\r\n  },\r\n}\r\n\r\n// Dashboard API endpoints\r\nexport const dashboardApi = {\r\n  getSystemHealth: async () => {\r\n    const response = await api.get('/api/dashboard/health')\r\n    return response.data\r\n  },\r\n  \r\n  getAdapterStatistics: async () => {\r\n    const response = await api.get('/api/dashboard/adapter-stats')\r\n    return response.data\r\n  },\r\n  \r\n  getRecentExecutions: async (limit = 10) => {\r\n    const response = await api.get(`/api/dashboard/recent-executions?limit=${limit}`)\r\n    return response.data\r\n  },\r\n}\r\n\r\n// Configuration API endpoints\r\nexport const configApi = {\r\n  getDashboardIntervals: async () => {\r\n    const response = await api.get('/api/configuration/dashboard/intervals')\r\n    return response.data\r\n  },\r\n  \r\n  getAllConfigurations: async () => {\r\n    const response = await api.get('/api/configuration/all')\r\n    return response.data\r\n  },\r\n  \r\n  getConfigurationsByCategory: async (category: string) => {\r\n    const response = await api.get(`/api/configuration/category/${category}`)\r\n    return response.data\r\n  },\r\n  \r\n  updateConfigurationValue: async (configKey: string, value: string) => {\r\n    const response = await api.put(`/api/configuration/key/${configKey}/value`, { value })\r\n    return response.data\r\n  },\r\n  \r\n  resetConfigurationToDefault: async (configKey: string) => {\r\n    const response = await api.put(`/api/configuration/key/${configKey}/reset`)\r\n    return response.data\r\n  },\r\n  \r\n  getConfigurationMetadata: async () => {\r\n    const response = await api.get('/api/configuration/metadata')\r\n    return response.data\r\n  },\r\n  \r\n  getConfigurationStatistics: async () => {\r\n    const response = await api.get('/api/configuration/statistics')\r\n    return response.data\r\n  },\r\n}\r\n\r\n// Adapter API endpoints  \r\nexport const adapterApi = {\r\n  getAllAdapters: async () => {\r\n    const response = await api.get('/api/adapters')\r\n    return response.data\r\n  },\r\n  \r\n  getAdapter: async (id: string) => {\r\n    const response = await api.get(`/api/adapters/${id}`)\r\n    return response.data\r\n  },\r\n  \r\n  createAdapter: async (adapterData: any) => {\r\n    const response = await api.post('/api/adapters', adapterData)\r\n    return response.data\r\n  },\r\n  \r\n  updateAdapter: async (id: string, adapterData: any) => {\r\n    const response = await api.put(`/api/adapters/${id}`, adapterData)\r\n    return response.data\r\n  },\r\n  \r\n  deleteAdapter: async (id: string) => {\r\n    const response = await api.delete(`/api/adapters/${id}`)\r\n    return response.data\r\n  },\r\n  \r\n  testAdapter: async (id: string) => {\r\n    const response = await api.post(`/api/adapters/${id}/test`)\r\n    return response.data\r\n  },\r\n  \r\n  executeAdapter: async (id: string) => {\r\n    const response = await api.post(`/api/adapters/${id}/execute`)\r\n    return response.data\r\n  },\r\n\r\n  // Adapter Control APIs for monitoring\r\n  startAdapter: async (id: string) => {\r\n    const response = await api.post(`/api/adapters/${id}/start`)\r\n    return response.data\r\n  },\r\n\r\n  stopAdapter: async (id: string) => {\r\n    const response = await api.post(`/api/adapters/${id}/stop`)\r\n    return response.data\r\n  },\r\n\r\n  getAdapterStatus: async (id: string) => {\r\n    const response = await api.get(`/api/adapters/${id}/status`)\r\n    return response.data\r\n  },\r\n\r\n  getAdapterLogs: async (params?: { filter?: string; level?: string; adapterId?: string }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.filter) searchParams.append('filter', params.filter)\r\n    if (params?.level && params.level !== 'all') searchParams.append('level', params.level)\r\n    if (params?.adapterId) searchParams.append('adapterId', params.adapterId)\r\n    \r\n    const url = `/api/adapters/logs${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url)\r\n    return response.data\r\n  },\r\n\r\n  // Adapter execution history - get recent executions for specific adapter\r\n  getAdapterExecutionHistory: async (id: string, params?: { limit?: number }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.limit) searchParams.append('limit', params.limit.toString())\r\n    \r\n    const url = `/api/adapters/${id}/executions${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url)\r\n    return response.data\r\n  },\r\n}\r\n\r\n// Interface API endpoints (for flows - where adapters act as interfaces)\r\nexport const interfaceApi = {\r\n  getAllInterfaces: async () => {\r\n    const response = await api.get('/api/interfaces')\r\n    return response.data\r\n  },\r\n  \r\n  getInterface: async (id: string) => {\r\n    const response = await api.get(`/api/interfaces/${id}`)\r\n    return response.data\r\n  },\r\n  \r\n  createInterface: async (interfaceData: any) => {\r\n    const response = await api.post('/api/interfaces', interfaceData)\r\n    return response.data\r\n  },\r\n  \r\n  updateInterface: async (id: string, interfaceData: any) => {\r\n    const response = await api.put(`/api/interfaces/${id}`, interfaceData)\r\n    return response.data\r\n  },\r\n  \r\n  deleteInterface: async (id: string) => {\r\n    const response = await api.delete(`/api/interfaces/${id}`)\r\n    return response.data\r\n  },\r\n  \r\n  testInterface: async (id: string) => {\r\n    const response = await api.post(`/api/interfaces/${id}/test`)\r\n    return response.data\r\n  },\r\n  \r\n  executeInterface: async (id: string) => {\r\n    const response = await api.post(`/api/interfaces/${id}/execute`)\r\n    return response.data\r\n  },\r\n}\r\n\r\n// File Adapter API endpoints\r\nexport const fileAdapterApi = {\r\n  execute: async (adapterId: string, operation: string, parameters: any) => {\r\n    const response = await api.post(`/api/file-adapters/${adapterId}/execute`, {\r\n      operation,\r\n      parameters,\r\n    })\r\n    return response.data\r\n  },\r\n  \r\n  test: async (adapterId: string) => {\r\n    const response = await api.post(`/api/file-adapters/${adapterId}/test`)\r\n    return response.data\r\n  },\r\n  \r\n  getExecutionHistory: async (adapterId: string, limit = 50) => {\r\n    const response = await api.get(`/api/file-adapters/${adapterId}/executions?limit=${limit}`)\r\n    return response.data\r\n  },\r\n}\r\n\r\n// SFTP Adapter API endpoints\r\nexport const sftpAdapterApi = {\r\n  execute: async (adapterId: string, operation: string, parameters: any) => {\r\n    const response = await api.post(`/api/sftp-adapters/${adapterId}/execute`, {\r\n      operation,\r\n      parameters,\r\n    })\r\n    return response.data\r\n  },\r\n  \r\n  test: async (adapterId: string) => {\r\n    const response = await api.post(`/api/sftp-adapters/${adapterId}/test`)\r\n    return response.data\r\n  },\r\n  \r\n  upload: async (adapterId: string, files: string[]) => {\r\n    const response = await api.post(`/api/sftp-adapters/${adapterId}/upload`, { files })\r\n    return response.data\r\n  },\r\n  \r\n  download: async (adapterId: string, files: string[]) => {\r\n    const response = await api.post(`/api/sftp-adapters/${adapterId}/download`, { files })\r\n    return response.data\r\n  },\r\n}\r\n\r\n// Email Adapter API endpoints\r\nexport const emailAdapterApi = {\r\n  execute: async (adapterId: string, operation: string, parameters: any) => {\r\n    const response = await api.post(`/api/email-adapters/${adapterId}/execute`, {\r\n      operation,\r\n      parameters,\r\n    })\r\n    return response.data\r\n  },\r\n  \r\n  sendEmail: async (adapterId: string, emailData: any) => {\r\n    const response = await api.post(`/api/email-adapters/${adapterId}/send`, emailData)\r\n    return response.data\r\n  },\r\n  \r\n  sendNotification: async (adapterId: string, notificationData: any) => {\r\n    const response = await api.post(`/api/email-adapters/${adapterId}/notify`, notificationData)\r\n    return response.data\r\n  },\r\n  \r\n  test: async (adapterId: string) => {\r\n    const response = await api.post(`/api/email-adapters/${adapterId}/test`)\r\n    return response.data\r\n  },\r\n}\r\n\r\n// SSH Key Management API endpoints\r\nexport const sshKeyApi = {\r\n  getAllKeys: async () => {\r\n    const response = await api.get('/api/ssh-keys')\r\n    return response.data.data || []\r\n  },\r\n  \r\n  generateRSAKey: async (keyData: any) => {\r\n    const response = await api.post('/api/ssh-keys/generate/rsa', keyData)\r\n    return response.data\r\n  },\r\n  \r\n  generateDSAKey: async (keyData: any) => {\r\n    const response = await api.post('/api/ssh-keys/generate/dsa', keyData)\r\n    return response.data\r\n  },\r\n  \r\n  importKey: async (keyData: any) => {\r\n    const response = await api.post('/api/ssh-keys/import', keyData)\r\n    return response.data\r\n  },\r\n  \r\n  downloadPrivateKey: async (keyId: string) => {\r\n    const response = await api.get(`/api/ssh-keys/${keyId}/download/private`, {\r\n      responseType: 'blob',\r\n    })\r\n    return response.data\r\n  },\r\n  \r\n  downloadPublicKey: async (keyId: string) => {\r\n    const response = await api.get(`/api/ssh-keys/${keyId}/download/public`, {\r\n      responseType: 'blob',\r\n    })\r\n    return response.data\r\n  },\r\n  \r\n  updateKey: async (keyId: string, keyData: any) => {\r\n    const response = await api.put(`/api/ssh-keys/${keyId}`, keyData)\r\n    return response.data\r\n  },\r\n  \r\n  toggleKeyStatus: async (keyId: string, enabled: boolean) => {\r\n    const response = await api.put(`/api/ssh-keys/${keyId}/status`, { enabled })\r\n    return response.data\r\n  },\r\n  \r\n  deleteKey: async (keyId: string) => {\r\n    const response = await api.delete(`/api/ssh-keys/${keyId}`)\r\n    return response.data\r\n  },\r\n}\r\n\r\n// PGP Key Management API endpoints\r\nexport const pgpKeyApi = {\r\n  getAllKeys: async () => {\r\n    const response = await api.get('/api/admin/pgp-keys')\r\n    return response.data\r\n  },\r\n  \r\n  getKeyById: async (keyId: string) => {\r\n    const response = await api.get(`/api/admin/pgp-keys/${keyId}`)\r\n    return response.data\r\n  },\r\n  \r\n  generateKey: async (keyData: any) => {\r\n    const response = await api.post('/api/admin/pgp-keys/generate', keyData)\r\n    return response.data\r\n  },\r\n  \r\n  importKey: async (keyData: any) => {\r\n    const response = await api.post('/api/admin/pgp-keys/import', keyData)\r\n    return response.data\r\n  },\r\n  \r\n  exportPublicKey: async (keyId: string) => {\r\n    const response = await api.get(`/api/admin/pgp-keys/${keyId}/export/public`, {\r\n      responseType: 'text',\r\n    })\r\n    return response.data\r\n  },\r\n  \r\n  exportPrivateKey: async (keyId: string) => {\r\n    const response = await api.get(`/api/admin/pgp-keys/${keyId}/export/private`, {\r\n      responseType: 'text',\r\n    })\r\n    return response.data\r\n  },\r\n  \r\n  revokeKey: async (keyId: string, reason: string) => {\r\n    const response = await api.post(`/api/admin/pgp-keys/${keyId}/revoke`, { reason })\r\n    return response.data\r\n  },\r\n  \r\n  deleteKey: async (keyId: string) => {\r\n    const response = await api.delete(`/api/admin/pgp-keys/${keyId}`)\r\n    return response.data\r\n  },\r\n  \r\n  getExpiredKeys: async () => {\r\n    const response = await api.get('/api/admin/pgp-keys/expired')\r\n    return response.data\r\n  },\r\n}\r\n\r\n\r\n\r\n// Flow Configuration API endpoints\r\nexport const flowApi = {\r\n  getAllFlows: async () => {\r\n    const response = await api.get('/api/flows')\r\n    return response.data\r\n  },\r\n\r\n  getFlowById: async (id: string) => {\r\n    const response = await api.get(`/api/flows/${id}`)\r\n    return response.data\r\n  },\r\n\r\n  createFlow: async (flowData: any) => {\r\n    const response = await api.post('/api/flows', flowData)\r\n    return response.data\r\n  },\r\n\r\n  updateFlow: async (id: string, flowData: any) => {\r\n    try {\r\n      const response = await api.put(`/api/flows/${id}`, flowData)\r\n      return response.data\r\n    } catch (error: any) {\r\n      console.error(' Frontend: Flow update failed:', error)\r\n      // Improve error message for user experience\r\n      if (error.response?.data?.message) {\r\n        const backendMessage = error.response.data.message\r\n        if (backendMessage.includes('deployed')) {\r\n          throw new Error(backendMessage) // Use the improved backend message\r\n        }\r\n      }\r\n      throw error\r\n    }\r\n  },\r\n\r\n  deleteFlow: async (id: string) => {\r\n    const response = await api.delete(`/api/flows/${id}`)\r\n    return response.data\r\n  },\r\n\r\n  executeFlow: async (id: string) => {\r\n    const response = await api.post(`/api/flows/${id}/execute`)\r\n    return response.data\r\n  },\r\n\r\n  exportFlow: async (id: string) => {\r\n    const response = await api.get(`/api/flows/${id}/export`)\r\n    return response.data\r\n  },\r\n\r\n  importFlow: async (flowData: any) => {\r\n    const response = await api.post('/api/flows/import', flowData)\r\n    return response.data\r\n  },\r\n\r\n  getStatistics: async () => {\r\n    const response = await api.get('/api/flows/statistics')\r\n    return response.data\r\n  },\r\n\r\n  validateFlow: async (id: string) => {\r\n    try {\r\n      const response = await api.post(`/api/flows/${id}/validate`)\r\n      return response.data\r\n    } catch (error: any) {\r\n      console.error(' Frontend: Flow validation failed:', error)\r\n      console.error(' Frontend: Validation error response:', error.response?.data)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  setFlowActive: async (id: string, active: boolean) => {\r\n    const response = await api.put(`/api/flows/${id}/active?active=${active}`)\r\n    return response.data\r\n  },\r\n\r\n  // Deployment API functions\r\n  deployFlow: async (id: string) => {\r\n    try {\r\n      const response = await api.post(`/api/flows/${id}/deploy`)\r\n      return response.data\r\n    } catch (error: any) {\r\n      console.error(' Frontend: Flow deployment failed:', error)\r\n      console.error(' Frontend: Error response:', error.response?.data)\r\n      console.error(' Frontend: Error status:', error.response?.status)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  undeployFlow: async (id: string) => {\r\n    const response = await api.post(`/api/flows/${id}/undeploy`)\r\n    return response.data\r\n  },\r\n\r\n  getFlowDeploymentStatus: async (id: string) => {\r\n    const response = await api.get(`/api/flows/${id}/deployment`)\r\n    return response.data\r\n  },\r\n\r\n  validateFlowDeployment: async (id: string) => {\r\n    const response = await api.post(`/api/flows/${id}/validate-deployment`)\r\n    return response.data\r\n  }\r\n}\r\n\r\n// End-to-End Flows API endpoints\r\nexport const endToEndFlowApi = {\r\n  getAllFlows: async () => {\r\n    const response = await api.get('/api/end-to-end-flows')\r\n    return response.data\r\n  },\r\n\r\n  getFlowById: async (id: string) => {\r\n    const response = await api.get(`/api/end-to-end-flows/${id}`)\r\n    return response.data\r\n  },\r\n\r\n  createFlow: async (flowData: any) => {\r\n    const response = await api.post('/api/end-to-end-flows', flowData)\r\n    return response.data\r\n  },\r\n\r\n  updateFlow: async (id: string, flowData: any) => {\r\n    const response = await api.put(`/api/end-to-end-flows/${id}`, flowData)\r\n    return response.data\r\n  },\r\n\r\n  deleteFlow: async (id: string) => {\r\n    const response = await api.delete(`/api/end-to-end-flows/${id}`)\r\n    return response.data\r\n  },\r\n\r\n  executeFlow: async (id: string) => {\r\n    const response = await api.post(`/api/end-to-end-flows/${id}/execute`)\r\n    return response.data\r\n  },\r\n\r\n  configureFlow: async (id: string, config: any) => {\r\n    const response = await api.put(`/api/end-to-end-flows/${id}/config`, config)\r\n    return response.data\r\n  }\r\n}\r\n\r\n// Execution Management API endpoints\r\nexport const executionApi = {\r\n  getAllExecutions: async (params?: { \r\n    page?: number; \r\n    size?: number; \r\n    status?: string; \r\n    flowId?: string; \r\n    dateFrom?: string; \r\n    dateTo?: string;\r\n  }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.page) searchParams.append('page', params.page.toString())\r\n    if (params?.size) searchParams.append('size', params.size.toString())\r\n    if (params?.status) searchParams.append('status', params.status)\r\n    if (params?.flowId) searchParams.append('flowId', params.flowId)\r\n    if (params?.dateFrom) searchParams.append('dateFrom', params.dateFrom)\r\n    if (params?.dateTo) searchParams.append('dateTo', params.dateTo)\r\n    \r\n    const url = `/api/executions${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url)\r\n    return response.data\r\n  },\r\n\r\n  getExecutionById: async (id: string) => {\r\n    const response = await api.get(`/api/executions/${id}`)\r\n    return response.data\r\n  },\r\n\r\n  getExecutionSteps: async (id: string) => {\r\n    const response = await api.get(`/api/executions/${id}/steps`)\r\n    return response.data\r\n  },\r\n\r\n  retryExecution: async (id: string) => {\r\n    const response = await api.post(`/api/executions/${id}/retry`)\r\n    return response.data\r\n  },\r\n\r\n  cancelExecution: async (id: string) => {\r\n    const response = await api.post(`/api/executions/${id}/cancel`)\r\n    return response.data\r\n  },\r\n\r\n  getRunningExecutions: async () => {\r\n    const response = await api.get('/api/executions/running')\r\n    return response.data\r\n  },\r\n\r\n  getFailedExecutions: async () => {\r\n    const response = await api.get('/api/executions/failed')\r\n    return response.data\r\n  },\r\n\r\n  getExecutionStatistics: async () => {\r\n    const response = await api.get('/api/executions/statistics')\r\n    return response.data\r\n  },\r\n\r\n  getExecutionPerformance: async () => {\r\n    const response = await api.get('/api/executions/performance')\r\n    return response.data\r\n  },\r\n\r\n  getExecutionsByFlow: async (flowId: string, params?: { page?: number; size?: number; status?: string }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.page) searchParams.append('page', params.page.toString())\r\n    if (params?.size) searchParams.append('size', params.size.toString())\r\n    if (params?.status) searchParams.append('status', params.status)\r\n    \r\n    const url = `/api/flows/${flowId}/executions${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url)\r\n    return response.data\r\n  },\r\n\r\n  // Flow execution logging APIs\r\n  getExecutionLogs: async (executionId: string, params?: { filter?: string; level?: string }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.filter) searchParams.append('filter', params.filter)\r\n    if (params?.level && params.level !== 'all') searchParams.append('level', params.level)\r\n    \r\n    const url = `/api/executions/${executionId}/logs${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url)\r\n    return response.data\r\n  }\r\n}\r\n\r\n// Transaction Logs API endpoints\r\nexport const transactionLogsApi = {\r\n  getRecentLogs: async (params?: { \r\n    limit?: number; \r\n    level?: string; \r\n    category?: string;\r\n    search?: string;\r\n  }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.limit) searchParams.append('limit', params.limit.toString())\r\n    if (params?.level && params.level !== 'ALL') searchParams.append('level', params.level)\r\n    if (params?.category && params.category !== 'ALL') searchParams.append('category', params.category)\r\n    if (params?.search) searchParams.append('search', params.search)\r\n    \r\n    const url = `/api/transaction-logs/recent${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url)\r\n    return response.data\r\n  },\r\n\r\n  exportLogs: async (params?: { \r\n    limit?: number; \r\n    level?: string; \r\n    category?: string;\r\n    format?: string;\r\n  }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.limit) searchParams.append('limit', params.limit.toString())\r\n    if (params?.level && params.level !== 'ALL') searchParams.append('level', params.level)\r\n    if (params?.category && params.category !== 'ALL') searchParams.append('category', params.category)\r\n    if (params?.format) searchParams.append('format', params.format)\r\n    \r\n    const url = `/api/transaction-logs/export${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url, { responseType: 'blob' })\r\n    return response.data\r\n  }\r\n}\r\n\r\n// Environment Configuration API\r\nexport const environmentApi = {\r\n  getCurrentEnvironment: async () => {\r\n    const response = await api.get('/api/system/environment')\r\n    return response.data\r\n  },\r\n\r\n  updateEnvironment: async (data: {\r\n    type?: string;\r\n    enforceRestrictions?: boolean;\r\n    restrictionMessage?: string;\r\n  }) => {\r\n    const response = await api.put('/api/system/environment', data)\r\n    return response.data\r\n  },\r\n\r\n  getEnvironmentTypes: async () => {\r\n    const response = await api.get('/api/system/environment/types')\r\n    return response.data\r\n  },\r\n\r\n  checkPermission: async (action: string) => {\r\n    const response = await api.get(`/api/system/environment/permissions/${action}`)\r\n    return response.data\r\n  }\r\n}\r\n\r\n// System Logs API endpoints\r\nexport const systemLogsApi = {\r\n  getRecentLogs: async (params?: { \r\n    limit?: number; \r\n    level?: string; \r\n    search?: string;\r\n    page?: number;\r\n    size?: number;\r\n  }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.limit) searchParams.append('limit', params.limit.toString())\r\n    if (params?.level && params.level !== 'ALL') searchParams.append('level', params.level)\r\n    if (params?.search) searchParams.append('search', params.search)\r\n    if (params?.page !== undefined) searchParams.append('page', params.page.toString())\r\n    if (params?.size) searchParams.append('size', params.size.toString())\r\n    \r\n    const url = `/api/logs/system${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url)\r\n    return response.data\r\n  },\r\n\r\n  exportLogs: async (params?: { \r\n    limit?: number; \r\n    level?: string; \r\n    category?: string;\r\n    format?: string;\r\n  }) => {\r\n    const searchParams = new URLSearchParams()\r\n    if (params?.limit) searchParams.append('limit', params.limit.toString())\r\n    if (params?.level && params.level !== 'ALL') searchParams.append('level', params.level)\r\n    if (params?.category && params.category !== 'ALL') searchParams.append('category', params.category)\r\n    if (params?.format) searchParams.append('format', params.format)\r\n    \r\n    const url = `/api/logs/system/export${searchParams.toString() ? `?${searchParams.toString()}` : ''}`\r\n    const response = await api.get(url, { responseType: 'blob' })\r\n    return response.data\r\n  }\r\n}\r\n\r\nexport default api","import { useEffect } from 'react'\nimport { useAuthStore } from '@/stores/auth'\nimport { sessionManager } from '@/lib/session'\nimport { authApi } from '@/lib/api'\nimport { initializeWebSocket, disconnectWebSocket } from '@/services/websocket'\n\n/**\n * Check if JWT token is still valid (not expired)\n */\nconst isTokenValid = (token: string): boolean => {\n  try {\n    const payload = JSON.parse(atob(token.split('.')[1]))\n    const now = Date.now() / 1000\n    return payload.exp > now\n  } catch (error) {\n    console.warn('[JWT] Failed to parse token:', error)\n    return false\n  }\n}\n\n/**\n * Hook to initialize authentication state on app startup\n * Restores session from storage and validates token\n */\nexport const useAuthInit = () => {\n  const { setAuth, setInitialized, hasInitialized } = useAuthStore()\n\n  useEffect(() => {\n    // Only run initialization once\n    if (hasInitialized) {\n      return\n    }\n\n    const initializeAuth = async () => {\n      try {\n        // Check if we have a token in storage\n        const token = sessionManager.getToken()\n        const user = sessionManager.getUser()\n\n        if (!token || !user) {\n          // No stored authentication\n          setInitialized(true)\n          return\n        }\n\n        // First, try to restore user from localStorage to avoid delay during network verification\n        const localUser = sessionManager.getUser()\n        if (localUser && token) {\n          const persistLogin = sessionManager.isPersistentLogin()\n          setAuth(localUser, token, persistLogin)\n        }\n\n        // Check token validity locally first (faster and more reliable)\n        if (!isTokenValid(token)) {\n          sessionManager.clearTokens()\n          setInitialized(true)\n          disconnectWebSocket()\n          return\n        }\n\n        // Backend verification to check for signature mismatches after app restart\n        // This handles cases where app restarted and JWT secret changed\n        try {\n          const response = await authApi.verifyToken()\n          if (!response || !response.valid) {\n            sessionManager.clearTokens()\n            setInitialized(true)\n            disconnectWebSocket()\n            return\n          }\n        } catch (error: any) {\n          if (error?.response?.status === 401) {\n            sessionManager.clearTokens()\n            setInitialized(true)\n            disconnectWebSocket()\n            return\n          }\n          // For other errors (network, etc), continue with local validation\n          console.warn('[useAuthInit] Backend verification failed (non-blocking):', error)\n        }\n\n        // Token is valid locally, restore authentication state\n        if (!localUser) {\n          // Fallback: restore from token if no localStorage user\n          const persistLogin = sessionManager.isPersistentLogin()\n          setAuth(user, token, persistLogin)\n        }\n\n        // Initialize WebSocket connection after successful auth\n        try {\n          await initializeWebSocket()\n        } catch (error) {\n          console.warn('[useAuthInit] WebSocket failed:', error)\n        }\n        \n        // Mark initialization complete\n        setInitialized(true)\n      } catch (error) {\n        console.error('[useAuthInit] Initialization failed:', error)\n        setInitialized(true)\n        disconnectWebSocket()\n      }\n    }\n\n    initializeAuth()\n  }, [setAuth, setInitialized, hasInitialized])\n}\n\nexport default useAuthInit","import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\nexport function formatDuration(milliseconds: number): string {\r\n  const seconds = Math.floor(milliseconds / 1000)\r\n  const minutes = Math.floor(seconds / 60)\r\n  const hours = Math.floor(minutes / 60)\r\n  \r\n  if (hours > 0) {\r\n    return `${hours}h ${minutes % 60}m ${seconds % 60}s`\r\n  } else if (minutes > 0) {\r\n    return `${minutes}m ${seconds % 60}s`\r\n  } else {\r\n    return `${seconds}s`\r\n  }\r\n}\r\n\r\nexport function formatFileSize(bytes: number): string {\r\n  const sizes = ['Bytes', 'KB', 'MB', 'GB']\r\n  if (bytes === 0) return '0 Bytes'\r\n  const i = Math.floor(Math.log(bytes) / Math.log(1024))\r\n  return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i]\r\n}","import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }","import React, { useState } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { \r\n  LayoutDashboard,\r\n  Settings,\r\n  Activity,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Boxes,\r\n  Workflow,\r\n  BarChart3,\r\n  Database\r\n} from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\nimport { useAuthStore } from '@/stores/auth'\r\nimport { Button } from '@/components/ui/button'\r\n\r\nconst navigation = [\r\n  { name: 'Dashboard', href: '/dashboard', icon: LayoutDashboard, section: 'main' },\r\n  { name: 'Adapters', href: '/adapters', icon: Boxes, adminOnly: true, section: 'integration' },\r\n  { name: 'Flow Management', href: '/flows', icon: Workflow, adminOnly: true, section: 'integration' },\r\n  { name: 'Adapter Monitoring', href: '/adapter-monitoring', icon: Activity, section: 'monitoring' },\r\n  { name: 'Flow Monitoring', href: '/flow-monitoring', icon: BarChart3, section: 'monitoring' },\r\n  { name: 'Administration', href: '/admin', icon: Database, adminOnly: true, section: 'system' },\r\n  { name: 'Settings', href: '/settings', icon: Settings, section: 'system' },\r\n]\r\n\r\nconst Sidebar: React.FC = () => {\r\n  const [collapsed, setCollapsed] = useState(false)\r\n  const { user } = useAuthStore()\r\n\r\n  const isAdmin = user?.role === 'ADMINISTRATOR'\r\n\r\n  const filteredNavigation = navigation.filter(item => \r\n    !item.adminOnly || isAdmin\r\n  )\r\n\r\n  return (\r\n    <div className={cn(\r\n      \"h-full min-h-full bg-card/80 backdrop-blur-md border-r border-border transition-all duration-300 ease-in-out\",\r\n      collapsed ? \"w-16\" : \"w-64\"\r\n    )}>\r\n      <div className=\"flex flex-col h-full min-h-full\">\r\n        <div className=\"p-4 border-b border-border\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => setCollapsed(!collapsed)}\r\n            className=\"ml-auto flex transition-all duration-300 hover:scale-110 hover:bg-accent/50\"\r\n          >\r\n            {collapsed ? (\r\n              <ChevronRight className=\"h-4 w-4 transition-transform duration-300\" />\r\n            ) : (\r\n              <ChevronLeft className=\"h-4 w-4 transition-transform duration-300\" />\r\n            )}\r\n          </Button>\r\n        </div>\r\n\r\n        <nav className=\"flex-1 p-4 space-y-1\">\r\n          {!collapsed && (\r\n            <div className=\"px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider\">\r\n              Main\r\n            </div>\r\n          )}\r\n          {filteredNavigation\r\n            .filter(item => item.section === 'main')\r\n            .map((item) => (\r\n            <NavLink\r\n              key={item.name}\r\n              to={item.href}\r\n              className={({ isActive }) =>\r\n                cn(\r\n                  \"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 group\",\r\n                  \"hover:bg-primary hover:text-primary-foreground hover:scale-[1.02] hover:shadow-soft\",\r\n                  isActive\r\n                    ? \"bg-primary text-primary-foreground shadow-elegant\"\r\n                    : \"text-muted-foreground\"\r\n                )\r\n              }\r\n            >\r\n              <item.icon className={cn(\r\n                \"h-4 w-4 transition-all duration-300 group-hover:scale-110\",\r\n                !collapsed && \"mr-3\"\r\n              )} />\r\n              {!collapsed && (\r\n                <span className=\"transition-all duration-300\">{item.name}</span>\r\n              )}\r\n            </NavLink>\r\n          ))}\r\n\r\n          {!collapsed && filteredNavigation.some(item => item.section === 'integration') && (\r\n            <div className=\"px-3 py-2 mt-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider\">\r\n              Integration\r\n            </div>\r\n          )}\r\n          {filteredNavigation\r\n            .filter(item => item.section === 'integration')\r\n            .map((item) => (\r\n            <NavLink\r\n              key={item.name}\r\n              to={item.href}\r\n              className={({ isActive }) =>\r\n                cn(\r\n                  \"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 group\",\r\n                  \"hover:bg-primary hover:text-primary-foreground hover:scale-[1.02] hover:shadow-soft\",\r\n                  isActive\r\n                    ? \"bg-primary text-primary-foreground shadow-elegant\"\r\n                    : \"text-muted-foreground\"\r\n                )\r\n              }\r\n            >\r\n              <item.icon className={cn(\r\n                \"h-4 w-4 transition-all duration-300 group-hover:scale-110\",\r\n                !collapsed && \"mr-3\"\r\n              )} />\r\n              {!collapsed && (\r\n                <span className=\"transition-all duration-300\">{item.name}</span>\r\n              )}\r\n            </NavLink>\r\n          ))}\r\n\r\n          {!collapsed && filteredNavigation.some(item => item.section === 'monitoring') && (\r\n            <div className=\"px-3 py-2 mt-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider\">\r\n              Monitoring\r\n            </div>\r\n          )}\r\n          {filteredNavigation\r\n            .filter(item => item.section === 'monitoring')\r\n            .map((item) => (\r\n            <NavLink\r\n              key={item.name}\r\n              to={item.href}\r\n              className={({ isActive }) =>\r\n                cn(\r\n                  \"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 group\",\r\n                  \"hover:bg-primary hover:text-primary-foreground hover:scale-[1.02] hover:shadow-soft\",\r\n                  isActive\r\n                    ? \"bg-primary text-primary-foreground shadow-elegant\"\r\n                    : \"text-muted-foreground\"\r\n                )\r\n              }\r\n            >\r\n              <item.icon className={cn(\r\n                \"h-4 w-4 transition-all duration-300 group-hover:scale-110\",\r\n                !collapsed && \"mr-3\"\r\n              )} />\r\n              {!collapsed && (\r\n                <span className=\"transition-all duration-300\">{item.name}</span>\r\n              )}\r\n            </NavLink>\r\n          ))}\r\n\r\n          {!collapsed && filteredNavigation.some(item => item.section === 'system') && (\r\n            <div className=\"px-3 py-2 mt-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider\">\r\n              System\r\n            </div>\r\n          )}\r\n          {filteredNavigation\r\n            .filter(item => item.section === 'system')\r\n            .map((item) => (\r\n            <NavLink\r\n              key={item.name}\r\n              to={item.href}\r\n              className={({ isActive }) =>\r\n                cn(\r\n                  \"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 group\",\r\n                  \"hover:bg-primary hover:text-primary-foreground hover:scale-[1.02] hover:shadow-soft\",\r\n                  isActive\r\n                    ? \"bg-primary text-primary-foreground shadow-elegant\"\r\n                    : \"text-muted-foreground\"\r\n                )\r\n              }\r\n            >\r\n              <item.icon className={cn(\r\n                \"h-4 w-4 transition-all duration-300 group-hover:scale-110\",\r\n                !collapsed && \"mr-3\"\r\n              )} />\r\n              {!collapsed && (\r\n                <span className=\"transition-all duration-300\">{item.name}</span>\r\n              )}\r\n            </NavLink>\r\n          ))}\r\n        </nav>\r\n\r\n        <div className=\"p-4 border-t border-border\">\r\n          <div className={cn(\r\n            \"text-xs text-muted-foreground\",\r\n            collapsed ? \"text-center\" : \"space-y-1\"\r\n          )}>\r\n            {!collapsed && (\r\n              <>\r\n                <div>Version 1.0.0</div>\r\n                <div> 2024 Integrix Host 2 Host</div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Sidebar","import { create } from 'zustand'\r\n\r\ninterface Notification {\r\n  id: string\r\n  type: 'success' | 'error' | 'warning' | 'info'\r\n  title: string\r\n  message: string\r\n  timestamp: Date\r\n  duration?: number\r\n}\r\n\r\ninterface UIState {\r\n  // Sidebar\r\n  sidebarOpen: boolean\r\n  \r\n  // Notifications\r\n  notifications: Notification[]\r\n  \r\n  // Loading states\r\n  globalLoading: boolean\r\n  \r\n  // Modals\r\n  modals: Record<string, boolean>\r\n  \r\n  // Actions\r\n  toggleSidebar: () => void\r\n  setSidebarOpen: (open: boolean) => void\r\n  \r\n  addNotification: (notification: Omit<Notification, 'id' | 'timestamp'>) => void\r\n  removeNotification: (id: string) => void\r\n  clearNotifications: () => void\r\n  \r\n  setGlobalLoading: (loading: boolean) => void\r\n  \r\n  openModal: (modalId: string) => void\r\n  closeModal: (modalId: string) => void\r\n  toggleModal: (modalId: string) => void\r\n}\r\n\r\nexport const useUIStore = create<UIState>((set, get) => ({\r\n  // Initial state\r\n  sidebarOpen: true,\r\n  notifications: [],\r\n  globalLoading: false,\r\n  modals: {},\r\n  \r\n  // Sidebar actions\r\n  toggleSidebar: () => {\r\n    set((state) => ({ sidebarOpen: !state.sidebarOpen }))\r\n  },\r\n  \r\n  setSidebarOpen: (open: boolean) => {\r\n    set({ sidebarOpen: open })\r\n  },\r\n  \r\n  // Notification actions\r\n  addNotification: (notification) => {\r\n    const id = Math.random().toString(36).substr(2, 9)\r\n    const newNotification: Notification = {\r\n      ...notification,\r\n      id,\r\n      timestamp: new Date(),\r\n      duration: notification.duration || 5000,\r\n    }\r\n    \r\n    set((state) => ({\r\n      notifications: [newNotification, ...state.notifications].slice(0, 10), // Keep max 10\r\n    }))\r\n    \r\n    // Auto-remove after duration\r\n    if ((newNotification.duration ?? 4000) > 0) {\r\n      setTimeout(() => {\r\n        get().removeNotification(id)\r\n      }, newNotification.duration ?? 4000)\r\n    }\r\n  },\r\n  \r\n  removeNotification: (id: string) => {\r\n    set((state) => ({\r\n      notifications: state.notifications.filter((n) => n.id !== id),\r\n    }))\r\n  },\r\n  \r\n  clearNotifications: () => {\r\n    set({ notifications: [] })\r\n  },\r\n  \r\n  // Loading actions\r\n  setGlobalLoading: (loading: boolean) => {\r\n    set({ globalLoading: loading })\r\n  },\r\n  \r\n  // Modal actions\r\n  openModal: (modalId: string) => {\r\n    set((state) => ({\r\n      modals: { ...state.modals, [modalId]: true },\r\n    }))\r\n  },\r\n  \r\n  closeModal: (modalId: string) => {\r\n    set((state) => ({\r\n      modals: { ...state.modals, [modalId]: false },\r\n    }))\r\n  },\r\n  \r\n  toggleModal: (modalId: string) => {\r\n    set((state) => ({\r\n      modals: { ...state.modals, [modalId]: !state.modals[modalId] },\r\n    }))\r\n  },\r\n}))\r\n\r\n// Utility hook for notifications\r\nexport const useNotifications = () => {\r\n  const { addNotification, removeNotification, clearNotifications } = useUIStore()\r\n  \r\n  return {\r\n    success: (title: string, message: string, duration?: number) =>\r\n      addNotification({ type: 'success', title, message, duration }),\r\n    \r\n    error: (title: string, message: string, duration?: number) =>\r\n      addNotification({ type: 'error', title, message, duration }),\r\n    \r\n    warning: (title: string, message: string, duration?: number) =>\r\n      addNotification({ type: 'warning', title, message, duration }),\r\n    \r\n    info: (title: string, message: string, duration?: number) =>\r\n      addNotification({ type: 'info', title, message, duration }),\r\n    \r\n    remove: removeNotification,\r\n    clear: clearNotifications,\r\n  }\r\n}","import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return (\r\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }","import * as React from \"react\"\r\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\r\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst DropdownMenu = DropdownMenuPrimitive.Root\r\n\r\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\r\n\r\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\r\n\r\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\r\n\r\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\r\n\r\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\r\n\r\nconst DropdownMenuSubTrigger = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubTrigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\r\n  </DropdownMenuPrimitive.SubTrigger>\r\n))\r\nDropdownMenuSubTrigger.displayName =\r\n  DropdownMenuPrimitive.SubTrigger.displayName\r\n\r\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border border-border bg-card p-1 text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border border-border bg-card p-1 text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\r\nconst DropdownMenuItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\r\n\r\nconst DropdownMenuCheckboxItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\r\n>(({ className, children, checked, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.CheckboxItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    checked={checked}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <Check className=\"h-4 w-4\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.CheckboxItem>\r\n))\r\nDropdownMenuCheckboxItem.displayName =\r\n  DropdownMenuPrimitive.CheckboxItem.displayName\r\n\r\nconst DropdownMenuRadioItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.RadioItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <Circle className=\"h-2 w-2 fill-current\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.RadioItem>\r\n))\r\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\r\n\r\nconst DropdownMenuLabel = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Label\r\n    ref={ref}\r\n    className={cn(\r\n      \"px-2 py-1.5 text-sm font-semibold\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\r\n\r\nconst DropdownMenuSeparator = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Separator\r\n    ref={ref}\r\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\r\n\r\nconst DropdownMenuShortcut = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLSpanElement>) => {\r\n  return (\r\n    <span\r\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\r\n\r\nexport {\r\n  DropdownMenu,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuGroup,\r\n  DropdownMenuPortal,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubContent,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuRadioGroup,\r\n}","import { useQuery } from '@tanstack/react-query'\nimport { environmentApi } from '@/lib/api'\nimport { useAuthStore } from '@/stores/auth'\n\ninterface Environment {\n  type: string\n  displayName: string\n  description: string\n  enforceRestrictions: boolean\n  restrictionMessage: string\n  permissions: {\n    canCreateFlows: boolean\n    canCreateAdapters: boolean\n    canModifyAdapterConfig: boolean\n    canImportExportFlows: boolean\n    canDeployFlows: boolean\n  }\n}\n\nexport const useEnvironment = () => {\n  const { isAuthenticated } = useAuthStore()\n  \n  return useQuery({\n    queryKey: ['environment'],\n    queryFn: async () => {\n      const response = await environmentApi.getCurrentEnvironment()\n      return response.data as Environment\n    },\n    enabled: isAuthenticated, // Only run query if user is authenticated\n    refetchInterval: 30000, // Refetch every 30 seconds\n    staleTime: 10000, // Consider data stale after 10 seconds\n    retry: (failureCount, error: any) => {\n      // Don't retry on authentication errors\n      if (error?.response?.status === 401 || error?.response?.status === 403) {\n        return false\n      }\n      return failureCount < 3\n    }\n  })\n}\n\n// Helper function to get environment-specific styles\nexport const getEnvironmentStyles = (envType: string) => {\n  const baseClasses = \"inline-flex items-center gap-1 rounded-md border font-mono font-bold uppercase tracking-wide\"\n  \n  switch (envType?.toUpperCase()) {\n    case 'PRODUCTION':\n      return {\n        className: `${baseClasses} bg-red-100 text-red-800 border-red-200`,\n        pulseClass: 'animate-pulse bg-red-500'\n      }\n    case 'QUALITY_ASSURANCE':\n      return {\n        className: `${baseClasses} bg-purple-100 text-purple-800 border-purple-200`,\n        pulseClass: 'animate-pulse bg-purple-500'\n      }\n    case 'DEVELOPMENT':\n    default:\n      return {\n        className: `${baseClasses} bg-green-100 text-green-800 border-green-200`,\n        pulseClass: 'animate-pulse bg-green-500'\n      }\n  }\n}","import React from 'react'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { cn } from '@/lib/utils'\r\nimport { useEnvironment } from '@/hooks/useEnvironment'\r\n\r\ninterface EnvironmentBadgeProps {\r\n  size?: 'sm' | 'md' | 'lg'\r\n  className?: string\r\n  showName?: boolean\r\n}\r\n\r\nconst sizeClasses = {\r\n  sm: 'text-xs px-2 py-0.5',\r\n  md: 'text-sm px-2.5 py-1',\r\n  lg: 'text-base px-3 py-1.5'\r\n}\r\n\r\nconst getEnvironmentDetails = (envType?: string) => {\r\n  const type = envType?.toUpperCase() || 'DEVELOPMENT'\r\n  \r\n  switch (type) {\r\n    case 'DEVELOPMENT':\r\n      return {\r\n        id: 'H2H-DEV',\r\n        name: 'Development',\r\n        color: '#22c55e', // green-500\r\n        className: 'bg-green-100 text-green-800 border-green-200'\r\n      }\r\n    case 'QUALITY_ASSURANCE':\r\n      return {\r\n        id: 'H2H-QAS',\r\n        name: 'Quality Assurance', \r\n        color: '#8b5cf6', // purple-500\r\n        className: 'bg-purple-100 text-purple-800 border-purple-200'\r\n      }\r\n    case 'PRODUCTION':\r\n      return {\r\n        id: 'H2H-PRD',\r\n        name: 'Production',\r\n        color: '#ef4444', // red-500\r\n        className: 'bg-red-100 text-red-800 border-red-200'\r\n      }\r\n    default:\r\n      return {\r\n        id: 'H2H-UNK',\r\n        name: 'Unknown',\r\n        color: '#6b7280', // gray-500\r\n        className: 'bg-gray-100 text-gray-800 border-gray-200'\r\n      }\r\n  }\r\n}\r\n\r\nconst EnvironmentBadge: React.FC<EnvironmentBadgeProps> = ({\r\n  size = 'md',\r\n  className,\r\n  showName = false\r\n}) => {\r\n  const { data: environment, isLoading } = useEnvironment()\r\n\r\n  if (isLoading || !environment) {\r\n    return (\r\n      <div className=\"animate-pulse bg-gray-200 rounded-md h-6 w-16 inline-flex items-center justify-center\">\r\n        <div className=\"w-2 h-2 bg-gray-300 rounded-full mr-1\" />\r\n        <div className=\"w-8 h-4 bg-gray-300 rounded\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const envDetails = getEnvironmentDetails(environment.type)\r\n\r\n  return (\r\n    <Badge \r\n      className={cn(\r\n        envDetails.className,\r\n        sizeClasses[size],\r\n        \"inline-flex items-center gap-1.5 transition-all duration-200 font-mono font-bold\",\r\n        className\r\n      )}\r\n      title={`Environment: ${environment.displayName} (${environment.type})`}\r\n    >\r\n      {/* Animated pulsing dot indicator */}\r\n      <div \r\n        className=\"w-2 h-2 rounded-full animate-pulse\"\r\n        style={{ \r\n          backgroundColor: envDetails.color,\r\n          filter: 'brightness(1.2)'\r\n        }}\r\n      />\r\n      \r\n      {/* Environment ID */}\r\n      <span className=\"font-mono font-bold tracking-wide\">\r\n        {envDetails.id}\r\n      </span>\r\n      \r\n      {/* Optional environment name */}\r\n      {showName && (\r\n        <span className=\"font-sans font-normal ml-0.5\">\r\n          {envDetails.name}\r\n        </span>\r\n      )}\r\n    </Badge>\r\n  )\r\n}\r\n\r\n// Loading skeleton for environment badge\r\nexport const EnvironmentBadgeSkeleton: React.FC<{ size?: 'sm' | 'md' | 'lg' }> = ({ \r\n  size = 'md' \r\n}) => {\r\n  return (\r\n    <div className={cn(\r\n      'animate-pulse bg-gray-200 rounded-md inline-flex items-center gap-1',\r\n      sizeClasses[size]\r\n    )}>\r\n      <div className=\"w-2 h-2 bg-gray-300 rounded-full\" />\r\n      <div className=\"w-8 h-4 bg-gray-300 rounded\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EnvironmentBadge","import React from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { \r\n  Bell, \r\n  Settings, \r\n  User, \r\n  LogOut, \r\n  Menu,\r\n  Building2\r\n} from 'lucide-react'\r\nimport { useAuthStore } from '@/stores/auth'\r\nimport { useNotifications } from '@/stores/ui'\r\nimport { useMutation } from '@tanstack/react-query'\r\nimport { authApi } from '@/lib/api'\r\nimport { sessionManager } from '@/lib/session'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\nimport EnvironmentBadge from '@/components/common/EnvironmentBadge'\r\n\r\nconst Header: React.FC = () => {\r\n  const navigate = useNavigate()\r\n  const { user, clearAuth } = useAuthStore()\r\n  const { success, error } = useNotifications()\r\n\r\n  const logoutMutation = useMutation({\r\n    mutationFn: authApi.logout,\r\n    onSuccess: () => {\r\n      sessionManager.clearTokens()\r\n      clearAuth()\r\n      success('Logged out', 'Successfully logged out')\r\n      navigate('/login', { replace: true })\r\n    },\r\n    onError: () => {\r\n      // Still clear auth even if logout API fails\r\n      sessionManager.clearTokens()\r\n      clearAuth()\r\n      error('Logout Error', 'There was an issue logging out, but you have been signed out locally')\r\n      navigate('/login', { replace: true })\r\n    },\r\n  })\r\n\r\n  const handleLogout = () => {\r\n    logoutMutation.mutate()\r\n  }\r\n\r\n  return (\r\n    <header className=\"h-16 border-b border-border bg-card/80 backdrop-blur-md transition-all duration-300\">\r\n      <div className=\"flex h-full items-center justify-between px-6\">\r\n        <div className=\"flex items-center space-x-4\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            className=\"md:hidden\"\r\n            aria-label=\"Toggle sidebar\"\r\n          >\r\n            <Menu className=\"h-5 w-5\" />\r\n          </Button>\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"h-8 w-8 rounded-lg bg-primary flex items-center justify-center\">\r\n              <Building2 className=\"h-4 w-4 text-primary-foreground\" />\r\n            </div>\r\n            <h1 className=\"text-xl font-semibold app-name-gradient\">\r\n              Integrixs Host 2 Host\r\n            </h1>\r\n            <EnvironmentBadge size=\"sm\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center space-x-4\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            className=\"relative transition-all duration-300 hover:scale-110 hover:bg-accent/50\"\r\n          >\r\n            <Bell className=\"h-4 w-4\" />\r\n            <Badge\r\n              variant=\"destructive\"\r\n              className=\"absolute -top-1 -right-1 h-5 w-5 p-0 text-xs animate-pulse\"\r\n            >\r\n              0\r\n            </Badge>\r\n          </Button>\r\n\r\n          <DropdownMenu>\r\n            <DropdownMenuTrigger asChild>\r\n              <Button variant=\"ghost\" size=\"sm\" className=\"flex items-center space-x-2\">\r\n                <User className=\"h-4 w-4\" />\r\n                <span className=\"text-sm\">\r\n                  {user?.firstName} {user?.lastName}\r\n                </span>\r\n              </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent align=\"end\" className=\"w-56\">\r\n              <DropdownMenuItem>\r\n                <User className=\"mr-2 h-4 w-4\" />\r\n                Profile\r\n              </DropdownMenuItem>\r\n              <DropdownMenuItem>\r\n                <Settings className=\"mr-2 h-4 w-4\" />\r\n                Settings\r\n              </DropdownMenuItem>\r\n              <DropdownMenuSeparator />\r\n              <DropdownMenuItem \r\n                onClick={handleLogout}\r\n                disabled={logoutMutation.isPending}\r\n                className=\"text-destructive\"\r\n              >\r\n                <LogOut className=\"mr-2 h-4 w-4\" />\r\n                {logoutMutation.isPending ? 'Logging out...' : 'Logout'}\r\n              </DropdownMenuItem>\r\n            </DropdownMenuContent>\r\n          </DropdownMenu>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport { Outlet } from 'react-router-dom'\r\nimport Sidebar from './Sidebar'\r\nimport Header from './Header'\r\n\r\nconst Layout: React.FC = () => {\n  return (\n    <div className=\"h-screen w-full bg-background flex flex-col overflow-hidden\">\n      <Header />\n      <div className=\"flex flex-1 w-full overflow-hidden\">\n        <Sidebar />\n        <div className=\"flex-1 flex flex-col min-w-0 w-full max-w-none overflow-hidden\">\n          <main className=\"flex-1 overflow-auto p-6 w-full\">\n            <Outlet />\n          </main>\n        </div>\n      </div>\n    </div>\n  )\n}\n\r\nexport default Layout","import React from 'react'\nimport { Navigate } from 'react-router-dom'\nimport { useAuthStore } from '@/stores/auth'\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode\n  roles?: string[]\n}\n\nconst ProtectedRoute: React.FC<ProtectedRouteProps> = ({ children, roles }) => {\n  const { isAuthenticated, user, isLoading, hasInitialized } = useAuthStore()\n\n  console.log('[ProtectedRoute] render', {\n    isAuthenticated,\n    isLoading,\n    hasInitialized,\n    userRole: user?.role,\n  })\n\n  // CRITICAL: Prevent premature redirect - wait for initialization to complete\n  // This prevents the redirect loop on browser refresh described in research\n  if (isLoading || !hasInitialized) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-slate-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Verifying authentication...</p>\n        </div>\n      </div>\n    )\n  }\n\n  // Only redirect after auth state is fully loaded and verified\n  if (!isAuthenticated) {\n    console.log('[ProtectedRoute] Authentication verification complete - not authenticated, redirecting to login')\n    return <Navigate to=\"/login\" replace />\n  }\n\n  // Check role-based access if roles are specified\n  if (roles && user && !roles.includes(user.role)) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-red-600 mb-2\">Access Denied</h1>\n          <p className=\"text-gray-600\">You don't have permission to access this page.</p>\n        </div>\n      </div>\n    )\n  }\n\n  return <>{children}</>\n}\n\nexport default ProtectedRoute","import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface InputProps\r\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }","import * as React from \"react\"\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst labelVariants = cva(\r\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\r\n)\r\n\r\nconst Label = React.forwardRef<\r\n  React.ElementRef<typeof LabelPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\r\n    VariantProps<typeof labelVariants>\r\n>(({ className, ...props }, ref) => (\r\n  <LabelPrimitive.Root\r\n    ref={ref}\r\n    className={cn(labelVariants(), className)}\r\n    {...props}\r\n  />\r\n))\r\nLabel.displayName = LabelPrimitive.Root.displayName\r\n\r\nexport { Label }","import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"flex flex-col space-y-1.5 p-6\", className)} {...props} />\r\n))\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n  <h3\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-2xl font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <p\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center p-6 pt-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }","import React, { useEffect } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useMutation } from '@tanstack/react-query'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { Eye, EyeOff, Lock, User as UserIcon } from 'lucide-react'\r\nimport { authApi } from '@/lib/api'\r\nimport { useAuthStore, User } from '@/stores/auth'\r\nimport { useNotifications } from '@/stores/ui'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '@/components/ui/card'\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface LoginForm {\r\n  username: string\r\n  password: string\r\n  rememberMe: boolean\r\n}\r\n\r\nconst LoginPage: React.FC = () => {\r\n  const navigate = useNavigate()\r\n  const [showPassword, setShowPassword] = React.useState(false)\r\n  const { setAuth, isAuthenticated, hasInitialized } = useAuthStore()\r\n  const { error } = useNotifications()\r\n  \r\n  const { register, handleSubmit, formState: { errors } } = useForm<LoginForm>({\r\n    defaultValues: {\r\n      username: '',\r\n      password: '',\r\n      rememberMe: false\r\n    },\r\n  })\r\n\r\n  const loginMutation = useMutation({\r\n    mutationFn: authApi.login,\r\n    onSuccess: (response, variables) => {\r\n      if (response.accessToken && response.username) {\r\n        // Decode JWT token to get actual user ID\r\n        const payload = JSON.parse(atob(response.accessToken.split('.')[1]))\r\n        \r\n        // Create user object from the response\r\n        const user: User = {\r\n          id: payload.sub, // Get actual user ID from JWT token\r\n          username: response.username,\r\n          firstName: response.fullName?.split(' ')[0] || response.username,\r\n          lastName: response.fullName?.split(' ').slice(1).join(' ') || '',\r\n          email: payload.email || `${response.username}@integrixs.com`, // Use email from token or default\r\n          role: response.role as 'ADMINISTRATOR' | 'VIEWER',\r\n          enabled: payload.enabled || true,\r\n          createdAt: new Date().toISOString(),\r\n          lastLogin: new Date().toISOString()\r\n        }\r\n        // Set auth with remember me flag from form\r\n        setAuth(user, response.accessToken, variables.rememberMe)\r\n      } else {\r\n        error('Login Failed', 'Invalid response from server')\r\n      }\r\n    },\r\n    onError: (err: any) => {\r\n      const message = err.response?.data?.message || 'Login failed. Please check your credentials.'\r\n      error('Login Failed', message)\r\n    },\r\n  })\r\n\r\n  const onSubmit = (data: LoginForm) => {\r\n    loginMutation.mutate({\r\n      username: data.username,\r\n      password: data.password,\r\n      rememberMe: data.rememberMe\r\n    })\r\n  }\r\n\r\n  // Redirect if already authenticated (after initialization)\r\n  useEffect(() => {\r\n    if (hasInitialized && isAuthenticated) {\r\n      navigate('/dashboard', { replace: true })\r\n    }\r\n  }, [hasInitialized, isAuthenticated, navigate])\r\n\r\n  // Show loading while checking auth status\r\n  if (!hasInitialized) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-slate-50\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Don't render login form if already authenticated\r\n  if (isAuthenticated) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen app-background flex items-center justify-center p-4\">\r\n      <div className=\"w-full max-w-md space-y-8\">\r\n        <div className=\"text-center\">\r\n          <h1 className=\"text-3xl font-bold text-foreground mb-2 app-name-gradient\">\r\n            Integrixs Host 2 Host\r\n          </h1>\r\n          <p className=\"text-muted-foreground\">\r\n            Secure Host-to-Host File Transfer System\r\n          </p>\r\n        </div>\r\n\r\n        <Card className=\"app-card shadow-xl border\">\r\n          <CardHeader className=\"space-y-1\">\r\n            <CardTitle className=\"text-2xl text-center text-foreground\">Welcome back</CardTitle>\r\n            <CardDescription className=\"text-center text-muted-foreground\">\r\n              Enter your credentials to access the system\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"username\">Username</Label>\r\n                <div className=\"relative\">\r\n                  <UserIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4\" />\r\n                  <Input\r\n                    id=\"username\"\r\n                    type=\"text\"\r\n                    placeholder=\"Enter your username\"\r\n                    className={cn(\r\n                      \"pl-10 bg-input border-border text-foreground\",\r\n                      errors.username && \"border-destructive focus-visible:ring-destructive\"\r\n                    )}\r\n                    {...register('username', { \r\n                      required: 'Username is required',\r\n                      minLength: {\r\n                        value: 3,\r\n                        message: 'Username must be at least 3 characters'\r\n                      }\r\n                    })}\r\n                  />\r\n                  {errors.username && (\r\n                    <p className=\"text-sm text-destructive mt-1\">{errors.username.message}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"password\">Password</Label>\r\n                <div className=\"relative\">\r\n                  <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4\" />\r\n                  <Input\r\n                    id=\"password\"\r\n                    type={showPassword ? 'text' : 'password'}\r\n                    placeholder=\"Enter your password\"\r\n                    className={cn(\r\n                      \"pl-10 pr-10 bg-input border-border text-foreground\",\r\n                      errors.password && \"border-destructive focus-visible:ring-destructive\"\r\n                    )}\r\n                    {...register('password', { \r\n                      required: 'Password is required',\r\n                      minLength: {\r\n                        value: 6,\r\n                        message: 'Password must be at least 6 characters'\r\n                      }\r\n                    })}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground\"\r\n                    onClick={() => setShowPassword(!showPassword)}\r\n                  >\r\n                    {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n                  </button>\r\n                  {errors.password && (\r\n                    <p className=\"text-sm text-destructive mt-1\">{errors.password.message}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-center space-x-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"rememberMe\"\r\n                  className=\"rounded border-border text-primary focus:ring-primary focus:ring-offset-0\"\r\n                  {...register('rememberMe')}\r\n                />\r\n                <Label \r\n                  htmlFor=\"rememberMe\" \r\n                  className=\"text-sm text-muted-foreground cursor-pointer\"\r\n                >\r\n                  Keep me signed in\r\n                </Label>\r\n              </div>\r\n\r\n              <Button\r\n                type=\"submit\"\r\n                className=\"w-full btn-primary\"\r\n                disabled={loginMutation.isPending}\r\n              >\r\n                {loginMutation.isPending ? (\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\r\n                    Signing in...\r\n                  </div>\r\n                ) : (\r\n                  'Sign in'\r\n                )}\r\n              </Button>\r\n\r\n              {loginMutation.isError && (\r\n                <div className=\"text-center text-sm text-destructive bg-destructive/10 border border-destructive/20 p-3 rounded-md\">\r\n                  {loginMutation.error?.response?.data?.message || 'Login failed. Please try again.'}\r\n                </div>\r\n              )}\r\n            </form>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <div className=\"text-center text-sm text-muted-foreground\">\r\n           2024 Integrix Host 2 Host System\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginPage","import React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { X } from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      'fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        'fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg',\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col space-y-1.5 text-center sm:text-left',\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = 'DialogHeader'\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = 'DialogFooter'\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      'text-lg font-semibold leading-none tracking-tight',\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}","import * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border bg-card text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1 bg-card\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}","import React, { useState } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { Play, Loader2, CheckCircle, AlertCircle } from 'lucide-react'\nimport { flowApi } from '@/lib/api'\nimport { Button } from '@/components/ui/button'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\n\ninterface ManualFlowExecutionModalProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n}\n\n\nexport const ManualFlowExecutionModal: React.FC<ManualFlowExecutionModalProps> = ({\n  open,\n  onOpenChange,\n}) => {\n  const [selectedFlowId, setSelectedFlowId] = useState<string>('')\n  const queryClient = useQueryClient()\n\n  // Fetch all flows\n  const { data: flowsResponse, isLoading: flowsLoading } = useQuery({\n    queryKey: ['flows'],\n    queryFn: flowApi.getAllFlows,\n    enabled: open, // Only fetch when modal is open\n  })\n\n  const flows = flowsResponse?.data || []\n\n  // Execute flow mutation\n  const executeFlowMutation = useMutation({\n    mutationFn: (flowId: string) => flowApi.executeFlow(flowId),\n    onSuccess: () => {\n      // Refresh dashboard data after execution\n      queryClient.invalidateQueries({ queryKey: ['dashboard'] })\n      onOpenChange(false) // Close modal on success\n      setSelectedFlowId('') // Reset selection\n    },\n    onError: (error) => {\n      console.error('Failed to execute flow:', error)\n    },\n  })\n\n  const handleExecute = () => {\n    if (selectedFlowId) {\n      executeFlowMutation.mutate(selectedFlowId)\n    }\n  }\n\n  const activeFlows = Array.isArray(flows) ? flows.filter(flow => \n    flow.active === true && \n    flow.deployed === true &&\n    flow.deploymentStatus === 'DEPLOYED'\n  ) : []\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center space-x-2\">\n            <Play className=\"h-5 w-5 text-primary\" />\n            <span>Manually Execute Flow</span>\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-4 pt-4\">\n          {flowsLoading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <div className=\"flex items-center space-x-3\">\n                <Loader2 className=\"h-5 w-5 animate-spin\" />\n                <span className=\"text-muted-foreground\">Loading flows...</span>\n              </div>\n            </div>\n          ) : activeFlows.length === 0 ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <div className=\"text-center\">\n                <AlertCircle className=\"h-8 w-8 text-muted-foreground mx-auto mb-2\" />\n                <p className=\"text-muted-foreground\">No active flows available</p>\n                <p className=\"text-sm text-muted-foreground mt-1\">\n                  Create and activate flows to enable manual execution\n                </p>\n              </div>\n            </div>\n          ) : (\n            <>\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium text-foreground\">\n                  Select Flow to Execute\n                </label>\n                <Select value={selectedFlowId} onValueChange={setSelectedFlowId}>\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Choose a flow...\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {activeFlows.map((flow) => (\n                      <SelectItem key={flow.id} value={flow.id}>\n                        <div className=\"flex items-center justify-between w-full\">\n                          <span>{flow.name}</span>\n                          {flow.deploymentStatus === 'DEPLOYED' && (\n                            <CheckCircle className=\"h-4 w-4 text-success ml-2\" />\n                          )}\n                        </div>\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {selectedFlowId && (\n                <div className=\"bg-secondary rounded-lg p-3\">\n                  <div className=\"text-sm\">\n                    <p className=\"text-muted-foreground\">Selected Flow:</p>\n                    <p className=\"font-medium text-foreground\">\n                      {activeFlows.find(f => f.id === selectedFlowId)?.name}\n                    </p>\n                    {activeFlows.find(f => f.id === selectedFlowId)?.description && (\n                      <p className=\"text-xs text-muted-foreground mt-1\">\n                        {activeFlows.find(f => f.id === selectedFlowId)?.description}\n                      </p>\n                    )}\n                  </div>\n                </div>\n              )}\n\n              {executeFlowMutation.error && (\n                <div className=\"bg-destructive/10 border border-destructive/20 rounded-lg p-3\">\n                  <div className=\"flex items-center space-x-2\">\n                    <AlertCircle className=\"h-4 w-4 text-destructive\" />\n                    <span className=\"text-sm text-destructive\">\n                      Failed to execute flow: {executeFlowMutation.error.message || 'Unknown error'}\n                    </span>\n                  </div>\n                </div>\n              )}\n\n              {executeFlowMutation.isSuccess && (\n                <div className=\"bg-success/10 border border-success/20 rounded-lg p-3\">\n                  <div className=\"flex items-center space-x-2\">\n                    <CheckCircle className=\"h-4 w-4 text-success\" />\n                    <span className=\"text-sm text-success\">\n                      Flow executed successfully!\n                    </span>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n        </div>\n\n        <div className=\"flex justify-between pt-4\">\n          <Button\n            variant=\"outline\"\n            onClick={() => {\n              onOpenChange(false)\n              setSelectedFlowId('')\n              executeFlowMutation.reset()\n            }}\n          >\n            Cancel\n          </Button>\n          <Button\n            onClick={handleExecute}\n            disabled={!selectedFlowId || executeFlowMutation.isPending || flowsLoading}\n            className=\"flex items-center space-x-2\"\n          >\n            {executeFlowMutation.isPending ? (\n              <Loader2 className=\"h-4 w-4 animate-spin\" />\n            ) : (\n              <Play className=\"h-4 w-4\" />\n            )}\n            <span>\n              {executeFlowMutation.isPending ? 'Executing...' : 'Execute'}\n            </span>\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useQuery } from '@tanstack/react-query'\r\nimport { Activity, FileText, CheckCircle, Clock, TrendingUp, AlertTriangle, RefreshCw, Boxes, Play } from 'lucide-react'\r\nimport { dashboardApi, configApi } from '@/lib/api'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ManualFlowExecutionModal } from '@/components/ui/ManualFlowExecutionModal'\r\nimport type { SystemHealth, AdapterStats, RecentExecution } from '@/types/dashboard'\r\n\r\nexport const Dashboard: React.FC = () => {\r\n  const [isFlowExecutionModalOpen, setIsFlowExecutionModalOpen] = useState(false)\r\n\r\n  // Fetch configuration intervals first\r\n  const { data: intervals } = useQuery({\r\n    queryKey: ['configuration', 'dashboard-intervals'],\r\n    queryFn: configApi.getDashboardIntervals,\r\n    staleTime: 5 * 60 * 1000, // Cache for 5 minutes\r\n  })\r\n\r\n  // Extract intervals with defaults\r\n  const refreshIntervals = intervals?.intervals || {\r\n    'dashboard.refresh.health_interval': 30000,\r\n    'dashboard.refresh.adapter_stats_interval': 60000,\r\n    'dashboard.refresh.recent_executions_interval': 60000,\r\n  }\r\n\r\n  // Fetch dashboard data with configurable intervals\r\n  const { data: systemHealth, isLoading: healthLoading } = useQuery<SystemHealth>({\r\n    queryKey: ['dashboard', 'health'],\r\n    queryFn: dashboardApi.getSystemHealth,\r\n    refetchInterval: refreshIntervals['dashboard.refresh.health_interval'],\r\n  })\r\n\r\n  const { data: adapterStats, isLoading: statsLoading } = useQuery<AdapterStats>({\r\n    queryKey: ['dashboard', 'adapter-stats'],\r\n    queryFn: dashboardApi.getAdapterStatistics,\r\n    refetchInterval: refreshIntervals['dashboard.refresh.adapter_stats_interval'],\r\n  })\r\n\r\n  const { data: recentExecutions, isLoading: executionsLoading } = useQuery<RecentExecution[]>({\r\n    queryKey: ['dashboard', 'recent-executions'],\r\n    queryFn: () => dashboardApi.getRecentExecutions(10),\r\n    refetchInterval: refreshIntervals['dashboard.refresh.recent_executions_interval'],\r\n  })\r\n\r\n  const isLoading = healthLoading || statsLoading || executionsLoading\r\n  // Loading state\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"content-spacing\">\r\n        <div className=\"flex items-center justify-center h-64\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\r\n            <span className=\"text-muted-foreground\">Loading dashboard...</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"content-spacing\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">Integrixs Host 2 Host Dashboard</h1>\r\n          <p className=\"text-muted-foreground\">Monitor your bank file transfer operations and system health</p>\r\n        </div>\r\n        <div className=\"flex items-center space-x-3\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <div className={`w-3 h-3 rounded-full ${\r\n              systemHealth?.status === 'UP' ? 'bg-green-500 animate-glow' : 'bg-red-500'\r\n            }`} />\r\n            <span className={`text-sm font-medium ${\r\n              systemHealth?.status === 'UP' ? 'text-green-500' : 'text-red-500'\r\n            }`}>\r\n              {systemHealth?.status === 'UP' ? 'Up' : 'Down'}\r\n            </span>\r\n          </div>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => window.location.reload()}\r\n            className=\"flex items-center space-x-2\"\r\n          >\r\n            <RefreshCw className=\"h-4 w-4\" />\r\n            <span>Refresh</span>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Status Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        {/* System Health Card */}\r\n        <div className=\"app-card rounded-lg p-6 border hover-scale animate-fade-in\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">System Status</p>\r\n              <p className={`text-2xl font-bold ${\r\n                systemHealth?.status === 'UP' ? 'text-green-500' : 'text-red-500'\r\n              }`}>\r\n                {systemHealth?.status === 'UP' ? 'Up' : 'Down'}\r\n              </p>\r\n            </div>\r\n            <Activity className={`h-8 w-8 ${\r\n              systemHealth?.status === 'UP' ? 'text-green-500' : 'text-red-500'\r\n            }`} />\r\n          </div>\r\n          <div className=\"mt-2\">\r\n            <span className=\"text-xs text-muted-foreground\">\r\n              Uptime: {systemHealth?.uptime || '0%'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Operations Today Card */}\r\n        <div className=\"app-card rounded-lg p-6 border hover-scale animate-fade-in\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Operations Today</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">\r\n                {adapterStats?.operationsToday || 0}\r\n              </p>\r\n            </div>\r\n            <TrendingUp className=\"h-8 w-8 text-primary\" />\r\n          </div>\r\n          <div className=\"mt-2\">\r\n            <span className=\"text-xs text-muted-foreground\">\r\n              {adapterStats?.operationsTrend || 'No trend data'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Files Processed Card */}\r\n        <div className=\"app-card rounded-lg p-6 border hover-scale animate-fade-in\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Files Processed</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">\r\n                {adapterStats?.filesProcessed || 0}\r\n              </p>\r\n            </div>\r\n            <FileText className=\"h-8 w-8 text-info\" />\r\n          </div>\r\n          <div className=\"mt-2\">\r\n            <span className=\"text-xs text-muted-foreground\">\r\n              Last hour: {adapterStats?.filesLastHour || 0} files\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Success Rate Card */}\r\n        <div className=\"app-card rounded-lg p-6 border hover-scale animate-fade-in\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Success Rate</p>\r\n              <p className={`text-2xl font-bold ${\r\n                (adapterStats?.successRate || 0) >= 95 ? 'text-success' :\r\n                (adapterStats?.successRate || 0) >= 85 ? 'text-warning' : 'text-destructive'\r\n              }`}>\r\n                {adapterStats?.successRate ? `${adapterStats.successRate}%` : '0%'}\r\n              </p>\r\n            </div>\r\n            <CheckCircle className={`h-8 w-8 ${\r\n              (adapterStats?.successRate || 0) >= 95 ? 'text-success' :\r\n              (adapterStats?.successRate || 0) >= 85 ? 'text-warning' : 'text-destructive'\r\n            }`} />\r\n          </div>\r\n          <div className=\"mt-2\">\r\n            <span className=\"text-xs text-muted-foreground\">\r\n              {adapterStats?.errorsToday || 0} errors today\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recent Operations */}\r\n      <div className=\"app-card rounded-lg p-6 border animate-fade-in\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h2 className=\"text-xl font-semibold text-foreground\">Recent Operations</h2>\r\n          <span className=\"text-sm text-muted-foreground\">\r\n            {recentExecutions?.length || 0} operations\r\n          </span>\r\n        </div>\r\n        \r\n        {recentExecutions && recentExecutions.length > 0 ? (\r\n          <div className=\"space-y-3\">\r\n            {recentExecutions.map((execution, index) => {\r\n              const getStatusIcon = (status: string) => {\r\n                switch (status.toUpperCase()) {\r\n                  case 'SUCCESS':\r\n                    return <CheckCircle className=\"h-5 w-5 text-success\" />\r\n                  case 'FAILED':\r\n                    return <AlertTriangle className=\"h-5 w-5 text-destructive\" />\r\n                  case 'IN_PROGRESS':\r\n                  case 'RUNNING':\r\n                    return <Clock className=\"h-5 w-5 text-warning animate-pulse\" />\r\n                  default:\r\n                    return <Clock className=\"h-5 w-5 text-muted-foreground\" />\r\n                }\r\n              }\r\n\r\n              const formatRelativeTime = (timestamp: string) => {\r\n                const now = new Date()\r\n                const executionTime = new Date(timestamp)\r\n                const diffMs = now.getTime() - executionTime.getTime()\r\n                const diffMins = Math.floor(diffMs / 60000)\r\n                \r\n                if (diffMins < 1) return 'Just now'\r\n                if (diffMins < 60) return `${diffMins} min ago`\r\n                const diffHours = Math.floor(diffMins / 60)\r\n                if (diffHours < 24) return `${diffHours}h ago`\r\n                return `${Math.floor(diffHours / 24)}d ago`\r\n              }\r\n\r\n              return (\r\n                <div key={execution.id || index} className=\"flex items-center justify-between p-3 rounded-md bg-secondary\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    {getStatusIcon(execution.status)}\r\n                    <div>\r\n                      <p className=\"font-medium text-foreground\">\r\n                        {execution.adapterName || 'Unknown'} - {execution.operation || 'Operation'}\r\n                      </p>\r\n                      <p className=\"text-sm text-muted-foreground\">\r\n                        {execution.message || `${execution.filesProcessed || 0} files processed`}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <p className=\"text-sm text-foreground\">\r\n                      {execution.startTime ? new Date(execution.startTime).toLocaleTimeString() : '--:--'}\r\n                    </p>\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                      {execution.startTime ? formatRelativeTime(execution.startTime) : 'Unknown'}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        ) : (\r\n          <div className=\"flex items-center justify-center py-8\">\r\n            <div className=\"text-center\">\r\n              <Activity className=\"h-12 w-12 text-muted-foreground mx-auto mb-2\" />\r\n              <p className=\"text-muted-foreground\">No recent operations</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Adapter Overview and Quick Actions */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Active Adapters */}\r\n        <div className=\"lg:col-span-2 app-card rounded-lg p-6 border animate-fade-in\">\r\n          <h2 className=\"text-xl font-semibold text-foreground mb-4\">Active Adapters</h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            {adapterStats?.adapters?.map((adapter, index) => (\r\n              <div key={adapter.id || index} className=\"bg-secondary rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between mb-3\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <div className={`w-3 h-3 rounded-full ${\r\n                      adapter.status === 'ACTIVE' ? 'bg-success animate-glow' :\r\n                      adapter.status === 'ERROR' ? 'bg-destructive' :\r\n                      'bg-warning'\r\n                    }`} />\r\n                    <h3 className=\"font-medium text-foreground\">{adapter.name}</h3>\r\n                  </div>\r\n                  <span className={`text-xs px-2 py-1 rounded ${\r\n                    adapter.status === 'ACTIVE' ? 'bg-success/20 text-success' :\r\n                    adapter.status === 'ERROR' ? 'bg-destructive/20 text-destructive' :\r\n                    'bg-warning/20 text-warning'\r\n                  }`}>\r\n                    {adapter.status}\r\n                  </span>\r\n                </div>\r\n                <div className=\"space-y-1 text-sm\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-muted-foreground\">Type:</span>\r\n                    <span className=\"text-foreground\">{adapter.type}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-muted-foreground\">Last Run:</span>\r\n                    <span className=\"text-foreground\">\r\n                      {adapter.lastRun ? new Date(adapter.lastRun).toLocaleString() : 'Never'}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-muted-foreground\">Files Today:</span>\r\n                    <span className=\"text-foreground\">{adapter.filesToday || 0}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )) || (\r\n              <div className=\"md:col-span-2 flex items-center justify-center py-8\">\r\n                <div className=\"text-center\">\r\n                  <Boxes className=\"h-12 w-12 text-muted-foreground mx-auto mb-2\" />\r\n                  <p className=\"text-muted-foreground\">No adapters configured</p>\r\n                  <Button variant=\"outline\" size=\"sm\" className=\"mt-2\">\r\n                    Configure Adapters\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Quick Actions */}\r\n        <div className=\"app-card rounded-lg p-6 border animate-fade-in\">\r\n          <h2 className=\"text-xl font-semibold text-foreground mb-4\">Quick Actions</h2>\r\n          <div className=\"space-y-3\">\r\n            <Button \r\n              className=\"w-full btn-primary justify-start\" \r\n              size=\"lg\"\r\n              onClick={() => setIsFlowExecutionModalOpen(true)}\r\n            >\r\n              <Play className=\"h-4 w-4 mr-2\" />\r\n              Manually Execute Flow\r\n            </Button>\r\n            <Button variant=\"outline\" className=\"w-full justify-start\" size=\"lg\" asChild>\r\n              <Link to=\"/admin?tab=logs\">\r\n                <FileText className=\"h-4 w-4 mr-2\" />\r\n                View System Logs\r\n              </Link>\r\n            </Button>\r\n          </div>\r\n\r\n          {/* System Info */}\r\n          <div className=\"mt-6 pt-4 border-t border-border\">\r\n            <h3 className=\"font-medium text-foreground mb-3\">System Info</h3>\r\n            <div className=\"space-y-2 text-sm\">\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-muted-foreground\">Version:</span>\r\n                <span className=\"text-foreground\">v1.0.0</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-muted-foreground\">Java:</span>\r\n                <span className=\"text-foreground\">{systemHealth?.javaVersion || 'Unknown'}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-muted-foreground\">Memory:</span>\r\n                <span className=\"text-foreground\">{systemHealth?.memoryUsage || '0%'}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Manual Flow Execution Modal */}\r\n      <ManualFlowExecutionModal \r\n        open={isFlowExecutionModalOpen}\r\n        onOpenChange={setIsFlowExecutionModalOpen}\r\n      />\r\n    </div>\r\n  )\r\n}","\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }","import { useEffect, useState, useCallback, useRef } from 'react'\nimport { \n  getWebSocketService, \n  FlowExecutionUpdate, \n  FlowStepUpdate, \n  FlowDefinitionUpdate, \n  SystemHealthUpdate,\n  WebSocketMessage,\n  MessageHandler \n} from '@/services/websocket'\nimport { useNotifications } from '@/stores/ui'\n\nexport interface WebSocketConnectionState {\n  isConnected: boolean\n  status: 'connected' | 'connecting' | 'disconnected' | 'reconnecting'\n  error: string | null\n}\n\n/**\n * Hook for managing WebSocket connection state\n */\nexport function useWebSocketConnection(): WebSocketConnectionState {\n  const [state, setState] = useState<WebSocketConnectionState>({\n    isConnected: false,\n    status: 'disconnected',\n    error: null\n  })\n\n  useEffect(() => {\n    const service = getWebSocketService()\n    \n    // Check initial connection state\n    const updateState = () => {\n      setState({\n        isConnected: service.isConnectionActive(),\n        status: service.getConnectionStatus(),\n        error: null\n      })\n    }\n\n    // Update state immediately\n    updateState()\n\n    // Set up periodic status checks\n    const interval = setInterval(updateState, 1000)\n\n    // Try to connect if not connected\n    if (!service.isConnectionActive()) {\n      service.connect().catch((error) => {\n        setState(prev => ({\n          ...prev,\n          error: error.message,\n          status: 'disconnected'\n        }))\n      })\n    }\n\n    return () => {\n      clearInterval(interval)\n    }\n  }, [])\n\n  return state\n}\n\n/**\n * Hook for subscribing to flow execution updates\n */\nexport function useFlowExecutionUpdates(options?: {\n  flowId?: string\n  executionId?: string\n  onUpdate?: (update: FlowExecutionUpdate) => void\n}) {\n  const { success, error } = useNotifications()\n  const handlerRef = useRef(options?.onUpdate)\n  \n  // Keep handler ref updated\n  handlerRef.current = options?.onUpdate\n\n  useEffect(() => {\n    const service = getWebSocketService()\n    const unsubscribeFunctions: (() => void)[] = []\n\n    const handleUpdate = (update: FlowExecutionUpdate) => {\n      // Call the provided handler\n      if (handlerRef.current) {\n        handlerRef.current(update)\n      }\n\n      // Show toast notifications for important updates\n      switch (update.status) {\n        case 'COMPLETED':\n          success(\n            'Flow Completed',\n            `Flow \"${update.flowName}\" executed successfully`\n          )\n          break\n        case 'FAILED':\n          error(\n            'Flow Failed',\n            update.errorMessage || `Flow \"${update.flowName}\" execution failed`\n          )\n          break\n        case 'CANCELLED':\n          error(\n            'Flow Cancelled',\n            `Flow \"${update.flowName}\" was cancelled`\n          )\n          break\n      }\n    }\n\n    // Subscribe based on options\n    if (options?.executionId) {\n      unsubscribeFunctions.push(\n        service.subscribeToSpecificExecution(options.executionId, (update) => {\n          if (update.type === 'FLOW_EXECUTION_UPDATE') {\n            handleUpdate(update as FlowExecutionUpdate)\n          }\n        })\n      )\n    } else if (options?.flowId) {\n      unsubscribeFunctions.push(\n        service.subscribeToSpecificFlowExecutions(options.flowId, handleUpdate)\n      )\n    } else {\n      unsubscribeFunctions.push(\n        service.subscribeToFlowExecutions(handleUpdate)\n      )\n    }\n\n    return () => {\n      unsubscribeFunctions.forEach(unsubscribe => unsubscribe())\n    }\n  }, [options?.flowId, options?.executionId, success, error])\n}\n\n/**\n * Hook for subscribing to flow step updates\n */\nexport function useFlowStepUpdates(\n  executionId: string | undefined,\n  onUpdate?: (update: FlowStepUpdate) => void\n) {\n  const handlerRef = useRef(onUpdate)\n  \n  // Keep handler ref updated\n  handlerRef.current = onUpdate\n\n  useEffect(() => {\n    if (!executionId) return\n\n    const service = getWebSocketService()\n    \n    const unsubscribe = service.subscribeToExecutionSteps(executionId, (update) => {\n      if (handlerRef.current) {\n        handlerRef.current(update)\n      }\n    })\n\n    return unsubscribe\n  }, [executionId])\n}\n\n/**\n * Hook for subscribing to flow validation updates\n */\nexport function useFlowValidationUpdates(\n  onUpdate?: (update: any) => void\n) {\n  const handlerRef = useRef(onUpdate)\n  \n  // Keep handler ref updated\n  handlerRef.current = onUpdate\n\n  useEffect(() => {\n    const service = getWebSocketService()\n    \n    const unsubscribe = service.subscribe('/topic/flow-validations', (message) => {\n      if (handlerRef.current && message.type === 'FLOW_VALIDATION_RESULT') {\n        handlerRef.current(message)\n      }\n    })\n\n    return unsubscribe\n  }, [])\n}\n\n/**\n * Hook for subscribing to flow definition updates (create, update, delete)\n */\nexport function useFlowDefinitionUpdates(\n  onUpdate?: (update: FlowDefinitionUpdate) => void\n) {\n  const { success, error } = useNotifications()\n  const handlerRef = useRef(onUpdate)\n  \n  // Keep handler ref updated\n  handlerRef.current = onUpdate\n\n  useEffect(() => {\n    const service = getWebSocketService()\n    \n    const unsubscribe = service.subscribeToFlowDefinitionUpdates((update) => {\n      // Call the provided handler\n      if (handlerRef.current) {\n        handlerRef.current(update)\n      }\n\n      // Show toast notifications for flow changes\n      switch (update.updateType) {\n        case 'CREATED':\n          success(\n            'Flow Created',\n            `New flow \"${update.flowName}\" has been created`\n          )\n          break\n        case 'UPDATED':\n          success(\n            'Flow Updated',\n            `Flow \"${update.flowName}\" has been updated`\n          )\n          break\n        case 'DELETED':\n          error(\n            'Flow Deleted',\n            `Flow \"${update.flowName}\" has been deleted`\n          )\n          break\n        case 'ENABLED':\n          success(\n            'Flow Enabled',\n            `Flow \"${update.flowName}\" has been enabled`\n          )\n          break\n        case 'DISABLED':\n          error(\n            'Flow Disabled',\n            `Flow \"${update.flowName}\" has been disabled`\n          )\n          break\n      }\n    })\n\n    return unsubscribe\n  }, [success, error])\n}\n\n/**\n * Hook for subscribing to system health updates\n */\nexport function useSystemHealthUpdates(\n  onUpdate?: (update: SystemHealthUpdate) => void\n) {\n  const handlerRef = useRef(onUpdate)\n  \n  // Keep handler ref updated\n  handlerRef.current = onUpdate\n\n  useEffect(() => {\n    const service = getWebSocketService()\n    \n    const unsubscribe = service.subscribeToSystemHealth((update) => {\n      if (handlerRef.current) {\n        handlerRef.current(update)\n      }\n    })\n\n    return unsubscribe\n  }, [])\n}\n\n/**\n * Hook for custom WebSocket subscriptions\n */\nexport function useWebSocketSubscription(\n  topic: string,\n  handler: MessageHandler,\n  enabled = true\n) {\n  const handlerRef = useRef(handler)\n  \n  // Keep handler ref updated\n  handlerRef.current = handler\n\n  useEffect(() => {\n    if (!enabled) return\n\n    const service = getWebSocketService()\n    \n    const unsubscribe = service.subscribe(topic, (message) => {\n      handlerRef.current(message)\n    })\n\n    return unsubscribe\n  }, [topic, enabled])\n}\n\n/**\n * Hook for managing real-time data updates with automatic refresh\n */\nexport function useRealTimeData<_T>(\n  _queryKey: any[],\n  refetchQuery: () => Promise<any>,\n  subscriptions?: Array<{\n    topic: string\n    shouldRefetch: (message: WebSocketMessage) => boolean\n  }>\n) {\n  const refetchRef = useRef(refetchQuery)\n  \n  // Keep refetch ref updated\n  refetchRef.current = refetchQuery\n\n  const debouncedRefetch = useCallback(() => {\n    // Debounce rapid updates to avoid excessive API calls\n    const timeoutId = setTimeout(() => {\n      refetchRef.current()\n    }, 500)\n    \n    return () => clearTimeout(timeoutId)\n  }, [])\n\n  useEffect(() => {\n    if (!subscriptions || subscriptions.length === 0) return\n\n    const service = getWebSocketService()\n    const unsubscribeFunctions: (() => void)[] = []\n\n    for (const subscription of subscriptions) {\n      const unsubscribe = service.subscribe(subscription.topic, (message) => {\n        if (subscription.shouldRefetch(message)) {\n          debouncedRefetch()\n        }\n      })\n      unsubscribeFunctions.push(unsubscribe)\n    }\n\n    return () => {\n      unsubscribeFunctions.forEach(unsubscribe => unsubscribe())\n    }\n  }, [subscriptions, debouncedRefetch])\n}","import React from 'react'\nimport { Wifi, WifiOff, RotateCw } from 'lucide-react'\nimport { useWebSocketConnection } from '@/hooks/useWebSocket'\n\ninterface WebSocketStatusProps {\n  className?: string\n  showLabel?: boolean\n  size?: 'sm' | 'md' | 'lg'\n}\n\nconst WebSocketStatus: React.FC<WebSocketStatusProps> = ({ \n  className = '', \n  showLabel = true,\n  size = 'md' \n}) => {\n  const { status } = useWebSocketConnection()\n\n  const getIcon = () => {\n    const iconSize = size === 'sm' ? 'h-3 w-3' : size === 'lg' ? 'h-5 w-5' : 'h-4 w-4'\n    \n    switch (status) {\n      case 'connected':\n        return <Wifi className={`${iconSize} text-success`} />\n      case 'connecting':\n        return <RotateCw className={`${iconSize} text-warning animate-spin`} />\n      case 'reconnecting':\n        return <RotateCw className={`${iconSize} text-warning animate-spin`} />\n      case 'disconnected':\n      default:\n        return <WifiOff className={`${iconSize} text-destructive`} />\n    }\n  }\n\n  const getStatusText = () => {\n    switch (status) {\n      case 'connected':\n        return 'Live Updates'\n      case 'connecting':\n        return 'Connecting...'\n      case 'reconnecting':\n        return 'Reconnecting...'\n      case 'disconnected':\n      default:\n        return 'Offline'\n    }\n  }\n\n  const getStatusColor = () => {\n    switch (status) {\n      case 'connected':\n        return 'text-success'\n      case 'connecting':\n      case 'reconnecting':\n        return 'text-warning'\n      case 'disconnected':\n      default:\n        return 'text-destructive'\n    }\n  }\n\n  const textSize = size === 'sm' ? 'text-xs' : size === 'lg' ? 'text-sm' : 'text-xs'\n\n  return (\n    <div className={`flex items-center space-x-2 ${className}`}>\n      {getIcon()}\n      {showLabel && (\n        <span className={`${textSize} ${getStatusColor()}`}>\n          {getStatusText()}\n        </span>\n      )}\n    </div>\n  )\n}\n\nexport default WebSocketStatus","import React, { useState, useEffect } from 'react'\r\nimport { useForm, Controller, useWatch } from 'react-hook-form'\r\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query'\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\nimport { ArrowLeft, Save, TestTube, FileText, Server, Mail, AlertTriangle, CheckCircle } from 'lucide-react'\r\nimport { adapterApi, configApi, sshKeyApi } from '@/lib/api'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { useNotifications } from '@/stores/ui'\r\nimport WebSocketStatus from '@/components/WebSocketStatus'\r\n\r\ninterface AdapterFormData {\r\n  name: string\r\n  bank: string\r\n  description: string\r\n  adapterType: 'FILE' | 'SFTP' | 'EMAIL'\r\n  direction: 'SENDER' | 'RECEIVER'\r\n  active: boolean\r\n  configuration: Record<string, any>\r\n}\r\n\r\nconst normalizeEmailTlsConfig = (config: Record<string, any>) => {\r\n  const port = Number(config.smtpPort)\r\n  const preferSsl = port === 465\r\n\r\n  const sslEnabled = Boolean(config.sslEnabled)\r\n  const startTlsEnabled = Boolean(config.startTlsEnabled)\r\n\r\n  // Enforce strict mutual exclusion: exactly one must be true\r\n  if (sslEnabled === startTlsEnabled) {\r\n    return {\r\n      ...config,\r\n      sslEnabled: preferSsl,\r\n      startTlsEnabled: !preferSsl,\r\n    }\r\n  }\r\n\r\n  return config\r\n}\r\n\r\nconst AdapterConfiguration: React.FC = () => {\r\n  const { id } = useParams()\r\n  const navigate = useNavigate()\r\n  const { success, error } = useNotifications()\r\n  const queryClient = useQueryClient()\r\n\r\n  // Fetch system configurations for default values\r\n  const { data: systemConfigResponse } = useQuery({\r\n    queryKey: ['system-config', 'FILE_PROCESSING'],\r\n    queryFn: () => configApi.getConfigurationsByCategory('FILE_PROCESSING'),\r\n    staleTime: 5 * 60 * 1000, // 5 minutes\r\n  })\r\n\r\n  const systemConfig = systemConfigResponse?.configurations || []\r\n  const isEditing = Boolean(id)\r\n  \r\n  const [_selectedType, setSelectedType] = useState<'FILE' | 'SFTP' | 'EMAIL'>('FILE')\r\n  const [testResult, setTestResult] = useState<any>(null)\r\n\r\n  const { data: existingAdapter, isLoading: adapterLoading } = useQuery({\r\n    queryKey: ['adapter', id],\r\n    queryFn: () => adapterApi.getAdapter(id!),\r\n    enabled: isEditing,\r\n  })\r\n\r\n  // Fetch SSH keys for SFTP authentication\r\n  const { data: sshKeysData = [] } = useQuery({\r\n    queryKey: ['ssh-keys'],\r\n    queryFn: () => sshKeyApi.getAllKeys(),\r\n    staleTime: 5 * 60 * 1000, // 5 minutes\r\n  })\r\n\r\n  const { register, handleSubmit, control, watch, setValue, formState: { errors } } = useForm<AdapterFormData>({\r\n    defaultValues: {\r\n      name: '',\r\n      bank: '',\r\n      description: '',\r\n      adapterType: 'FILE',\r\n      direction: 'SENDER',\r\n      active: true,\r\n      configuration: {},\r\n    },\r\n  })\r\n\r\n  const watchType = watch('adapterType')\r\n  const watchDirection = watch('direction')\r\n\r\n  useEffect(() => {\r\n    if (existingAdapter?.data) {\r\n      const adapter = existingAdapter.data\r\n      setValue('name', adapter.name)\r\n      setValue('bank', adapter.bank)\r\n      setValue('description', adapter.description)\r\n      setValue('adapterType', adapter.adapterType)\r\n      setValue('direction', adapter.direction)\r\n      setValue('active', adapter.active)\r\n\r\n      const rawConfig = adapter.configuration || {}\r\n      const normalizedConfig = adapter.adapterType === 'EMAIL' ? normalizeEmailTlsConfig(rawConfig) : rawConfig\r\n      setValue('configuration', normalizedConfig)\r\n\r\n      setSelectedType(adapter.adapterType)\r\n    }\r\n  }, [existingAdapter, setValue])\r\n\r\n  // Update form values when system config loads (only for new adapters)\r\n  useEffect(() => {\r\n    if (systemConfig.length > 0 && !isEditing) {\r\n      const retryInterval = systemConfig.find((c: any) => c.configKey === 'file.processing.retry_interval_seconds')?.configValue\r\n      const modificationDelay = systemConfig.find((c: any) => c.configKey === 'file.processing.modification_check_delay_ms')?.configValue\r\n      const maxFileSizeMB = systemConfig.find((c: any) => c.configKey === 'file.processing.max_file_size_mb')?.configValue\r\n      \r\n      if (retryInterval) setValue('configuration.retryInterval', retryInterval)\r\n      if (modificationDelay) setValue('configuration.msecsToWaitBeforeModificationCheck', modificationDelay)\r\n      if (maxFileSizeMB) {\r\n        const maxFileSizeBytes = String(parseInt(maxFileSizeMB) * 1024 * 1024)\r\n        setValue('configuration.maximumFileSize', maxFileSizeBytes)\r\n      }\r\n    }\r\n  }, [systemConfig, isEditing, setValue])\r\n\r\n\r\n  const createMutation = useMutation({\r\n    mutationFn: adapterApi.createAdapter,\r\n    onSuccess: () => {\r\n      success('Adapter Created', 'Adapter interface created successfully')\r\n      // Add a small delay before navigation to prevent form state rendering issues\r\n      setTimeout(() => {\r\n        queryClient.invalidateQueries({ queryKey: ['adapters'] })\r\n        navigate('/adapters')\r\n      }, 100)\r\n    },\r\n    onError: (err: any) => {\r\n      error('Creation Failed', err.response?.data?.message || 'Failed to create adapter')\r\n    },\r\n  })\r\n\r\n  const updateMutation = useMutation({\r\n    mutationFn: (data: AdapterFormData) => adapterApi.updateAdapter(id!, data),\r\n    onSuccess: () => {\r\n      success('Adapter Updated', 'Adapter interface updated successfully')\r\n      // Add a small delay before navigation to prevent form state rendering issues\r\n      setTimeout(() => {\r\n        queryClient.invalidateQueries({ queryKey: ['adapters'] })\r\n        queryClient.invalidateQueries({ queryKey: ['adapter', id] })\r\n        navigate('/adapters')\r\n      }, 100)\r\n    },\r\n    onError: (err: any) => {\r\n      error('Update Failed', err.response?.data?.message || 'Failed to update adapter')\r\n    },\r\n  })\r\n\r\n  const testMutation = useMutation({\r\n    mutationFn: (data: AdapterFormData) => {\r\n      if (id) {\r\n        return adapterApi.testAdapter(id)\r\n      } else {\r\n        // For new adapters, create a temporary test with the form data\r\n        return adapterApi.createAdapter(data).then(response => \r\n          adapterApi.testAdapter(response.data.id).finally(() =>\r\n            adapterApi.deleteAdapter(response.data.id)\r\n          )\r\n        )\r\n      }\r\n    },\r\n    onSuccess: (result) => {\r\n      setTestResult(result)\r\n      if (result.data?.success) {\r\n        success('Test Successful', 'Adapter configuration test passed')\r\n      } else {\r\n        error('Test Failed', result.data?.message || 'Adapter test failed')\r\n      }\r\n    },\r\n    onError: (err: any) => {\r\n      error('Test Error', err.response?.data?.message || 'Failed to test adapter configuration')\r\n    },\r\n  })\r\n\r\n  const onSubmit = (data: AdapterFormData) => {\r\n    const payload: AdapterFormData =\r\n      data.adapterType === 'EMAIL'\r\n        ? { ...data, configuration: normalizeEmailTlsConfig(data.configuration || {}) }\r\n        : data\r\n\r\n    if (isEditing) {\r\n      updateMutation.mutate(payload)\r\n    } else {\r\n      createMutation.mutate(payload)\r\n    }\r\n  }\r\n\r\n  const handleTest = () => {\r\n    const formData = watch()\r\n    testMutation.mutate(formData)\r\n  }\r\n\r\n  const getAdapterIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'FILE':\r\n        return <FileText className=\"h-5 w-5\" />\r\n      case 'SFTP':\r\n        return <Server className=\"h-5 w-5\" />\r\n      case 'EMAIL':\r\n        return <Mail className=\"h-5 w-5\" />\r\n      default:\r\n        return <FileText className=\"h-5 w-5\" />\r\n    }\r\n  }\r\n\r\n  if (adapterLoading) {\r\n    return (\r\n      <div className=\"content-spacing\">\r\n        <div className=\"flex items-center justify-center h-64\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\r\n            <span className=\"text-muted-foreground\">Loading adapter configuration...</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"content-spacing\">\r\n      <div className=\"flex items-center space-x-4 mb-6\">\r\n        <Button variant=\"outline\" size=\"sm\" onClick={() => navigate('/adapters')}>\r\n          <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n          Back to Adapters\r\n        </Button>\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">\r\n            {isEditing ? 'Edit Adapter' : 'Create New Adapter'}\r\n          </h1>\r\n          <div className=\"flex items-center space-x-4\">\r\n            <p className=\"text-muted-foreground\">\r\n              {isEditing ? 'Modify your adapter configuration' : 'Configure a new file transfer adapter'}\r\n            </p>\r\n            <WebSocketStatus size=\"sm\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\r\n        {/* Basic Information */}\r\n        <Card className=\"app-card border\">\r\n          <CardHeader>\r\n            <CardTitle className=\"text-foreground\">Basic Information</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"name\">Adapter Name</Label>\r\n                <Input\r\n                  id=\"name\"\r\n                  placeholder=\"Enter adapter name\"\r\n                  className=\"bg-input border-border text-foreground\"\r\n                  {...register('name', { \r\n                    required: 'Adapter name is required',\r\n                    minLength: { value: 3, message: 'Name must be at least 3 characters' }\r\n                  })}\r\n                />\r\n                {errors.name && (\r\n                  <p className=\"text-sm text-destructive\">{errors.name.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"bank\">Bank</Label>\r\n                <Input\r\n                  id=\"bank\"\r\n                  placeholder=\"Enter bank name (e.g., FNB, ABSA)\"\r\n                  className=\"bg-input border-border text-foreground\"\r\n                  {...register('bank', { \r\n                    required: 'Bank name is required',\r\n                    minLength: { value: 2, message: 'Bank name must be at least 2 characters' }\r\n                  })}\r\n                />\r\n                {errors.bank && (\r\n                  <p className=\"text-sm text-destructive\">{errors.bank.message}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"description\">Description</Label>\r\n              <Input\r\n                id=\"description\"\r\n                placeholder=\"Enter adapter description\"\r\n                className=\"bg-input border-border text-foreground\"\r\n                {...register('description', { \r\n                  required: 'Description is required' \r\n                })}\r\n              />\r\n              {errors.description && (\r\n                <p className=\"text-sm text-destructive\">{errors.description.message}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"type\">Adapter Type</Label>\r\n                <Controller\r\n                  name=\"adapterType\"\r\n                  control={control}\r\n                  rules={{ required: 'Adapter type is required' }}\r\n                  render={({ field }) => (\r\n                    <Select\r\n                      value={field.value}\r\n                      onValueChange={(value) => {\r\n                        field.onChange(value)\r\n                        setSelectedType(value as 'FILE' | 'SFTP' | 'EMAIL')\r\n                      }}\r\n                    >\r\n                      <SelectTrigger>\r\n                        <SelectValue placeholder=\"Select adapter type\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"FILE\">File Adapter</SelectItem>\r\n                        <SelectItem value=\"SFTP\">SFTP Adapter</SelectItem>\r\n                        <SelectItem value=\"EMAIL\">Email Adapter</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  )}\r\n                />\r\n                {errors.adapterType && (\r\n                  <p className=\"text-sm text-destructive\">{errors.adapterType.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"direction\">Direction</Label>\r\n                <Controller\r\n                  name=\"direction\"\r\n                  control={control}\r\n                  render={({ field }) => (\r\n                    <Select value={field.value} onValueChange={field.onChange}>\r\n                      <SelectTrigger>\r\n                        <SelectValue placeholder=\"Select direction\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"SENDER\">Sender</SelectItem>\r\n                        <SelectItem value=\"RECEIVER\">Receiver</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  )}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-3\">\r\n              <Controller\r\n                name=\"active\"\r\n                control={control}\r\n                render={({ field }) => (\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <Switch\r\n                      id=\"active\"\r\n                      checked={Boolean(field.value)}\r\n                      onCheckedChange={field.onChange}\r\n                    />\r\n                    <Label htmlFor=\"active\" className=\"text-sm font-medium\">\r\n                      {field.value ? 'Active' : 'Inactive'}\r\n                    </Label>\r\n                  </div>\r\n                )}\r\n              />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Type-Specific Configuration */}\r\n        <Card className=\"app-card border\">\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center space-x-2 text-foreground\">\r\n              {getAdapterIcon(watchType)}\r\n              <span>{watchType} Configuration</span>\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <TypeSpecificConfiguration\r\n              key={`${watchType}-${watchDirection}-${isEditing ? id : 'new'}`}\r\n              type={watchType}\r\n              direction={watchDirection}\r\n              control={control}\r\n              register={register}\r\n              errors={errors}\r\n              systemConfig={systemConfig}\r\n              setValue={setValue}\r\n              sshKeysData={sshKeysData}\r\n            />\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Test Results */}\r\n        {testResult && (\r\n          <Card className=\"app-card border\">\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center space-x-2 text-foreground\">\r\n                <TestTube className=\"h-5 w-5\" />\r\n                <span>Test Results</span>\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className={`flex items-start space-x-3 p-4 rounded-md ${\r\n                testResult.data?.success ? 'bg-success/10 border border-success/20' : 'bg-destructive/10 border border-destructive/20'\r\n              }`}>\r\n                {testResult.data?.success ? (\r\n                  <CheckCircle className=\"h-5 w-5 text-success mt-0.5\" />\r\n                ) : (\r\n                  <AlertTriangle className=\"h-5 w-5 text-destructive mt-0.5\" />\r\n                )}\r\n                <div>\r\n                  <p className={`font-medium ${testResult.data?.success ? 'text-success' : 'text-destructive'}`}>\r\n                    {testResult.data?.success ? 'Configuration Test Passed' : 'Configuration Test Failed'}\r\n                  </p>\r\n                  <p className=\"text-sm text-muted-foreground mt-1\">\r\n                    {testResult.data?.message || 'No additional details available'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n\r\n        {/* Action Buttons */}\r\n        <div className=\"flex items-center space-x-4\">\r\n          <Button\r\n            type=\"submit\"\r\n            className=\"btn-primary\"\r\n            disabled={createMutation.isPending || updateMutation.isPending}\r\n          >\r\n            <Save className=\"h-4 w-4 mr-2\" />\r\n            {createMutation.isPending || updateMutation.isPending \r\n              ? (isEditing ? 'Updating...' : 'Creating...') \r\n              : (isEditing ? 'Update Adapter' : 'Create Adapter')\r\n            }\r\n          </Button>\r\n\r\n          {/* Only show test button for SFTP adapters */}\r\n          {watchType === 'SFTP' && (\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={handleTest}\r\n              disabled={testMutation.isPending}\r\n            >\r\n              <TestTube className=\"h-4 w-4 mr-2\" />\r\n              {testMutation.isPending ? 'Testing...' : 'Test Configuration'}\r\n            </Button>\r\n          )}\r\n\r\n          <Button\r\n            type=\"button\"\r\n            variant=\"outline\"\r\n            onClick={() => navigate('/adapters')}\r\n          >\r\n            Cancel\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Type-specific configuration components\r\nconst TypeSpecificConfiguration: React.FC<{\r\n  type: 'FILE' | 'SFTP' | 'EMAIL'\r\n  direction: 'SENDER' | 'RECEIVER'\r\n  control: any\r\n  register: any\r\n  errors: any\r\n  systemConfig: any\r\n  setValue: any\r\n  sshKeysData?: any[]\r\n}> = ({ type, direction, control, register, errors, systemConfig, setValue, sshKeysData = [] }) => {\r\n  switch (type) {\r\n    case 'FILE':\r\n      return <FileAdapterConfig direction={direction} control={control} register={register} errors={errors} systemConfig={systemConfig} />\r\n    case 'SFTP':\r\n      return <SftpAdapterConfig direction={direction} control={control} register={register} errors={errors} systemConfig={systemConfig} sshKeysData={sshKeysData} />\r\n    case 'EMAIL':\r\n      return <EmailAdapterConfig direction={direction} control={control} register={register} errors={errors} systemConfig={systemConfig} setValue={setValue} />\r\n    default:\r\n      return null\r\n  }\r\n}\r\n\r\n// File Adapter Configuration - Enhanced to match SFTP capabilities\r\nconst FileAdapterConfig: React.FC<any> = ({ direction, control, register, errors, systemConfig }) => {\r\n  const watchArchiveFaultyFiles = useWatch({\r\n    control,\r\n    name: 'configuration.archiveFaultySourceFiles',\r\n    defaultValue: false\r\n  })\r\n\r\n  const watchProcessingMode = useWatch({\r\n    control,\r\n    name: 'configuration.processingMode',\r\n    defaultValue: 'Test'\r\n  })\r\n\r\n  const watchOutputFilenameMode = useWatch({\r\n    control,\r\n    name: 'configuration.outputFilenameMode',\r\n    defaultValue: 'UseOriginal'\r\n  })\r\n\r\n  // Scheduler watch variables\r\n  const watchScheduleMode = useWatch({\r\n    control,\r\n    name: 'configuration.scheduleMode',\r\n    defaultValue: 'OnTime'\r\n  })\r\n\r\n  const watchScheduleType = useWatch({\r\n    control,\r\n    name: 'configuration.scheduleType',\r\n    defaultValue: 'Daily'\r\n  })\r\n\r\n  return (\r\n  <div className=\"space-y-6\">\r\n    {/* Directory Configuration */}\r\n    <div>\r\n      <h3 className=\"text-lg font-semibold text-foreground mb-4\">\r\n        {direction === 'SENDER' ? 'Source' : 'Target'} Configuration\r\n      </h3>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n        {direction === 'SENDER' ? (\r\n          <>\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"sourceDirectory\">Source Directory *</Label>\r\n              <Input\r\n                id=\"sourceDirectory\"\r\n                {...register('configuration.sourceDirectory', { required: true })}\r\n                placeholder=\"/data/input\"\r\n                className={errors?.configuration?.sourceDirectory ? 'border-destructive' : ''}\r\n              />\r\n              {errors?.configuration?.sourceDirectory && (\r\n                <span className=\"text-sm text-destructive\">Source directory is required</span>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"filePattern\">File Name Mask</Label>\r\n              <Input\r\n                id=\"filePattern\"\r\n                {...register('configuration.filePattern')}\r\n                placeholder=\"*.xml\"\r\n                defaultValue=\"*\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"exclusionMask\">Exclusion Mask</Label>\r\n              <Input\r\n                id=\"exclusionMask\"\r\n                {...register('configuration.exclusionMask')}\r\n                placeholder=\"*.tmp\"\r\n              />\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"targetDirectory\">Target Directory *</Label>\r\n              <Input\r\n                id=\"targetDirectory\"\r\n                {...register('configuration.targetDirectory', { required: true })}\r\n                placeholder=\"/data/output\"\r\n                className={errors?.configuration?.targetDirectory ? 'border-destructive' : ''}\r\n              />\r\n              {errors?.configuration?.targetDirectory && (\r\n                <span className=\"text-sm text-destructive\">Target directory is required</span>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"flex items-center space-x-2\">\r\n              <Controller\r\n                name=\"configuration.createTargetDirectory\"\r\n                control={control}\r\n                render={({ field }) => (\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"createTargetDirectory\"\r\n                    checked={Boolean(field.value)}\r\n                    onChange={field.onChange}\r\n                    className=\"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary\"\r\n                  />\r\n                )}\r\n              />\r\n              <Label htmlFor=\"createTargetDirectory\">Create Target Directory</Label>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n\r\n    {/* Processing Parameters - Direction Specific */}\r\n    {direction === 'SENDER' ? (\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold text-foreground mb-4\">Processing Parameters</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"retryInterval\">Retry Interval (secs)</Label>\r\n            <Input\r\n              id=\"retryInterval\"\r\n              type=\"number\"\r\n              {...register('configuration.retryInterval')}\r\n              placeholder=\"60\"\r\n              defaultValue={systemConfig?.find((c: any) => c.configKey === 'file.processing.retry_interval_seconds')?.configValue || \"60\"}\r\n              min=\"1\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"emptyFileHandling\">Empty File Handling</Label>\r\n            <Controller\r\n              name=\"configuration.emptyFileHandling\"\r\n              control={control}\r\n              defaultValue=\"Do Not Create Message\"\r\n              render={({ field }) => (\r\n                <Select value={field.value} onValueChange={field.onChange}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select handling\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"Do Not Create Message\">Do Not Create Message</SelectItem>\r\n                    <SelectItem value=\"Process Empty Files\">Process Empty Files</SelectItem>\r\n                    <SelectItem value=\"Skip Empty Files\">Skip Empty Files</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              )}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"processingMode\">Processing Mode</Label>\r\n            <Controller\r\n              name=\"configuration.processingMode\"\r\n              control={control}\r\n              defaultValue=\"Test\"\r\n              render={({ field }) => (\r\n                <Select value={field.value} onValueChange={field.onChange}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select mode\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"Test\">Test</SelectItem>\r\n                    <SelectItem value=\"Archive\">Archive</SelectItem>\r\n                    <SelectItem value=\"Delete\">Delete</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              )}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"fileType\">File Type</Label>\r\n            <Controller\r\n              name=\"configuration.fileType\"\r\n              control={control}\r\n              defaultValue=\"Binary\"\r\n              render={({ field }) => (\r\n                <Select value={field.value} onValueChange={field.onChange}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select file type\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"Binary\">Binary</SelectItem>\r\n                    <SelectItem value=\"Text\">Text</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              )}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      /* Outbound Processing Parameters */\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold text-foreground mb-4\">File Output Configuration</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"outputFilenameMode\">Output Filename Mode</Label>\r\n            <Controller\r\n              name=\"configuration.outputFilenameMode\"\r\n              control={control}\r\n              defaultValue=\"UseOriginal\"\r\n              render={({ field }) => (\r\n                <Select value={field.value} onValueChange={field.onChange}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select filename mode\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"UseOriginal\">Use Original Filename</SelectItem>\r\n                    <SelectItem value=\"AddTimestamp\">Add Timestamp to Filename</SelectItem>\r\n                    <SelectItem value=\"Custom\">Custom Filename Pattern</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              )}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"fileType\">File Type</Label>\r\n            <Controller\r\n              name=\"configuration.fileType\"\r\n              control={control}\r\n              defaultValue=\"Binary\"\r\n              render={({ field }) => (\r\n                <Select value={field.value} onValueChange={field.onChange}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select file type\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"Binary\">Binary</SelectItem>\r\n                    <SelectItem value=\"Text\">Text</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              )}\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Custom Filename Pattern - shown when Output Filename Mode is Custom */}\r\n        {watchOutputFilenameMode === 'Custom' && (\r\n          <div className=\"mt-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"customFilenamePattern\">Custom Filename Pattern</Label>\r\n              <Input\r\n                id=\"customFilenamePattern\"\r\n                {...register('configuration.customFilenamePattern')}\r\n                placeholder=\"{original_name}_{timestamp}.{extension}\"\r\n                className=\"bg-input border-border text-foreground\"\r\n              />\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                Available variables: {'{original_name}'}, {'{timestamp}'}, {'{date}'}, {'{extension}'}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )}\r\n\r\n    {/* Archive Configuration - shown when Processing Mode is Archive (Sender only) */}\r\n    {direction === 'SENDER' && watchProcessingMode === 'Archive' && (\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold text-foreground mb-4\">Archive Configuration</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"archiveDirectory\">Archive Directory</Label>\r\n            <Input\r\n              id=\"archiveDirectory\"\r\n              {...register('configuration.archiveDirectory')}\r\n              placeholder=\"/data/archive\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"archiveFileNaming\">Archive File Naming</Label>\r\n            <Controller\r\n              name=\"configuration.archiveFileNaming\"\r\n              control={control}\r\n              defaultValue=\"Original\"\r\n              render={({ field }) => (\r\n                <Select value={field.value} onValueChange={field.onChange}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select naming\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"Original\">Keep Original Name</SelectItem>\r\n                    <SelectItem value=\"Timestamp\">Add Timestamp</SelectItem>\r\n                    <SelectItem value=\"Counter\">Add Counter</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              )}\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <Controller\r\n              name=\"configuration.createArchiveDirectory\"\r\n              control={control}\r\n              render={({ field }) => (\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"createArchiveDirectory\"\r\n                  checked={Boolean(field.value)}\r\n                  onChange={field.onChange}\r\n                  className=\"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary\"\r\n                />\r\n              )}\r\n            />\r\n            <Label htmlFor=\"createArchiveDirectory\">Create Archive Directory if it doesn't exist</Label>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-2\">\r\n            <Controller\r\n              name=\"configuration.compressArchive\"\r\n              control={control}\r\n              render={({ field }) => (\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"compressArchive\"\r\n                  checked={Boolean(field.value)}\r\n                  onChange={field.onChange}\r\n                  className=\"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary\"\r\n                />\r\n              )}\r\n            />\r\n            <Label htmlFor=\"compressArchive\">Compress archived files</Label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )}\r\n\r\n    {/* Archive and Error Handling */}\r\n    {direction === 'SENDER' && (\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold text-foreground mb-4\">Error Handling</h3>\r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <Controller\r\n              name=\"configuration.archiveFaultySourceFiles\"\r\n              control={control}\r\n              render={({ field }) => (\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"archiveFaultySourceFiles\"\r\n                  checked={Boolean(field.value)}\r\n                  onChange={field.onChange}\r\n                  className=\"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary\"\r\n                />\r\n              )}\r\n            />\r\n            <Label htmlFor=\"archiveFaultySourceFiles\">Archive Faulty Source Files</Label>\r\n          </div>\r\n          \r\n          {watchArchiveFaultyFiles && (\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"archiveErrorDirectory\">Directory for Archiving Files with Errors</Label>\r\n              <Input\r\n                id=\"archiveErrorDirectory\"\r\n                {...register('configuration.archiveErrorDirectory')}\r\n                placeholder=\"/data/error\"\r\n              />\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"flex items-center space-x-2\">\r\n            <Controller\r\n              name=\"configuration.processReadOnlyFiles\"\r\n              control={control}\r\n              render={({ field }) => (\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"processReadOnlyFiles\"\r\n                  checked={Boolean(field.value)}\r\n                  onChange={field.onChange}\r\n                  className=\"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary\"\r\n                />\r\n              )}\r\n            />\r\n            <Label htmlFor=\"processReadOnlyFiles\">Process Read-Only Files</Label>\r\n          </div>\r\n          \r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"processingSequence\">Processing Sequence</Label>\r\n            <Controller\r\n              name=\"configuration.processingSequence\"\r\n              control={control}\r\n              defaultValue=\"By Name\"\r\n              render={({ field }) => (\r\n                <Select value={field.value} onValueChange={field.onChange}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select sequence\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"By Name\">By Name</SelectItem>\r\n                    <SelectItem value=\"By Date\">By Date</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              )}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )}\r\n\r\n    {/* Outbound Specific Settings */}\r\n    {direction === 'RECEIVER' && (\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold text-foreground mb-4\">File Construction</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"fileConstructionMode\">File Construction Mode</Label>\r\n            <Controller\r\n              name=\"configuration.fileConstructionMode\"\r\n              control={control}\r\n              defaultValue=\"Create\"\r\n              render={({ field }) => (\r\n                <Select value={field.value} onValueChange={field.onChange}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select mode\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"Add Time Stamp\">Add Time Stamp</SelectItem>\r\n                    <SelectItem value=\"Create\">Create</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              )}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"writeMode\">Write Mode</Label>\r\n            <Controller\r\n              name=\"configuration.writeMode\"\r\n              control={control}\r\n              defaultValue=\"Directly\"\r\n              render={({ field }) => (\r\n                <Select value={field.value} onValueChange={field.onChange}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select write mode\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"Directly\">Directly</SelectItem>\r\n                    <SelectItem value=\"Create Temp File\">Create Temp File</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              )}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"emptyMessageHandling\">Empty Message Handling</Label>\r\n            <Controller\r\n              name=\"configuration.emptyMessageHandling\"\r\n              control={control}\r\n              defaultValue=\"Write Empty File\"\r\n              render={({ field }) => (\r\n                <Select value={field.value} onValueChange={field.onChange}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select handling\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"Write Empty File\">Write Empty File</SelectItem>\r\n                    <SelectItem value=\"Skip Empty Messages\">Skip Empty Messages</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              )}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"maximumConcurrency\">Maximum Concurrency</Label>\r\n            <Input\r\n              id=\"maximumConcurrency\"\r\n              type=\"number\"\r\n              {...register('configuration.maximumConcurrency')}\r\n              placeholder=\"1\"\r\n              defaultValue=\"1\"\r\n              min=\"1\"\r\n              max=\"10\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )}\r\n\r\n    {/* Advanced Parameters */}\r\n    <div>\r\n      <h3 className=\"text-lg font-semibold text-foreground mb-4\">Advanced Parameters</h3>\r\n      <div className=\"space-y-4\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"msecsToWaitBeforeModificationCheck\">Msecs to Wait Before Modification Check</Label>\r\n            <Input\r\n              id=\"msecsToWaitBeforeModificationCheck\"\r\n              type=\"number\"\r\n              {...register('configuration.msecsToWaitBeforeModificationCheck')}\r\n              placeholder=\"0\"\r\n              defaultValue={systemConfig?.find((c: any) => c.configKey === 'file.processing.modification_check_delay_ms')?.configValue || \"0\"}\r\n              min=\"0\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"maximumFileSize\">Maximum File Size (Bytes)</Label>\r\n            <Input\r\n              id=\"maximumFileSize\"\r\n              type=\"number\"\r\n              {...register('configuration.maximumFileSize')}\r\n              placeholder=\"0\"\r\n              defaultValue={(() => {\r\n                const maxFileSizeMB = systemConfig?.find((c: any) => c.configKey === 'file.processing.max_file_size_mb')?.configValue;\r\n                return maxFileSizeMB ? String(parseInt(maxFileSizeMB) * 1024 * 1024) : \"0\";\r\n              })()}\r\n              min=\"0\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    {/* Scheduler Settings - Only for SENDER direction */}\r\n    {direction === 'SENDER' && (\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold text-foreground mb-4\">Scheduler Settings</h3>\r\n        <div className=\"space-y-4\">\r\n          {/* Schedule Type */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"scheduleType\">Schedule Type</Label>\r\n              <Controller\r\n                name=\"configuration.scheduleType\"\r\n                control={control}\r\n                defaultValue=\"Daily\"\r\n                render={({ field }) => (\r\n                  <Select value={field.value} onValueChange={field.onChange}>\r\n                    <SelectTrigger>\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"Daily\">Daily</SelectItem>\r\n                      <SelectItem value=\"Weekly\">Weekly</SelectItem>\r\n                      <SelectItem value=\"Monthly\">Monthly</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                )}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"scheduleMode\">Schedule Mode</Label>\r\n              <Controller\r\n                name=\"configuration.scheduleMode\"\r\n                control={control}\r\n                defaultValue=\"OnTime\"\r\n                render={({ field }) => (\r\n                  <Select value={field.value} onValueChange={field.onChange}>\r\n                    <SelectTrigger>\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"OnTime\">On Time</SelectItem>\r\n                      <SelectItem value=\"Every\">Every Interval</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                )}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Time Configuration based on Schedule Mode */}\r\n          {watchScheduleMode === 'OnTime' && (\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"onTimeValue\">Execution Time</Label>\r\n              <Input\r\n                id=\"onTimeValue\"\r\n                type=\"time\"\r\n                defaultValue=\"20:27\"\r\n                className=\"bg-input border-border text-foreground\"\r\n                {...register('configuration.onTimeValue')}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {watchScheduleMode === 'Every' && (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"everyInterval\">Every Interval</Label>\r\n                <Controller\r\n                  name=\"configuration.everyInterval\"\r\n                  control={control}\r\n                  defaultValue=\"1 min\"\r\n                  render={({ field }) => (\r\n                    <Select value={field.value} onValueChange={field.onChange}>\r\n                      <SelectTrigger>\r\n                        <SelectValue />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"1 min\">1 minute</SelectItem>\r\n                        <SelectItem value=\"5 min\">5 minutes</SelectItem>\r\n                        <SelectItem value=\"15 min\">15 minutes</SelectItem>\r\n                        <SelectItem value=\"30 min\">30 minutes</SelectItem>\r\n                        <SelectItem value=\"1 hour\">1 hour</SelectItem>\r\n                        <SelectItem value=\"2 hours\">2 hours</SelectItem>\r\n                        <SelectItem value=\"4 hours\">4 hours</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  )}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"everyStartTime\">Start Time</Label>\r\n                <Input\r\n                  id=\"everyStartTime\"\r\n                  type=\"time\"\r\n                  defaultValue=\"00:00\"\r\n                  className=\"bg-input border-border text-foreground\"\r\n                  {...register('configuration.everyStartTime')}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"everyEndTime\">End Time</Label>\r\n                <Input\r\n                  id=\"everyEndTime\"\r\n                  type=\"time\"\r\n                  defaultValue=\"24:00\"\r\n                  className=\"bg-input border-border text-foreground\"\r\n                  {...register('configuration.everyEndTime')}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Weekly Days Selection - shown when Schedule Type is Weekly */}\r\n          {watchScheduleType === 'Weekly' && (\r\n            <div className=\"space-y-2\">\r\n              <Label>Days of Week</Label>\r\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n                {[\r\n                  { key: 'monday', label: 'Monday' },\r\n                  { key: 'tuesday', label: 'Tuesday' },\r\n                  { key: 'wednesday', label: 'Wednesday' },\r\n                  { key: 'thursday', label: 'Thursday' },\r\n                  { key: 'friday', label: 'Friday' },\r\n                  { key: 'saturday', label: 'Saturday' },\r\n                  { key: 'sunday', label: 'Sunday' }\r\n                ].map((day) => (\r\n                  <div key={day.key} className=\"flex items-center space-x-2\">\r\n                    <Controller\r\n                      name={`configuration.weeklyDays.${day.key}`}\r\n                      control={control}\r\n                      defaultValue={false}\r\n                      render={({ field }) => (\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          id={`weekly_${day.key}`}\r\n                          checked={Boolean(field.value)}\r\n                          onChange={field.onChange}\r\n                          className=\"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary\"\r\n                        />\r\n                      )}\r\n                    />\r\n                    <Label htmlFor={`weekly_${day.key}`} className=\"text-sm\">{day.label}</Label>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Monthly Day Selection - shown when Schedule Type is Monthly */}\r\n          {watchScheduleType === 'Monthly' && (\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"monthlyDay\">Day of Month</Label>\r\n              <Controller\r\n                name=\"configuration.monthlyDay\"\r\n                control={control}\r\n                defaultValue=\"1\"\r\n                render={({ field }) => (\r\n                  <Select value={field.value} onValueChange={field.onChange}>\r\n                    <SelectTrigger>\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {Array.from({ length: 31 }, (_, i) => i + 1).map(day => (\r\n                        <SelectItem key={day} value={day.toString()}>{day}</SelectItem>\r\n                      ))}\r\n                      <SelectItem value=\"last\">Last Day of Month</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                )}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )}\r\n  </div>\r\n  )\r\n}\r\n\r\n// SFTP Adapter Configuration  \r\nconst SftpAdapterConfig: React.FC<any> = ({ direction, control, register, errors, systemConfig: _, sshKeysData = [] }) => {\r\n  const watchScheduleMode = useWatch({\r\n    control,\r\n    name: 'configuration.scheduleMode',\r\n    defaultValue: 'OnTime'\r\n  })\r\n\r\n  const watchScheduleType = useWatch({\r\n    control,\r\n    name: 'configuration.scheduleType',\r\n    defaultValue: 'Daily'\r\n  })\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Connection Settings */}\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold text-foreground mb-4\">Connection Settings</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"host\">Host</Label>\r\n            <Input\r\n              id=\"host\"\r\n              placeholder=\"sftp.bank.com\"\r\n              className=\"bg-input border-border text-foreground\"\r\n              {...register('configuration.host', { \r\n                required: 'SFTP host is required' \r\n              })}\r\n            />\r\n            {errors.configuration?.host && (\r\n              <p className=\"text-sm text-destructive\">{errors.configuration.host.message}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"port\">Port</Label>\r\n            <Input\r\n              id=\"port\"\r\n              type=\"number\"\r\n              placeholder=\"22\"\r\n              defaultValue=\"22\"\r\n              className=\"bg-input border-border text-foreground\"\r\n              {...register('configuration.port', { \r\n                valueAsNumber: true,\r\n                required: 'Port is required' \r\n              })}\r\n            />\r\n            {errors.configuration?.port && (\r\n              <p className=\"text-sm text-destructive\">{errors.configuration.port.message}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"authenticationType\">Authentication Type</Label>\r\n            <Controller\r\n              name=\"configuration.authenticationType\"\r\n              control={control}\r\n              defaultValue=\"USERNAME_PASSWORD\"\r\n              render={({ field }) => (\r\n                <Select value={field.value} onValueChange={field.onChange}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select authentication type\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"USERNAME_PASSWORD\">Username/Password</SelectItem>\r\n                    <SelectItem value=\"PUBLIC_KEY\">Public Key</SelectItem>\r\n                    <SelectItem value=\"DUAL\">Dual Authentication</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              )}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Authentication Fields - Dynamic based on type */}\r\n        <AuthenticationFields control={control} register={register} errors={errors} sshKeysData={sshKeysData} />\r\n      </div>\r\n\r\n      {/* RECEIVER Configuration - Remote Destination Settings */}\r\n      {direction === 'RECEIVER' && (\r\n        <>\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-foreground mb-4\">Remote Destination Settings</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"remoteDirectory\">Remote Directory</Label>\r\n                <Input\r\n                  id=\"remoteDirectory\"\r\n                  placeholder=\"/incoming/payments\"\r\n                  className=\"bg-input border-border text-foreground\"\r\n                  {...register('configuration.remoteDirectory', { \r\n                    required: 'Remote directory is required for receiver adapters' \r\n                  })}\r\n                />\r\n                {errors.configuration?.remoteDirectory && (\r\n                  <p className=\"text-sm text-destructive\">{errors.configuration.remoteDirectory.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"remoteFilePermissions\">Remote File Permissions</Label>\r\n                <Input\r\n                  id=\"remoteFilePermissions\"\r\n                  placeholder=\"644\"\r\n                  defaultValue=\"644\"\r\n                  className=\"bg-input border-border text-foreground\"\r\n                  {...register('configuration.remoteFilePermissions')}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Controller\r\n                  name=\"configuration.createRemoteDirectory\"\r\n                  control={control}\r\n                  render={({ field }) => (\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"createRemoteDirectory\"\r\n                      checked={Boolean(field.value)}\r\n                      onChange={field.onChange}\r\n                      className=\"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary\"\r\n                    />\r\n                  )}\r\n                />\r\n                <Label htmlFor=\"createRemoteDirectory\">Create Remote Directory</Label>\r\n              </div>\r\n\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Controller\r\n                  name=\"configuration.useTemporaryFileName\"\r\n                  control={control}\r\n                  render={({ field }) => (\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"useTemporaryFileName\"\r\n                      checked={Boolean(field.value)}\r\n                      onChange={field.onChange}\r\n                      className=\"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary\"\r\n                    />\r\n                  )}\r\n                />\r\n                <Label htmlFor=\"useTemporaryFileName\">Use Temporary File Name</Label>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2 mt-4\">\r\n              <Label htmlFor=\"temporaryFileSuffix\">Temporary File Suffix</Label>\r\n              <Input\r\n                id=\"temporaryFileSuffix\"\r\n                placeholder=\".uploading\"\r\n                defaultValue=\".uploading\"\r\n                className=\"bg-input border-border text-foreground\"\r\n                {...register('configuration.temporaryFileSuffix')}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Output Filename Configuration */}\r\n          <OutputFilenameConfiguration control={control} register={register} />\r\n        </>\r\n      )}\r\n\r\n      {/* Connection Properties */}\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold text-foreground mb-4\">Connection Properties</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"connectionTimeout\">Connection Timeout (ms)</Label>\r\n            <Input\r\n              id=\"connectionTimeout\"\r\n              type=\"number\"\r\n              placeholder=\"30000\"\r\n              defaultValue=\"30000\"\r\n              className=\"bg-input border-border text-foreground\"\r\n              {...register('configuration.connectionTimeout', { \r\n                valueAsNumber: true,\r\n                min: { value: 1000, message: 'Connection timeout must be at least 1000ms' },\r\n                max: { value: 300000, message: 'Connection timeout cannot exceed 300000ms' }\r\n              })}\r\n            />\r\n            {errors.configuration?.connectionTimeout && (\r\n              <p className=\"text-sm text-destructive\">{errors.configuration.connectionTimeout.message}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"socketTimeout\">Socket Timeout (ms)</Label>\r\n            <Input\r\n              id=\"socketTimeout\"\r\n              type=\"number\"\r\n              placeholder=\"60000\"\r\n              defaultValue=\"60000\"\r\n              className=\"bg-input border-border text-foreground\"\r\n              {...register('configuration.socketTimeout', { \r\n                valueAsNumber: true,\r\n                min: { value: 1000, message: 'Socket timeout must be at least 1000ms' },\r\n                max: { value: 300000, message: 'Socket timeout cannot exceed 300000ms' }\r\n              })}\r\n            />\r\n            {errors.configuration?.socketTimeout && (\r\n              <p className=\"text-sm text-destructive\">{errors.configuration.socketTimeout.message}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"keepAlive\">Keep Alive</Label>\r\n            <Controller\r\n              name=\"configuration.keepAlive\"\r\n              control={control}\r\n              render={({ field }) => (\r\n                <Select value={field.value ? \"true\" : \"false\"} onValueChange={(value) => field.onChange(value === \"true\")}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select keep alive\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"true\">Enabled</SelectItem>\r\n                    <SelectItem value=\"false\">Disabled</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              )}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"sessionTimeout\">Session Timeout (ms)</Label>\r\n            <Input\r\n              id=\"sessionTimeout\"\r\n              type=\"number\"\r\n              placeholder=\"60000\"\r\n              defaultValue=\"60000\"\r\n              className=\"bg-input border-border text-foreground\"\r\n              {...register('configuration.sessionTimeout', { \r\n                valueAsNumber: true,\r\n                min: { value: 1000, message: 'Session timeout must be at least 1000ms' },\r\n                max: { value: 600000, message: 'Session timeout cannot exceed 600000ms' }\r\n              })}\r\n            />\r\n            {errors.configuration?.sessionTimeout && (\r\n              <p className=\"text-sm text-destructive\">{errors.configuration.sessionTimeout.message}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"channelTimeout\">Channel Timeout (ms)</Label>\r\n            <Input\r\n              id=\"channelTimeout\"\r\n              type=\"number\"\r\n              placeholder=\"30000\"\r\n              defaultValue=\"30000\"\r\n              className=\"bg-input border-border text-foreground\"\r\n              {...register('configuration.channelTimeout', { \r\n                valueAsNumber: true,\r\n                min: { value: 1000, message: 'Channel timeout must be at least 1000ms' },\r\n                max: { value: 300000, message: 'Channel timeout cannot exceed 300000ms' }\r\n              })}\r\n            />\r\n            {errors.configuration?.channelTimeout && (\r\n              <p className=\"text-sm text-destructive\">{errors.configuration.channelTimeout.message}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"connectionPoolSize\">Connection Pool Size</Label>\r\n            <Input\r\n              id=\"connectionPoolSize\"\r\n              type=\"number\"\r\n              placeholder=\"5\"\r\n              defaultValue=\"5\"\r\n              min=\"1\"\r\n              max=\"20\"\r\n              className=\"bg-input border-border text-foreground\"\r\n              {...register('configuration.connectionPoolSize', { \r\n                valueAsNumber: true,\r\n                min: { value: 1, message: 'Connection pool size must be at least 1' },\r\n                max: { value: 20, message: 'Connection pool size cannot exceed 20' }\r\n              })}\r\n            />\r\n            {errors.configuration?.connectionPoolSize && (\r\n              <p className=\"text-sm text-destructive\">{errors.configuration.connectionPoolSize.message}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"strictHostKeyChecking\">Strict Host Key Checking</Label>\r\n            <Controller\r\n              name=\"configuration.strictHostKeyChecking\"\r\n              control={control}\r\n              defaultValue={false}\r\n              render={({ field }) => (\r\n                <Select value={field.value ? \"true\" : \"false\"} onValueChange={(value) => field.onChange(value === \"true\")}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select host key checking\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"true\">Enabled</SelectItem>\r\n                    <SelectItem value=\"false\">Disabled</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              )}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"connectionMode\">Connection Mode</Label>\r\n            <Controller\r\n              name=\"configuration.connectionMode\"\r\n              control={control}\r\n              defaultValue=\"Permanently\"\r\n              render={({ field }) => (\r\n                <Select value={field.value} onValueChange={field.onChange}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select connection mode\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"Permanently\">Permanently</SelectItem>\r\n                    <SelectItem value=\"Per File Transfer\">Per File Transfer</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              )}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Transfer Settings */}\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold text-foreground mb-4\">Transfer Settings</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"maxRetryAttempts\">Max Retry Attempts</Label>\r\n            <Input\r\n              id=\"maxRetryAttempts\"\r\n              type=\"number\"\r\n              placeholder=\"3\"\r\n              defaultValue=\"3\"\r\n              min=\"1\"\r\n              max=\"10\"\r\n              className=\"bg-input border-border text-foreground\"\r\n              {...register('configuration.maxRetryAttempts', { \r\n                valueAsNumber: true,\r\n                min: { value: 1, message: 'Max retry attempts must be at least 1' },\r\n                max: { value: 10, message: 'Max retry attempts cannot exceed 10' }\r\n              })}\r\n            />\r\n            {errors.configuration?.maxRetryAttempts && (\r\n              <p className=\"text-sm text-destructive\">{errors.configuration.maxRetryAttempts.message}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"retryDelayMs\">Retry Delay (ms)</Label>\r\n            <Input\r\n              id=\"retryDelayMs\"\r\n              type=\"number\"\r\n              placeholder=\"5000\"\r\n              defaultValue=\"5000\"\r\n              className=\"bg-input border-border text-foreground\"\r\n              {...register('configuration.retryDelayMs', { \r\n                valueAsNumber: true,\r\n                min: { value: 100, message: 'Retry delay must be at least 100ms' },\r\n                max: { value: 60000, message: 'Retry delay cannot exceed 60000ms' }\r\n              })}\r\n            />\r\n            {errors.configuration?.retryDelayMs && (\r\n              <p className=\"text-sm text-destructive\">{errors.configuration.retryDelayMs.message}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"maxFileSize\">Max File Size (MB)</Label>\r\n            <Input\r\n              id=\"maxFileSize\"\r\n              type=\"number\"\r\n              placeholder=\"100\"\r\n              defaultValue=\"100\"\r\n              className=\"bg-input border-border text-foreground\"\r\n              {...register('configuration.maxFileSize', { \r\n                valueAsNumber: true,\r\n                min: { value: 1, message: 'Max file size must be at least 1MB' },\r\n                max: { value: 5000, message: 'Max file size cannot exceed 5000MB' }\r\n              })}\r\n            />\r\n            {errors.configuration?.maxFileSize && (\r\n              <p className=\"text-sm text-destructive\">{errors.configuration.maxFileSize.message}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"transferBufferSize\">Transfer Buffer Size (KB)</Label>\r\n            <Input\r\n              id=\"transferBufferSize\"\r\n              type=\"number\"\r\n              placeholder=\"32\"\r\n              defaultValue=\"32\"\r\n              className=\"bg-input border-border text-foreground\"\r\n              {...register('configuration.transferBufferSize', { \r\n                valueAsNumber: true,\r\n                min: { value: 1, message: 'Transfer buffer size must be at least 1KB' },\r\n                max: { value: 1024, message: 'Transfer buffer size cannot exceed 1024KB' }\r\n              })}\r\n            />\r\n            {errors.configuration?.transferBufferSize && (\r\n              <p className=\"text-sm text-destructive\">{errors.configuration.transferBufferSize.message}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* File Transfer Settings */}\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold text-foreground mb-4\">File Transfer Settings</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-1 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"transferMode\">Transfer Mode</Label>\r\n            <Controller\r\n              name=\"configuration.transferMode\"\r\n              control={control}\r\n              defaultValue=\"BINARY\"\r\n              render={({ field }) => (\r\n                <Select value={field.value} onValueChange={field.onChange}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select transfer mode\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"BINARY\">Binary</SelectItem>\r\n                    <SelectItem value=\"ASCII\">ASCII</SelectItem>\r\n                    <SelectItem value=\"AUTO\">Auto</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              )}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* SENDER Configuration - Remote Pickup Settings */}\r\n      {direction === 'SENDER' && (\r\n        <>\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-foreground mb-4\">Remote Pickup Settings</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"remoteDirectory\">Remote Directory</Label>\r\n                <Input\r\n                  id=\"remoteDirectory\"\r\n                  placeholder=\"/outgoing/statements\"\r\n                  className=\"bg-input border-border text-foreground\"\r\n                  {...register('configuration.remoteDirectory', { \r\n                    required: 'Remote directory is required for sender adapters' \r\n                  })}\r\n                />\r\n                {errors.configuration?.remoteDirectory && (\r\n                  <p className=\"text-sm text-destructive\">{errors.configuration.remoteDirectory.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"filename\">Filename Pattern</Label>\r\n                <Input\r\n                  id=\"filename\"\r\n                  placeholder=\"*.csv\"\r\n                  className=\"bg-input border-border text-foreground\"\r\n                  {...register('configuration.filename', { \r\n                    required: 'Filename pattern is required for sender adapters' \r\n                  })}\r\n                />\r\n                {errors.configuration?.filename && (\r\n                  <p className=\"text-sm text-destructive\">{errors.configuration.filename.message}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"excludePattern\">Exclude Pattern</Label>\r\n                <Input\r\n                  id=\"excludePattern\"\r\n                  placeholder=\"*.tmp,*.processing\"\r\n                  className=\"bg-input border-border text-foreground\"\r\n                  {...register('configuration.excludePattern')}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n\r\n          {/* Scheduler Settings */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-foreground mb-4\">Scheduler Settings</h3>\r\n            <div className=\"space-y-4\">\r\n              {/* Schedule Type */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"scheduleType\">Schedule Type</Label>\r\n                  <Controller\r\n                    name=\"configuration.scheduleType\"\r\n                    control={control}\r\n                    defaultValue=\"Daily\"\r\n                    render={({ field }) => (\r\n                      <Select value={field.value} onValueChange={field.onChange}>\r\n                        <SelectTrigger>\r\n                          <SelectValue />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          <SelectItem value=\"Daily\">Daily</SelectItem>\r\n                          <SelectItem value=\"Weekly\">Weekly</SelectItem>\r\n                          <SelectItem value=\"Monthly\">Monthly</SelectItem>\r\n                        </SelectContent>\r\n                      </Select>\r\n                    )}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"scheduleMode\">Schedule Mode</Label>\r\n                  <Controller\r\n                    name=\"configuration.scheduleMode\"\r\n                    control={control}\r\n                    defaultValue=\"OnTime\"\r\n                    render={({ field }) => (\r\n                      <Select value={field.value} onValueChange={field.onChange}>\r\n                        <SelectTrigger>\r\n                          <SelectValue />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          <SelectItem value=\"OnTime\">On Time</SelectItem>\r\n                          <SelectItem value=\"Every\">Every Interval</SelectItem>\r\n                        </SelectContent>\r\n                      </Select>\r\n                    )}\r\n                  />\r\n                </div>\r\n\r\n              </div>\r\n\r\n              {/* Time Configuration based on Schedule Mode */}\r\n              {watchScheduleMode === 'OnTime' && (\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"onTimeValue\">Execution Time</Label>\r\n                  <Input\r\n                    id=\"onTimeValue\"\r\n                    type=\"time\"\r\n                    defaultValue=\"20:27\"\r\n                    className=\"bg-input border-border text-foreground\"\r\n                    {...register('configuration.onTimeValue')}\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {watchScheduleMode === 'Every' && (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"everyInterval\">Every Interval</Label>\r\n                    <Controller\r\n                      name=\"configuration.everyInterval\"\r\n                      control={control}\r\n                      defaultValue=\"1 min\"\r\n                      render={({ field }) => (\r\n                        <Select value={field.value} onValueChange={field.onChange}>\r\n                          <SelectTrigger>\r\n                            <SelectValue />\r\n                          </SelectTrigger>\r\n                          <SelectContent>\r\n                            <SelectItem value=\"1 min\">1 minute</SelectItem>\r\n                            <SelectItem value=\"5 min\">5 minutes</SelectItem>\r\n                            <SelectItem value=\"15 min\">15 minutes</SelectItem>\r\n                            <SelectItem value=\"30 min\">30 minutes</SelectItem>\r\n                            <SelectItem value=\"1 hour\">1 hour</SelectItem>\r\n                            <SelectItem value=\"2 hours\">2 hours</SelectItem>\r\n                            <SelectItem value=\"4 hours\">4 hours</SelectItem>\r\n                          </SelectContent>\r\n                        </Select>\r\n                      )}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"everyStartTime\">Start Time</Label>\r\n                    <Input\r\n                      id=\"everyStartTime\"\r\n                      type=\"time\"\r\n                      defaultValue=\"00:00\"\r\n                      className=\"bg-input border-border text-foreground\"\r\n                      {...register('configuration.everyStartTime')}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"everyEndTime\">End Time</Label>\r\n                    <Input\r\n                      id=\"everyEndTime\"\r\n                      type=\"time\"\r\n                      defaultValue=\"24:00\"\r\n                      className=\"bg-input border-border text-foreground\"\r\n                      {...register('configuration.everyEndTime')}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Weekly Days Selection - shown when Schedule Type is Weekly */}\r\n              {watchScheduleType === 'Weekly' && (\r\n                <div className=\"space-y-2\">\r\n                  <Label>Days of Week</Label>\r\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n                    {[\r\n                      { key: 'monday', label: 'Monday' },\r\n                      { key: 'tuesday', label: 'Tuesday' },\r\n                      { key: 'wednesday', label: 'Wednesday' },\r\n                      { key: 'thursday', label: 'Thursday' },\r\n                      { key: 'friday', label: 'Friday' },\r\n                      { key: 'saturday', label: 'Saturday' },\r\n                      { key: 'sunday', label: 'Sunday' }\r\n                    ].map((day) => (\r\n                      <div key={day.key} className=\"flex items-center space-x-2\">\r\n                        <Controller\r\n                          name={`configuration.weeklyDays.${day.key}`}\r\n                          control={control}\r\n                          defaultValue={false}\r\n                          render={({ field }) => (\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              id={`weekly_${day.key}`}\r\n                              checked={Boolean(field.value)}\r\n                              onChange={field.onChange}\r\n                              className=\"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary\"\r\n                            />\r\n                          )}\r\n                        />\r\n                        <Label htmlFor={`weekly_${day.key}`} className=\"text-sm\">{day.label}</Label>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Monthly Day Selection - shown when Schedule Type is Monthly */}\r\n              {watchScheduleType === 'Monthly' && (\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"monthlyDay\">Day of Month</Label>\r\n                  <Controller\r\n                    name=\"configuration.monthlyDay\"\r\n                    control={control}\r\n                    defaultValue=\"1\"\r\n                    render={({ field }) => (\r\n                      <Select value={field.value} onValueChange={field.onChange}>\r\n                        <SelectTrigger>\r\n                          <SelectValue />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          {Array.from({ length: 31 }, (_, i) => i + 1).map(day => (\r\n                            <SelectItem key={day} value={day.toString()}>{day}</SelectItem>\r\n                          ))}\r\n                          <SelectItem value=\"last\">Last Day of Month</SelectItem>\r\n                        </SelectContent>\r\n                      </Select>\r\n                    )}\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Empty File Handling */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-foreground mb-4\">Empty File Handling</h3>\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"emptyFileHandling\">Empty File Handling</Label>\r\n              <Controller\r\n                name=\"configuration.emptyFileHandling\"\r\n                control={control}\r\n                defaultValue=\"Do Not Create Message\"\r\n                render={({ field }) => (\r\n                  <Select value={field.value} onValueChange={field.onChange}>\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Select empty file handling\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"Do Not Create Message\">Do Not Create Message</SelectItem>\r\n                      <SelectItem value=\"Process Empty Files\">Process Empty Files</SelectItem>\r\n                      <SelectItem value=\"Skip Empty Files\">Skip Empty Files</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                )}\r\n              />\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {/* Post-Processing - Only show for sender SFTP adapters */}\r\n      {direction === 'SENDER' && (\r\n        <SftpPostProcessingSettings control={control} register={register} />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n// Output Filename Configuration Component for RECEIVER\r\nconst OutputFilenameConfiguration: React.FC<any> = ({ control, register }) => {\r\n  const watchOutputFilenameMode = useWatch({\r\n    control,\r\n    name: 'configuration.outputFilenameMode',\r\n    defaultValue: 'UseOriginal'\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <h3 className=\"text-lg font-semibold text-foreground mb-4\">Output Filename Configuration</h3>\r\n      <div className=\"space-y-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"outputFilenameMode\">Output Filename Mode</Label>\r\n          <Controller\r\n            name=\"configuration.outputFilenameMode\"\r\n            control={control}\r\n            defaultValue=\"UseOriginal\"\r\n            render={({ field }) => (\r\n              <Select value={field.value} onValueChange={field.onChange}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select filename mode\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"UseOriginal\">Use Original Filename</SelectItem>\r\n                  <SelectItem value=\"AddTimestamp\">Add Timestamp to Filename</SelectItem>\r\n                  <SelectItem value=\"Custom\">Custom Filename Pattern</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            )}\r\n          />\r\n        </div>\r\n\r\n        {/* Custom Filename Pattern - shown when Output Filename Mode is Custom */}\r\n        {watchOutputFilenameMode === 'Custom' && (\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"customFilenamePattern\">Custom Filename Pattern</Label>\r\n            <Input\r\n              id=\"customFilenamePattern\"\r\n              {...register('configuration.customFilenamePattern')}\r\n              placeholder=\"{original_name}_{timestamp}.{extension}\"\r\n              className=\"bg-input border-border text-foreground\"\r\n            />\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              Available variables: {'{original_name}'}, {'{timestamp}'}, {'{date}'}, {'{extension}'}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// SFTP Post-Processing Settings Component for SENDER\r\nconst SftpPostProcessingSettings: React.FC<any> = ({ control, register }) => {\r\n  const watchPostProcessAction = useWatch({\r\n    control,\r\n    name: 'configuration.postProcessAction',\r\n    defaultValue: 'ARCHIVE'\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <h3 className=\"text-lg font-semibold text-foreground mb-4\">Post-Processing</h3>\r\n      <div className=\"space-y-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"postProcessAction\">Post Process Action</Label>\r\n          <Controller\r\n            name=\"configuration.postProcessAction\"\r\n            control={control}\r\n            defaultValue=\"ARCHIVE\"\r\n            render={({ field }) => (\r\n              <Select value={field.value} onValueChange={field.onChange}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select post process action\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"ARCHIVE\">Archive</SelectItem>\r\n                  <SelectItem value=\"KEEP_AND_MARK\">Keep File and Mark as Processed</SelectItem>\r\n                  <SelectItem value=\"KEEP_AND_REPROCESS\">Keep File and Process Again</SelectItem>\r\n                  <SelectItem value=\"DELETE\">Delete File</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            )}\r\n          />\r\n        </div>\r\n\r\n        {watchPostProcessAction === 'ARCHIVE' && (\r\n          <>\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"archiveDirectory\">Archive Directory</Label>\r\n              <Input\r\n                id=\"archiveDirectory\"\r\n                placeholder=\"/data/archive\"\r\n                className=\"bg-input border-border text-foreground\"\r\n                {...register('configuration.archiveDirectory')}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Controller\r\n                  name=\"configuration.archiveWithTimestamp\"\r\n                  control={control}\r\n                  render={({ field }) => (\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"archiveWithTimestamp\"\r\n                      checked={Boolean(field.value)}\r\n                      onChange={field.onChange}\r\n                      className=\"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary\"\r\n                    />\r\n                  )}\r\n                />\r\n                <Label htmlFor=\"archiveWithTimestamp\">Archive with Timestamp</Label>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"compressionType\">Compression Type</Label>\r\n                <Controller\r\n                  name=\"configuration.compressionType\"\r\n                  control={control}\r\n                  defaultValue=\"NONE\"\r\n                  render={({ field }) => (\r\n                    <Select value={field.value} onValueChange={field.onChange}>\r\n                      <SelectTrigger>\r\n                        <SelectValue placeholder=\"Select compression\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"NONE\">None</SelectItem>\r\n                        <SelectItem value=\"GZIP\">GZIP</SelectItem>\r\n                        <SelectItem value=\"ZIP\">ZIP</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  )}\r\n                />\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {watchPostProcessAction === 'KEEP_AND_MARK' && (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"processedDirectory\">Processed Directory</Label>\r\n              <Input\r\n                id=\"processedDirectory\"\r\n                placeholder=\"/data/processed\"\r\n                className=\"bg-input border-border text-foreground\"\r\n                {...register('configuration.processedDirectory')}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"processedFileSuffix\">Processed File Suffix</Label>\r\n              <Input\r\n                id=\"processedFileSuffix\"\r\n                placeholder=\".processed\"\r\n                className=\"bg-input border-border text-foreground\"\r\n                {...register('configuration.processedFileSuffix')}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {watchPostProcessAction === 'KEEP_AND_REPROCESS' && (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-1 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"reprocessingDelay\">Reprocessing Delay (ms)</Label>\r\n              <Input\r\n                id=\"reprocessingDelay\"\r\n                type=\"number\"\r\n                placeholder=\"3600000\"\r\n                className=\"bg-input border-border text-foreground\"\r\n                {...register('configuration.reprocessingDelay', { valueAsNumber: true })}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {watchPostProcessAction === 'DELETE' && (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"deleteBackupDirectory\">Delete Backup Directory</Label>\r\n              <Input\r\n                id=\"deleteBackupDirectory\"\r\n                placeholder=\"/data/deleted_backup\"\r\n                className=\"bg-input border-border text-foreground\"\r\n                {...register('configuration.deleteBackupDirectory')}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-2\">\r\n              <Controller\r\n                name=\"configuration.confirmDelete\"\r\n                control={control}\r\n                render={({ field }) => (\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"confirmDelete\"\r\n                    checked={Boolean(field.value)}\r\n                    onChange={field.onChange}\r\n                    className=\"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary\"\r\n                  />\r\n                )}\r\n              />\r\n              <Label htmlFor=\"confirmDelete\">Confirm Delete</Label>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Email Adapter Configuration\r\nconst EmailAdapterConfig: React.FC<any> = ({ direction, control, register, errors, systemConfig: _, setValue }) => (\r\n  <div className=\"space-y-4\">\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n      <div className=\"space-y-2\">\r\n        <Label htmlFor=\"smtpHost\">SMTP Host</Label>\r\n        <Input\r\n          id=\"smtpHost\"\r\n          placeholder=\"smtp.gmail.com\"\r\n          className=\"bg-input border-border text-foreground\"\r\n          {...register('configuration.smtpHost', { \r\n            required: 'SMTP host is required' \r\n          })}\r\n        />\r\n        {errors.configuration?.smtpHost && (\r\n          <p className=\"text-sm text-destructive\">{errors.configuration.smtpHost.message}</p>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"space-y-2\">\r\n        <Label htmlFor=\"smtpPort\">SMTP Port</Label>\r\n        <Input\r\n          id=\"smtpPort\"\r\n          type=\"number\"\r\n          placeholder=\"587\"\r\n          className=\"bg-input border-border text-foreground\"\r\n          {...register('configuration.smtpPort', { \r\n            valueAsNumber: true,\r\n            required: 'SMTP port is required' \r\n          })}\r\n        />\r\n        {errors.configuration?.smtpPort && (\r\n          <p className=\"text-sm text-destructive\">{errors.configuration.smtpPort.message}</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n\r\n    {/* SSL/TLS Configuration */}\r\n    <div className=\"space-y-4\">\r\n      <h4 className=\"text-sm font-medium text-foreground\">SSL/TLS Settings</h4>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <Controller\r\n              name=\"configuration.sslEnabled\"\r\n              control={control}\r\n              render={({ field }) => (\r\n                <Switch\r\n                  id=\"sslEnabled\"\r\n                  checked={Boolean(field.value)}\r\n                  onCheckedChange={(checked) => {\r\n                    field.onChange(checked)\r\n                    setValue('configuration.startTlsEnabled', !checked, { shouldValidate: true, shouldDirty: true })\r\n                  }}\r\n                />\r\n              )}\r\n            />\r\n            <Label htmlFor=\"sslEnabled\">Enable SSL (Port 465)</Label>\r\n          </div>\r\n          <p className=\"text-xs text-muted-foreground\">\r\n            Use SSL for secure connection. Required for port 465.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <Controller\r\n              name=\"configuration.startTlsEnabled\"\r\n              control={control}\r\n              render={({ field }) => (\r\n                <Switch\r\n                  id=\"startTlsEnabled\"\r\n                  checked={Boolean(field.value)}\r\n                  onCheckedChange={(checked) => {\r\n                    field.onChange(checked)\r\n                    setValue('configuration.sslEnabled', !checked, { shouldValidate: true, shouldDirty: true })\r\n                  }}\r\n                />\r\n              )}\r\n            />\r\n            <Label htmlFor=\"startTlsEnabled\">Enable STARTTLS (Port 587)</Label>\r\n          </div>\r\n          <p className=\"text-xs text-muted-foreground\">\r\n            Use STARTTLS for secure connection. Typically used with port 587.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div className=\"space-y-2\">\r\n      <Label htmlFor=\"fromAddress\">From Address (Sender Email)</Label>\r\n      <Input\r\n        id=\"fromAddress\"\r\n        placeholder=\"noreply@company.com\"\r\n        className=\"bg-input border-border text-foreground\"\r\n        {...register('configuration.fromAddress', { \r\n          required: 'From address is required',\r\n          pattern: {\r\n            value: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\r\n            message: 'Please enter a valid email address'\r\n          }\r\n        })}\r\n      />\r\n      {errors.configuration?.fromAddress && (\r\n        <p className=\"text-sm text-destructive\">{errors.configuration.fromAddress.message}</p>\r\n      )}\r\n    </div>\r\n\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n      <div className=\"space-y-2\">\r\n        <Label htmlFor=\"smtpUsername\">Email Username</Label>\r\n        <Input\r\n          id=\"smtpUsername\"\r\n          placeholder=\"notifications@company.com\"\r\n          className=\"bg-input border-border text-foreground\"\r\n          {...register('configuration.smtpUsername', { \r\n            required: 'Email username is required' \r\n          })}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"space-y-2\">\r\n        <Label htmlFor=\"smtpPassword\">Email Password</Label>\r\n        <Input\r\n          id=\"smtpPassword\"\r\n          type=\"password\"\r\n          placeholder=\"Enter email password\"\r\n          className=\"bg-input border-border text-foreground\"\r\n          {...register('configuration.smtpPassword', { \r\n            required: 'Email password is required' \r\n          })}\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    {direction === 'RECEIVER' && (\r\n      <div className=\"space-y-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"recipients\">Recipients (comma-separated)</Label>\r\n          <Input\r\n            id=\"recipients\"\r\n            placeholder=\"user1@example.com, user2@example.com\"\r\n            className=\"bg-input border-border text-foreground\"\r\n            {...register('configuration.recipients', { \r\n              required: 'Recipients are required for receiver email' \r\n            })}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"subject\">Email Subject</Label>\r\n          <Input\r\n            id=\"subject\"\r\n            placeholder=\"File Transfer Notification\"\r\n            className=\"bg-input border-border text-foreground\"\r\n            {...register('configuration.subject')}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"body\">Email Body</Label>\r\n          <textarea\r\n            id=\"body\"\r\n            placeholder=\"Enter the email body text...\"\r\n            className=\"flex min-h-[120px] w-full rounded-md border border-border bg-input px-3 py-2 text-sm text-foreground ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\r\n            {...register('configuration.body')}\r\n          />\r\n          <p className=\"text-xs text-muted-foreground\">\r\n            Files will be attached directly from the flow execution context.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    )}\r\n  </div>\r\n)\r\n\r\n// Authentication Fields Component - Dynamic based on authentication type\r\nconst AuthenticationFields: React.FC<any> = ({ control, register, errors, sshKeysData = [] }) => {\r\n  const watchAuthType = useWatch({\r\n    control,\r\n    name: 'configuration.authenticationType',\r\n    defaultValue: 'USERNAME_PASSWORD'\r\n  })\r\n\r\n  return (\r\n    <div className=\"space-y-4 mt-4\">\r\n      {(watchAuthType === 'USERNAME_PASSWORD' || watchAuthType === 'DUAL') && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"username\">Username</Label>\r\n            <Input\r\n              id=\"username\"\r\n              placeholder=\"Administrator\"\r\n              className=\"bg-input border-border text-foreground\"\r\n              {...register('configuration.username', { \r\n                required: watchAuthType === 'USERNAME_PASSWORD' ? 'Username is required' : false\r\n              })}\r\n            />\r\n            {errors.configuration?.username && (\r\n              <p className=\"text-sm text-destructive\">{errors.configuration.username.message}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"password\">Password</Label>\r\n            <Input\r\n              id=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"\"\r\n              className=\"bg-input border-border text-foreground\"\r\n              {...register('configuration.password', { \r\n                required: watchAuthType === 'USERNAME_PASSWORD' ? 'Password is required' : false\r\n              })}\r\n            />\r\n            {errors.configuration?.password && (\r\n              <p className=\"text-sm text-destructive\">{errors.configuration.password.message}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Server Fingerprint - shown for all authentication types */}\r\n      <div className=\"space-y-2\">\r\n        <Label htmlFor=\"serverFingerprint\">Server Fingerprint</Label>\r\n        <Input\r\n          id=\"serverFingerprint\"\r\n          placeholder=\"SHA256:AAAA... or MD5:aa:bb:cc...\"\r\n          className=\"bg-input border-border text-foreground\"\r\n          {...register('configuration.serverFingerprint')}\r\n        />\r\n        <p className=\"text-xs text-muted-foreground\">\r\n          Optional: SSH server host key fingerprint for additional security verification\r\n        </p>\r\n      </div>\r\n\r\n      {(watchAuthType === 'PUBLIC_KEY' || watchAuthType === 'DUAL') && (\r\n        <div className=\"space-y-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"sshKeyId\">SSH Key</Label>\r\n            <Controller\r\n              name=\"configuration.sshKeyId\"\r\n              control={control}\r\n              rules={{ \r\n                required: watchAuthType === 'PUBLIC_KEY' ? 'SSH Key is required' : false\r\n              }}\r\n              render={({ field }) => (\r\n                <Select value={field.value} onValueChange={field.onChange}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select SSH Key\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {sshKeysData.length > 0 ? (\r\n                      sshKeysData.map((key: any) => (\r\n                        <SelectItem key={key.id} value={key.id}>\r\n                          {key.name} ({key.keyType})\r\n                        </SelectItem>\r\n                      ))\r\n                    ) : (\r\n                      <SelectItem value=\"no-keys\" disabled>\r\n                        No SSH keys available\r\n                      </SelectItem>\r\n                    )}\r\n                  </SelectContent>\r\n                </Select>\r\n              )}\r\n            />\r\n            {errors.configuration?.sshKeyId && (\r\n              <p className=\"text-sm text-destructive\">{errors.configuration.sshKeyId.message}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"flex items-center space-x-4 text-sm text-muted-foreground\">\r\n            <span>Need an SSH key?</span>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => window.open('/ssh-keys', '_blank')}\r\n              className=\"text-primary hover:underline\"\r\n            >\r\n              Generate SSH Key\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {watchAuthType === 'DUAL' && (\r\n        <div className=\"p-3 bg-amber-50 border border-amber-200 rounded-md\">\r\n          <p className=\"text-sm text-amber-800\">\r\n            <strong>Dual Authentication:</strong> Both username/password and SSH key will be used for authentication.\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdapterConfiguration","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { authApi, userApi } from '@/lib/api'\r\nimport { useAuthStore } from '@/stores/auth'\r\nimport { useNotifications } from '@/stores/ui'\r\n\r\nexport const useAuth = () => {\r\n  const { user, token, isAuthenticated, setAuth, clearAuth, setLoading } = useAuthStore()\r\n  const { success, error } = useNotifications()\r\n  const queryClient = useQueryClient()\r\n\r\n  // Login mutation\r\n  const loginMutation = useMutation({\r\n    mutationFn: authApi.login,\r\n    onMutate: () => {\r\n      setLoading(true)\r\n    },\r\n    onSuccess: (response) => {\r\n      // Backend returns: { accessToken, refreshToken, username, fullName, role }\r\n      console.log('[Auth] Login response:', response)\r\n      \r\n      if (response.accessToken && response.username) {\r\n        const user = {\r\n          id: response.userId || response.username, // fallback to username if no ID\r\n          username: response.username,\r\n          firstName: response.fullName?.split(' ')[0] || response.username,\r\n          lastName: response.fullName?.split(' ')[1] || '',\r\n          email: response.email || `${response.username}@h2h.com`, // fallback email\r\n          role: response.role,\r\n          enabled: true,\r\n          createdAt: new Date().toISOString(),\r\n          lastLogin: new Date().toISOString()\r\n        }\r\n        \r\n        setAuth(user, response.accessToken)\r\n        success('Welcome back!', `Hello ${user.firstName}`)\r\n        queryClient.invalidateQueries({ queryKey: ['currentUser'] })\r\n      } else {\r\n        console.error('[Auth] Invalid login response structure:', response)\r\n        error('Login Failed', 'Invalid response from server')\r\n      }\r\n      setLoading(false)\r\n    },\r\n    onError: (err: any) => {\r\n      const message = err.response?.data?.message || 'Login failed. Please check your credentials.'\r\n      error('Login Failed', message)\r\n      setLoading(false)\r\n    },\r\n  })\r\n\r\n  // Logout mutation\r\n  const logoutMutation = useMutation({\r\n    mutationFn: authApi.logout,\r\n    onSuccess: () => {\r\n      clearAuth()\r\n      queryClient.clear()\r\n      success('Logged out', 'Successfully logged out')\r\n    },\r\n    onError: () => {\r\n      // Still clear auth even if logout API fails\r\n      clearAuth()\r\n      queryClient.clear()\r\n      error('Logout Error', 'There was an issue logging out, but you have been signed out locally')\r\n    },\r\n  })\r\n\r\n  // Refresh token mutation\r\n  const refreshMutation = useMutation({\r\n    mutationFn: (refreshToken: string) => authApi.refreshToken(refreshToken),\r\n    onSuccess: (response) => {\r\n      if (response.success && response.data.user && response.data.token) {\r\n        setAuth(response.data.user, response.data.token)\r\n      }\r\n    },\r\n    onError: () => {\r\n      clearAuth()\r\n      queryClient.clear()\r\n    },\r\n  })\r\n\r\n  // Get current user query\r\n  const currentUserQuery = useQuery({\r\n    queryKey: ['currentUser'],\r\n    queryFn: userApi.getCurrentUser,\r\n    enabled: !!token && isAuthenticated,\r\n    retry: false,\r\n    refetchOnWindowFocus: false,\r\n    refetchOnMount: false,\r\n  })\r\n\r\n  const login = (credentials: { username: string; password: string }) => {\r\n    return loginMutation.mutate(credentials)\r\n  }\r\n\r\n  const logout = () => {\r\n    return logoutMutation.mutate()\r\n  }\r\n\r\n  const refreshToken = (refreshToken: string) => {\r\n    return refreshMutation.mutate(refreshToken)\r\n  }\r\n\r\n  return {\r\n    // State\r\n    user,\r\n    token,\r\n    isAuthenticated,\r\n    isLoading: loginMutation.isPending || logoutMutation.isPending || refreshMutation.isPending,\r\n    \r\n    // Actions\r\n    login,\r\n    logout,\r\n    refreshToken,\r\n    \r\n    // Mutations\r\n    loginMutation,\r\n    logoutMutation,\r\n    refreshMutation,\r\n    \r\n    // Queries\r\n    currentUserQuery,\r\n  }\r\n}\r\n\r\n// Hook for checking if user has specific roles\r\nexport const usePermissions = () => {\r\n  const { user } = useAuthStore()\r\n\r\n  const hasRole = (role: string | string[]) => {\r\n    if (!user) return false\r\n    \r\n    const roles = Array.isArray(role) ? role : [role]\r\n    return roles.includes(user.role)\r\n  }\r\n\r\n  const isAdmin = () => hasRole('ADMINISTRATOR')\r\n  const isViewer = () => hasRole('VIEWER')\r\n\r\n  return {\r\n    hasRole,\r\n    isAdmin,\r\n    isViewer,\r\n    currentRole: user?.role,\r\n  }\r\n}","import React from 'react'\nimport { CheckCircle, AlertTriangle } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport {\n  Dialog,\n  DialogContent,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\n\ninterface TestResultData {\n  success: boolean\n  error?: string\n  testResult?: string\n  testType?: string\n  host?: string\n  port?: number\n  username?: string\n  homeDirectory?: string\n  homeDirectoryAccessible?: boolean\n  remoteDirectory?: string\n  connectionEstablished?: boolean\n  sftpChannelOpened?: boolean\n  directoryAccessible?: boolean\n  readPermission?: boolean\n  writePermission?: boolean\n  deletePermission?: boolean\n  fileCount?: number\n  smtpHost?: string\n  smtpPort?: number\n  smtpConnectionEstablished?: boolean\n}\n\ninterface AdapterTestResultModalProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  testResult: {\n    data: TestResultData\n  } | null\n}\n\nexport const AdapterTestResultModal: React.FC<AdapterTestResultModalProps> = ({\n  open,\n  onOpenChange,\n  testResult,\n}) => {\n  if (!testResult?.data) return null\n\n  const data = testResult.data\n\n  const StatusIcon = ({ success }: { success: boolean }) => (\n    success ? (\n      <CheckCircle className=\"h-4 w-4 text-success\" />\n    ) : (\n      <AlertTriangle className=\"h-4 w-4 text-destructive\" />\n    )\n  )\n\n  const StatusText = ({ success, successText = \"Success\", failText = \"Failed\" }: { \n    success: boolean\n    successText?: string\n    failText?: string \n  }) => (\n    <span className={success ? 'text-success' : 'text-destructive'}>\n      {success ? successText : failText}\n    </span>\n  )\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-2xl\">\n        <DialogHeader className=\"pb-0\">\n          <DialogTitle className=\"flex items-center space-x-2 text-lg\">\n            {data.success ? (\n              <>\n                <CheckCircle className=\"h-5 w-5 text-success\" />\n                <span>Test Successful</span>\n              </>\n            ) : (\n              <>\n                <AlertTriangle className=\"h-5 w-5 text-destructive\" />\n                <span>Test Failed</span>\n              </>\n            )}\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-6 py-4\">\n          {/* Error/Success Message */}\n          {!data.success && data.error && (\n            <div className=\"text-foreground leading-relaxed\">\n              {data.error}\n            </div>\n          )}\n          \n          {data.success && data.testResult && (\n            <div className=\"text-foreground leading-relaxed\">\n              {data.testResult}\n            </div>\n          )}\n\n          {/* Connection Details */}\n          <div>\n            <h3 className=\"text-lg font-semibold text-foreground mb-4\">Connection Details</h3>\n            <div className=\"space-y-3\">\n              <div className=\"grid grid-cols-2 gap-x-8 gap-y-3\">\n                {data.host && (\n                  <div>\n                    <span className=\"text-muted-foreground\">Host: </span>\n                    <span className=\"text-foreground font-medium\">\n                      {data.host}:{data.port || 22}\n                    </span>\n                  </div>\n                )}\n                {data.username && (\n                  <div>\n                    <span className=\"text-muted-foreground\">Username: </span>\n                    <span className=\"text-foreground font-medium\">{data.username}</span>\n                  </div>\n                )}\n              </div>\n\n              {data.homeDirectory && (\n                <div>\n                  <span className=\"text-muted-foreground\">Home Directory: </span>\n                  <span className=\"text-foreground font-medium\">{data.homeDirectory}</span>\n                  {data.homeDirectoryAccessible && (\n                    <span className=\"ml-2 text-success\">(Accessible)</span>\n                  )}\n                </div>\n              )}\n\n              {data.remoteDirectory && (\n                <div>\n                  <span className=\"text-muted-foreground\">Target Directory: </span>\n                  <span className=\"text-foreground font-medium\">{data.remoteDirectory}</span>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* SFTP Connection Status and Permissions */}\n          {data.testType === 'SFTP_CONNECTION' && (\n            <div className=\"grid grid-cols-2 gap-8\">\n              {/* Connection Status */}\n              <div>\n                <h3 className=\"text-lg font-semibold text-foreground mb-4\">Connection Status</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">Connection:</span>\n                    <div className=\"flex items-center space-x-2\">\n                      <StatusIcon success={data.connectionEstablished || false} />\n                      <StatusText success={data.connectionEstablished || false} />\n                    </div>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">SFTP Channel:</span>\n                    <div className=\"flex items-center space-x-2\">\n                      <StatusIcon success={data.sftpChannelOpened || false} />\n                      <StatusText \n                        success={data.sftpChannelOpened || false} \n                        successText=\"Opened\" \n                        failText=\"Failed\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">Directory Access:</span>\n                    <div className=\"flex items-center space-x-2\">\n                      <StatusIcon success={data.directoryAccessible || false} />\n                      <StatusText \n                        success={data.directoryAccessible || false} \n                        successText=\"Accessible\" \n                        failText=\"Failed\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Permissions */}\n              <div>\n                <h3 className=\"text-lg font-semibold text-foreground mb-4\">Permissions</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">Read:</span>\n                    <div className=\"flex items-center space-x-2\">\n                      <StatusIcon success={data.readPermission || false} />\n                      <StatusText \n                        success={data.readPermission || false} \n                        successText=\"Allowed\" \n                        failText=\"Denied\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">Write:</span>\n                    <div className=\"flex items-center space-x-2\">\n                      <StatusIcon success={data.writePermission || false} />\n                      <StatusText \n                        success={data.writePermission || false} \n                        successText=\"Allowed\" \n                        failText=\"Denied\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">Delete:</span>\n                    <div className=\"flex items-center space-x-2\">\n                      <StatusIcon success={data.deletePermission || false} />\n                      <StatusText \n                        success={data.deletePermission || false} \n                        successText=\"Allowed\" \n                        failText=\"Denied\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* File Count for SFTP */}\n          {data.testType === 'SFTP_CONNECTION' && data.fileCount !== undefined && (\n            <div className=\"text-foreground\">\n              <strong>Files in directory: {data.fileCount} files found</strong>\n            </div>\n          )}\n\n          {/* Email/SMTP Details */}\n          {data.testType === 'EMAIL_CONNECTION' && (\n            <div className=\"grid grid-cols-2 gap-6\">\n              {data.smtpHost && (\n                <div>\n                  <span className=\"text-muted-foreground\">SMTP Host:</span>\n                  <span className=\"ml-2 text-foreground font-medium\">{data.smtpHost}</span>\n                </div>\n              )}\n              {data.smtpPort && (\n                <div>\n                  <span className=\"text-muted-foreground\">SMTP Port:</span>\n                  <span className=\"ml-2 text-foreground font-medium\">{data.smtpPort}</span>\n                </div>\n              )}\n              {data.smtpConnectionEstablished !== undefined && (\n                <div>\n                  <span className=\"text-muted-foreground\">Connection:</span>\n                  <span className={`ml-2 ${data.smtpConnectionEstablished ? 'text-success' : 'text-destructive'}`}>\n                    {data.smtpConnectionEstablished ? 'Established' : 'Failed'}\n                  </span>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        <DialogFooter>\n          <Button \n            onClick={() => onOpenChange(false)}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-8 py-2 font-medium\"\n          >\n            OK\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}","import React, { useState } from 'react'\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { Plus, Settings, Play, Trash2, FileText, Server, Mail, AlertTriangle, CheckCircle, Clock } from 'lucide-react'\r\nimport { Link } from 'react-router-dom'\r\nimport { adapterApi } from '@/lib/api'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\r\nimport { usePermissions } from '@/hooks/auth'\r\nimport { useEnvironment } from '@/hooks/useEnvironment'\r\nimport WebSocketStatus from '@/components/WebSocketStatus'\r\nimport { useNotifications } from '@/stores/ui'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport { AdapterTestResultModal } from '@/components/ui/AdapterTestResultModal'\r\n\r\ninterface AdapterInterface {\r\n  id: string\r\n  name: string\r\n  bank: string\r\n  description: string\r\n  adapterType: 'FILE' | 'SFTP' | 'EMAIL'\r\n  direction: 'SENDER' | 'RECEIVER'\r\n  active: boolean\r\n  status: 'STARTED' | 'STOPPED' | 'ERROR' | 'STARTING' | 'STOPPING'\r\n  lastExecution?: string\r\n  lastExecutionStatus?: 'SUCCESS' | 'FAILED' | 'RUNNING'\r\n  createdAt: string\r\n  configuration: Record<string, any>\r\n}\r\n\r\nconst AdapterList: React.FC = () => {\r\n  const { isAdmin } = usePermissions()\r\n  const { data: environment } = useEnvironment()\r\n  const { success, error } = useNotifications()\r\n  const queryClient = useQueryClient()\r\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false)\r\n  const [selectedAdapter, setSelectedAdapter] = useState<AdapterInterface | null>(null)\r\n  const [testResultModalOpen, setTestResultModalOpen] = useState(false)\r\n  const [testResult, setTestResult] = useState<any>(null)\r\n\r\n  const { data: apiResponse, isLoading, error: loadError } = useQuery({\r\n    queryKey: ['adapters'],\r\n    queryFn: adapterApi.getAllAdapters,\r\n  })\r\n\r\n  // Mutations\r\n  const deleteAdapterMutation = useMutation({\r\n    mutationFn: adapterApi.deleteAdapter,\r\n    onSuccess: () => {\r\n      success('Adapter Deleted', 'Adapter deleted successfully')\r\n      queryClient.invalidateQueries({ queryKey: ['adapters'] })\r\n      setDeleteDialogOpen(false)\r\n      setSelectedAdapter(null)\r\n    },\r\n    onError: (err: any) => {\r\n      error('Deletion Failed', err.response?.data?.message || 'Failed to delete adapter')\r\n    },\r\n  })\r\n\r\n  const testAdapterMutation = useMutation({\r\n    mutationFn: adapterApi.testAdapter,\r\n    onSuccess: (result) => {\r\n      // Set test result and show modal\r\n      setTestResult(result)\r\n      setTestResultModalOpen(true)\r\n    },\r\n    onError: (err: any) => {\r\n      // Set error result and show modal\r\n      setTestResult({\r\n        data: {\r\n          success: false,\r\n          error: err.response?.data?.message || 'Failed to test adapter configuration',\r\n          testType: 'ERROR'\r\n        }\r\n      })\r\n      setTestResultModalOpen(true)\r\n    },\r\n  })\r\n\r\n  // Event handlers\r\n  const handleDeleteClick = (adapter: AdapterInterface) => {\r\n    setSelectedAdapter(adapter)\r\n    setDeleteDialogOpen(true)\r\n  }\r\n\r\n  const handleDeleteConfirm = () => {\r\n    if (selectedAdapter) {\r\n      deleteAdapterMutation.mutate(selectedAdapter.id)\r\n    }\r\n  }\r\n\r\n  const handleTestClick = (adapterId: string) => {\r\n    testAdapterMutation.mutate(adapterId)\r\n  }\r\n\r\n  // Extract the interfaces array from the API response\r\n  const interfaces = apiResponse?.data || []\r\n\r\n  // Check if creating adapters is allowed based on admin permissions and environment restrictions\r\n  const canCreateAdapters = isAdmin() && (environment?.permissions?.canCreateAdapters ?? true)\r\n\r\n  const getAdapterIcon = (adapterType: string) => {\r\n    switch (adapterType) {\r\n      case 'FILE':\r\n        return <FileText className=\"h-5 w-5\" />\r\n      case 'SFTP':\r\n        return <Server className=\"h-5 w-5\" />\r\n      case 'EMAIL':\r\n        return <Mail className=\"h-5 w-5\" />\r\n      default:\r\n        return <Settings className=\"h-5 w-5\" />\r\n    }\r\n  }\r\n\r\n  const getStatusIcon = (status?: string) => {\r\n    switch (status) {\r\n      case 'SUCCESS':\r\n        return <CheckCircle className=\"h-4 w-4 text-success\" />\r\n      case 'FAILED':\r\n        return <AlertTriangle className=\"h-4 w-4 text-destructive\" />\r\n      case 'RUNNING':\r\n        return <Clock className=\"h-4 w-4 text-warning animate-pulse\" />\r\n      default:\r\n        return <Clock className=\"h-4 w-4 text-muted-foreground\" />\r\n    }\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"content-spacing\">\r\n        <div className=\"flex items-center justify-center h-64\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\r\n            <span className=\"text-muted-foreground\">Loading adapters...</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (loadError) {\r\n    return (\r\n      <div className=\"content-spacing\">\r\n        <div className=\"app-card rounded-lg p-6 border\">\r\n          <div className=\"flex items-center space-x-3 text-destructive\">\r\n            <AlertTriangle className=\"h-5 w-5\" />\r\n            <p>Failed to load adapters. Please try again.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"content-spacing\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">Adapter Configuration</h1>\r\n          <div className=\"flex items-center space-x-4\">\r\n            <p className=\"text-muted-foreground\">Configure and manage your file transfer adapters</p>\r\n            <WebSocketStatus size=\"sm\" />\r\n          </div>\r\n        </div>\r\n        {canCreateAdapters && (\r\n          <Button asChild className=\"btn-primary\">\r\n            <Link to=\"/adapters/create\">\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n              Create Adapter\r\n            </Link>\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Adapter Type Overview */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n        <div className=\"app-card rounded-lg p-6 border\">\r\n          <div className=\"flex items-center space-x-3 mb-3\">\r\n            <FileText className=\"h-8 w-8 text-primary\" />\r\n            <div>\r\n              <h3 className=\"font-semibold text-foreground\">File Adapters</h3>\r\n              <p className=\"text-sm text-muted-foreground\">Local file system operations</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-2xl font-bold text-foreground\">\r\n            {interfaces?.filter((i: AdapterInterface) => i.adapterType === 'FILE').length || 0}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"app-card rounded-lg p-6 border\">\r\n          <div className=\"flex items-center space-x-3 mb-3\">\r\n            <Server className=\"h-8 w-8 text-info\" />\r\n            <div>\r\n              <h3 className=\"font-semibold text-foreground\">SFTP Adapters</h3>\r\n              <p className=\"text-sm text-muted-foreground\">Secure file transfer protocol</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-2xl font-bold text-foreground\">\r\n            {interfaces?.filter((i: AdapterInterface) => i.adapterType === 'SFTP').length || 0}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"app-card rounded-lg p-6 border\">\r\n          <div className=\"flex items-center space-x-3 mb-3\">\r\n            <Mail className=\"h-8 w-8 text-success\" />\r\n            <div>\r\n              <h3 className=\"font-semibold text-foreground\">Email Adapters</h3>\r\n              <p className=\"text-sm text-muted-foreground\">Email-based file transfer</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-2xl font-bold text-foreground\">\r\n            {interfaces?.filter((i: AdapterInterface) => i.adapterType === 'EMAIL').length || 0}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Adapter List */}\r\n      {interfaces && interfaces.length > 0 ? (\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n          {interfaces.map((adapter: AdapterInterface) => (\r\n            <Card key={adapter.id} className=\"app-card border\">\r\n              <CardHeader>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    {getAdapterIcon(adapter.adapterType)}\r\n                    <div>\r\n                      <CardTitle className=\"text-lg text-foreground\">{adapter.name}</CardTitle>\r\n                      <p className=\"text-sm font-medium text-primary\">{adapter.bank}</p>\r\n                      <p className=\"text-sm text-muted-foreground\">{adapter.description}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <div className={`w-3 h-3 rounded-full ${\r\n                      adapter.active ? 'bg-success animate-glow' : 'bg-muted-foreground'\r\n                    }`} />\r\n                    <span className={`text-xs px-2 py-1 rounded ${\r\n                      adapter.active ? 'bg-success/20 text-success' : 'bg-muted/20 text-muted-foreground'\r\n                    }`}>\r\n                      {adapter.active ? 'Active' : 'Inactive'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                    <div>\r\n                      <span className=\"text-muted-foreground\">Type:</span>\r\n                      <span className=\"ml-2 text-foreground\">{adapter.adapterType}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-muted-foreground\">Direction:</span>\r\n                      <span className=\"ml-2 text-foreground\">{adapter.direction}</span>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {adapter.lastExecution && (\r\n                    <div className=\"flex items-center justify-between text-sm\">\r\n                      <span className=\"text-muted-foreground\">Last Execution:</span>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        {getStatusIcon(adapter.lastExecutionStatus)}\r\n                        <span className=\"text-foreground\">\r\n                          {new Date(adapter.lastExecution).toLocaleString()}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  <div className=\"flex items-center space-x-2 pt-4\">\r\n                    {isAdmin() && (\r\n                      <Button variant=\"outline\" size=\"sm\" asChild>\r\n                        <Link to={`/adapters/${adapter.id}/edit`}>\r\n                          <Settings className=\"h-4 w-4 mr-2\" />\r\n                          Configure\r\n                        </Link>\r\n                      </Button>\r\n                    )}\r\n                    {/* Show test button for all adapter types */}\r\n                    <Button \r\n                      variant=\"outline\" \r\n                      size=\"sm\"\r\n                      onClick={() => handleTestClick(adapter.id)}\r\n                      disabled={testAdapterMutation.isPending}\r\n                    >\r\n                      <Play className=\"h-4 w-4 mr-2\" />\r\n                      {testAdapterMutation.isPending ? 'Testing...' : 'Test'}\r\n                    </Button>\r\n                    {isAdmin() && (\r\n                      <Button \r\n                        variant=\"outline\" \r\n                        size=\"sm\" \r\n                        className=\"text-destructive hover:bg-destructive/10\"\r\n                        onClick={() => handleDeleteClick(adapter)}\r\n                        disabled={deleteAdapterMutation.isPending}\r\n                      >\r\n                        <Trash2 className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <div className=\"app-card rounded-lg p-12 border text-center\">\r\n          <Settings className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\r\n          <h3 className=\"text-xl font-semibold text-foreground mb-2\">No Adapters Configured</h3>\r\n          <p className=\"text-muted-foreground mb-6\">Get started by creating your first adapter interface</p>\r\n          {canCreateAdapters && (\r\n            <Button asChild className=\"btn-primary\">\r\n              <Link to=\"/adapters/create\">\r\n                <Plus className=\"h-4 w-4 mr-2\" />\r\n                Create Your First Adapter\r\n              </Link>\r\n            </Button>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <Dialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Delete Adapter</DialogTitle>\r\n            <DialogDescription>\r\n              Are you sure you want to delete the adapter \"{selectedAdapter?.name}\"? \r\n              This action cannot be undone and will permanently remove the adapter configuration.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <DialogFooter>\r\n            <Button \r\n              variant=\"outline\" \r\n              onClick={() => setDeleteDialogOpen(false)}\r\n              disabled={deleteAdapterMutation.isPending}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button \r\n              variant=\"destructive\" \r\n              onClick={handleDeleteConfirm}\r\n              disabled={deleteAdapterMutation.isPending}\r\n            >\r\n              {deleteAdapterMutation.isPending ? 'Deleting...' : 'Delete Adapter'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Test Results Modal */}\r\n      <AdapterTestResultModal \r\n        open={testResultModalOpen}\r\n        onOpenChange={setTestResultModalOpen}\r\n        testResult={testResult}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdapterList","import React, { useState } from 'react'\nimport { useNavigate, Link } from 'react-router-dom'\nimport { useMutation, useQueryClient } from '@tanstack/react-query'\nimport { Key, ChevronRight, Home, Shield, Clock, FileKey, CheckCircle } from 'lucide-react'\nimport { sshKeyApi } from '@/lib/api'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\nimport { useNotifications } from '@/stores/ui'\n\ninterface CreateKeyRequest {\n  name: string\n  description: string\n  keyType: 'RSA' | 'DSA'\n  keySize: number\n}\n\nconst CreateSshKey: React.FC = () => {\n  const navigate = useNavigate()\n  const { success, error } = useNotifications()\n  const queryClient = useQueryClient()\n\n  const [formData, setFormData] = useState<CreateKeyRequest>({\n    name: '',\n    description: '',\n    keyType: 'RSA',\n    keySize: 2048,\n  })\n\n  const createKeyMutation = useMutation({\n    mutationFn: async (keyData: CreateKeyRequest) => {\n      console.log('Generating SSH key with data:', keyData)\n      const result = keyData.keyType === 'RSA' \n        ? await sshKeyApi.generateRSAKey(keyData)\n        : await sshKeyApi.generateDSAKey(keyData)\n      console.log('SSH key generation result:', result)\n      return result\n    },\n    onSuccess: (data) => {\n      console.log('SSH key generated successfully:', data)\n      success('SSH Key Generated', 'SSH key pair created successfully')\n      queryClient.invalidateQueries({ queryKey: ['ssh-keys'] })\n      navigate('/ssh-keys')\n    },\n    onError: (err: any) => {\n      console.error('SSH key generation failed:', err)\n      console.error('Error response:', err.response)\n      error('Generation Failed', err.response?.data?.message || err.message || 'Failed to generate SSH key')\n    },\n  })\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    createKeyMutation.mutate(formData)\n  }\n\n  const getSecurityLevel = () => {\n    if (formData.keyType === 'RSA') {\n      if (formData.keySize >= 4096) return { level: 'High', color: 'text-green-500' }\n      if (formData.keySize >= 3072) return { level: 'Strong', color: 'text-green-400' }\n      return { level: 'Standard', color: 'text-blue-400' }\n    }\n    return { level: formData.keySize >= 2048 ? 'Standard' : 'Basic', color: 'text-yellow-400' }\n  }\n\n  const isFormValid = formData.name.trim() !== '' && formData.description.trim() !== ''\n\n  return (\n    <div className=\"content-spacing\">\n      {/* Breadcrumb Navigation */}\n      <nav className=\"flex items-center space-x-2 text-sm mb-6\">\n        <Link \n          to=\"/dashboard\" \n          className=\"text-muted-foreground hover:text-foreground transition-colors flex items-center\"\n        >\n          <Home className=\"h-4 w-4\" />\n        </Link>\n        <ChevronRight className=\"h-4 w-4 text-muted-foreground\" />\n        <Link \n          to=\"/ssh-keys\" \n          className=\"text-muted-foreground hover:text-foreground transition-colors\"\n        >\n          SSH Keys\n        </Link>\n        <ChevronRight className=\"h-4 w-4 text-muted-foreground\" />\n        <span className=\"text-foreground font-medium\">Generate New Key</span>\n      </nav>\n\n      <div className=\"mb-6\">\n        <h1 className=\"text-3xl font-bold text-foreground mb-2\">Generate SSH Key Pair</h1>\n        <p className=\"text-muted-foreground\">Create a new SSH key pair for secure SFTP connections</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Form Section */}\n        <div className=\"lg:col-span-2\">\n          <Card className=\"app-card border\">\n            <CardHeader>\n              <CardTitle className=\"text-foreground flex items-center space-x-2\">\n                <Key className=\"h-5 w-5\" />\n                <span>Key Configuration</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"name\">Key Name</Label>\n                  <Input\n                    id=\"name\"\n                    value={formData.name}\n                    onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                    placeholder=\"e.g., production-sftp-key\"\n                    className=\"bg-input border-border text-foreground\"\n                    required\n                  />\n                  <p className=\"text-xs text-muted-foreground\">A unique name to identify this key</p>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"description\">Description</Label>\n                  <Input\n                    id=\"description\"\n                    value={formData.description}\n                    onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                    placeholder=\"e.g., Key for production SFTP server\"\n                    className=\"bg-input border-border text-foreground\"\n                    required\n                  />\n                  <p className=\"text-xs text-muted-foreground\">A brief description of what this key is used for</p>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"keyType\">Key Type</Label>\n                    <select\n                      id=\"keyType\"\n                      value={formData.keyType}\n                      onChange={(e) => setFormData(prev => ({ \n                        ...prev, \n                        keyType: e.target.value as 'RSA' | 'DSA',\n                        keySize: e.target.value === 'RSA' ? 2048 : 1024\n                      }))}\n                      className=\"w-full px-3 py-2 bg-input border border-border rounded-md text-foreground\"\n                    >\n                      <option value=\"RSA\">RSA (Recommended)</option>\n                      <option value=\"DSA\">DSA</option>\n                    </select>\n                    <p className=\"text-xs text-muted-foreground\">RSA is recommended for better compatibility</p>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"keySize\">Key Size</Label>\n                    <select\n                      id=\"keySize\"\n                      value={formData.keySize}\n                      onChange={(e) => setFormData(prev => ({ ...prev, keySize: parseInt(e.target.value) }))}\n                      className=\"w-full px-3 py-2 bg-input border border-border rounded-md text-foreground\"\n                    >\n                      {formData.keyType === 'RSA' ? (\n                        <>\n                          <option value={2048}>2048 bits (Recommended)</option>\n                          <option value={3072}>3072 bits</option>\n                          <option value={4096}>4096 bits (High Security)</option>\n                        </>\n                      ) : (\n                        <>\n                          <option value={1024}>1024 bits (Standard)</option>\n                          <option value={2048}>2048 bits</option>\n                        </>\n                      )}\n                    </select>\n                    <p className=\"text-xs text-muted-foreground\">Larger keys are more secure but slower</p>\n                  </div>\n                </div>\n\n                <div className=\"bg-secondary/50 rounded-lg p-4 border border-border\">\n                  <h4 className=\"font-medium text-foreground mb-2\">Security Notice</h4>\n                  <p className=\"text-sm text-muted-foreground\">\n                    The private key will be stored securely on the server. You can download it after generation \n                    for backup purposes. Keep your private key secure and never share it.\n                  </p>\n                </div>\n\n                <div className=\"flex items-center space-x-4 pt-4 border-t border-border\">\n                  <Button \n                    type=\"submit\" \n                    className=\"btn-primary\" \n                    disabled={createKeyMutation.isPending || !isFormValid}\n                  >\n                    {createKeyMutation.isPending ? 'Generating...' : 'Generate Key Pair'}\n                  </Button>\n                  <Button \n                    type=\"button\" \n                    variant=\"outline\" \n                    onClick={() => navigate('/ssh-keys')}\n                  >\n                    Cancel\n                  </Button>\n                </div>\n              </form>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Preview Section */}\n        <div className=\"lg:col-span-1\">\n          <Card className=\"app-card border sticky top-6\">\n            <CardHeader>\n              <CardTitle className=\"text-foreground flex items-center space-x-2\">\n                <FileKey className=\"h-5 w-5\" />\n                <span>Key Preview</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              {/* Key Name */}\n              <div className=\"space-y-1\">\n                <p className=\"text-xs text-muted-foreground uppercase tracking-wider\">Key Name</p>\n                <p className=\"text-foreground font-medium\">\n                  {formData.name || <span className=\"text-muted-foreground italic\">Not specified</span>}\n                </p>\n              </div>\n\n              {/* Description */}\n              <div className=\"space-y-1\">\n                <p className=\"text-xs text-muted-foreground uppercase tracking-wider\">Description</p>\n                <p className=\"text-foreground text-sm\">\n                  {formData.description || <span className=\"text-muted-foreground italic\">Not specified</span>}\n                </p>\n              </div>\n\n              <div className=\"border-t border-border pt-4 space-y-3\">\n                {/* Key Type */}\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-muted-foreground text-sm\">Algorithm</span>\n                  <span className=\"text-foreground font-medium\">{formData.keyType}</span>\n                </div>\n\n                {/* Key Size */}\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-muted-foreground text-sm\">Key Size</span>\n                  <span className=\"text-foreground font-medium\">{formData.keySize} bits</span>\n                </div>\n\n                {/* Security Level */}\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-muted-foreground text-sm\">Security</span>\n                  <span className={`font-medium ${getSecurityLevel().color}`}>\n                    {getSecurityLevel().level}\n                  </span>\n                </div>\n              </div>\n\n              {/* What will be generated */}\n              <div className=\"border-t border-border pt-4\">\n                <p className=\"text-xs text-muted-foreground uppercase tracking-wider mb-3\">Will Generate</p>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center space-x-2 text-sm\">\n                    <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                    <span className=\"text-foreground\">Public Key (.pub)</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2 text-sm\">\n                    <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                    <span className=\"text-foreground\">Private Key</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2 text-sm\">\n                    <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                    <span className=\"text-foreground\">Fingerprint</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Estimated time */}\n              <div className=\"bg-secondary/50 rounded-lg p-3 border border-border\">\n                <div className=\"flex items-center space-x-2\">\n                  <Clock className=\"h-4 w-4 text-muted-foreground\" />\n                  <span className=\"text-sm text-muted-foreground\">\n                    Est. generation time: {formData.keySize >= 4096 ? '5-10' : formData.keySize >= 3072 ? '3-5' : '1-3'} seconds\n                  </span>\n                </div>\n              </div>\n\n              {/* Ready indicator */}\n              {isFormValid && (\n                <div className=\"bg-green-500/10 rounded-lg p-3 border border-green-500/20\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Shield className=\"h-4 w-4 text-green-500\" />\n                    <span className=\"text-sm text-green-500 font-medium\">Ready to generate</span>\n                  </div>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CreateSshKey\n","import React, { useState, useRef } from 'react'\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { Link } from 'react-router-dom'\r\nimport { \r\n  Plus, \r\n  Workflow, \r\n  ArrowRight, \r\n  Trash2,\r\n  CheckCircle,\r\n  Eye,\r\n  GitBranch,\r\n  Download,\r\n  Upload,\r\n  Clock,\r\n  Play,\r\n  Square,\r\n  Loader2\r\n} from 'lucide-react'\r\nimport { flowApi } from '@/lib/api'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\r\nimport { useNotifications } from '@/stores/ui'\r\nimport { usePermissions } from '@/hooks/auth'\r\nimport { useEnvironment } from '@/hooks/useEnvironment'\r\nimport { \r\n  useWebSocketConnection, \r\n  useFlowExecutionUpdates, \r\n  useFlowDefinitionUpdates \r\n} from '@/hooks/useWebSocket'\r\nimport WebSocketStatus from '@/components/WebSocketStatus'\r\n\r\ninterface FlowDefinition {\r\n  id: string\r\n  name: string\r\n  description?: string\r\n  flowDefinition?: {\r\n    nodes?: any[]\r\n    edges?: any[]\r\n  }\r\n  active: boolean\r\n  deployed: boolean\r\n  deploymentStatus: 'DEPLOYED' | 'UNDEPLOYED' | 'DEPLOYING' | 'UNDEPLOYING' | 'FAILED'\r\n  inboundAdapterId?: string\r\n  inboundAdapterName?: string\r\n  inboundAdapterStatus?: 'RUNNING' | 'STOPPED' | 'ERROR'\r\n  flowType: string\r\n  flowVersion: number\r\n  totalExecutions: number\r\n  successfulExecutions: number\r\n  failedExecutions: number\r\n  averageExecutionTimeMs: number\r\n  createdAt: string\r\n  updatedAt: string\r\n  deployedAt?: string\r\n  scheduleEnabled?: boolean\r\n  scheduleCron?: string\r\n}\r\n\r\n\r\n\r\nconst FlowManagement: React.FC = () => {\r\n  const { isAdmin } = usePermissions()\r\n  const { data: environment } = useEnvironment()\r\n  const { success, error } = useNotifications()\r\n  const queryClient = useQueryClient()\r\n  const fileInputRef = useRef<HTMLInputElement>(null)\r\n\r\n  // WebSocket connection status\r\n  const { status: _wsStatus } = useWebSocketConnection()\r\n\r\n  // Track real-time execution states\r\n  const [runningExecutions, setRunningExecutions] = useState<Set<string>>(new Set())\r\n\r\n  // Subscribe to real-time flow updates\r\n  useFlowExecutionUpdates({\r\n    onUpdate: (update) => {\r\n      // Update running executions state\r\n      setRunningExecutions(prev => {\r\n        const newSet = new Set(prev)\r\n        if (update.status === 'RUNNING') {\r\n          newSet.add(update.flowId)\r\n        } else if (update.status === 'COMPLETED' || update.status === 'FAILED' || update.status === 'CANCELLED') {\r\n          newSet.delete(update.flowId)\r\n          // Invalidate queries to refresh data when execution finishes\r\n          queryClient.invalidateQueries({ queryKey: ['flows'] })\r\n          queryClient.invalidateQueries({ queryKey: ['flowStatistics'] })\r\n        }\r\n        return newSet\r\n      })\r\n    }\r\n  })\r\n\r\n  // Subscribe to flow definition changes\r\n  useFlowDefinitionUpdates(() => {\r\n    // Refresh flow list when flows are created, updated, or deleted\r\n    queryClient.invalidateQueries({ queryKey: ['flows'] })\r\n    queryClient.invalidateQueries({ queryKey: ['flowStatistics'] })\r\n  })\r\n\r\n  // Fetch integration flows (visual flows)\r\n  const { data: flowsResponse, isLoading: flowsLoading } = useQuery({\r\n    queryKey: ['flows'],\r\n    queryFn: flowApi.getAllFlows,\r\n  })\r\n\r\n  // Fetch flow statistics\r\n  const { data: _statisticsResponse } = useQuery({\r\n    queryKey: ['flowStatistics'],\r\n    queryFn: flowApi.getStatistics,\r\n  })\r\n\r\n  const flows = flowsResponse?.data || []\r\n\r\n  // Mutations\r\n\r\n  const deleteFlowMutation = useMutation({\r\n    mutationFn: flowApi.deleteFlow,\r\n    onSuccess: () => {\r\n      success('Flow Deleted', 'Flow deleted successfully')\r\n      queryClient.invalidateQueries({ queryKey: ['flows'] })\r\n      queryClient.invalidateQueries({ queryKey: ['flowStatistics'] })\r\n    },\r\n    onError: (err: any) => {\r\n      const errorMessage = err.response?.data?.message || 'Failed to delete flow'\r\n      error('Cannot Delete Flow', errorMessage)\r\n    },\r\n  })\r\n\r\n\r\n  const exportFlowMutation = useMutation({\r\n    mutationFn: flowApi.exportFlow,\r\n    onSuccess: (response) => {\r\n      // Download the exported flow as JSON file\r\n      const dataStr = JSON.stringify(response.data, null, 2)\r\n      const dataBlob = new Blob([dataStr], { type: 'application/json' })\r\n      const url = URL.createObjectURL(dataBlob)\r\n      const link = document.createElement('a')\r\n      link.href = url\r\n      link.download = `${response.data.name || 'flow'}_export.json`\r\n      link.click()\r\n      URL.revokeObjectURL(url)\r\n      \r\n      success('Flow Exported', 'Flow exported successfully')\r\n    },\r\n    onError: (err: any) => {\r\n      error('Export Failed', err.response?.data?.message || 'Failed to export flow')\r\n    },\r\n  })\r\n\r\n  const importFlowMutation = useMutation({\r\n    mutationFn: flowApi.importFlow,\r\n    onSuccess: () => {\r\n      success('Flow Imported', 'Flow and associated adapters imported successfully. Please configure environment-specific connection details for imported adapters.')\r\n      queryClient.invalidateQueries({ queryKey: ['flows'] })\r\n      queryClient.invalidateQueries({ queryKey: ['flowStatistics'] })\r\n    },\r\n    onError: (err: any) => {\r\n      error('Import Failed', err.response?.data?.message || 'Failed to import flow')\r\n    },\r\n  })\r\n\r\n  const deployFlowMutation = useMutation({\r\n    mutationFn: flowApi.deployFlow,\r\n    onSuccess: () => {\r\n      success('Flow Deployed', 'Flow deployed successfully and is now executable')\r\n      queryClient.invalidateQueries({ queryKey: ['flows'] })\r\n      queryClient.invalidateQueries({ queryKey: ['flowStatistics'] })\r\n    },\r\n    onError: (err: any) => {\r\n      const errorMessage = err.response?.data?.message || 'Failed to deploy flow'\r\n      error('Cannot Deploy Flow', errorMessage)\r\n    },\r\n  })\r\n\r\n  const undeployFlowMutation = useMutation({\r\n    mutationFn: flowApi.undeployFlow,\r\n    onSuccess: () => {\r\n      success('Flow Undeployed', 'Flow undeployed successfully and execution is now blocked')\r\n      queryClient.invalidateQueries({ queryKey: ['flows'] })\r\n      queryClient.invalidateQueries({ queryKey: ['flowStatistics'] })\r\n    },\r\n    onError: (err: any) => {\r\n      const errorMessage = err.response?.data?.message || 'Failed to undeploy flow'\r\n      error('Cannot Undeploy Flow', errorMessage)\r\n    },\r\n  })\r\n\r\n  // Handle file import\r\n  const handleFileImport = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0]\r\n    if (!file) return\r\n\r\n    const reader = new FileReader()\r\n    reader.onload = (e) => {\r\n      try {\r\n        const flowData = JSON.parse(e.target?.result as string)\r\n        importFlowMutation.mutate(flowData)\r\n      } catch (parseError) {\r\n        error('Invalid File', 'Please select a valid JSON file exported from the system')\r\n      }\r\n    }\r\n    reader.readAsText(file)\r\n    \r\n    // Reset the input\r\n    event.target.value = ''\r\n  }\r\n\r\n\r\n  // Removed unused getAdapterIcon function since we're using specific icons now\r\n\r\n  const getFlowTypeIcon = (flowType: string) => {\r\n    switch(flowType) {\r\n      case 'PARALLEL': return <GitBranch className=\"h-4 w-4 text-info\" />\r\n      case 'CONDITIONAL': return <GitBranch className=\"h-4 w-4 text-warning\" />\r\n      case 'LOOP': return <ArrowRight className=\"h-4 w-4 text-info\" />\r\n      default: return <Workflow className=\"h-4 w-4 text-primary\" />\r\n    }\r\n  }\r\n\r\n  const formatExecutionTime = (ms: number) => {\r\n    if (ms < 1000) return `${ms}ms`\r\n    if (ms < 60000) return `${(ms / 1000).toFixed(1)}s`\r\n    const minutes = Math.floor(ms / 60000)\r\n    const seconds = Math.floor((ms % 60000) / 1000)\r\n    return `${minutes}m ${seconds}s`\r\n  }\r\n\r\n  const calculateSuccessRate = (successful: number, total: number) => {\r\n    if (total === 0) return 100\r\n    return Math.round((successful / total) * 100)\r\n  }\r\n\r\n  // Check if creating flows is allowed based on admin permissions and environment restrictions\r\n  const canCreateFlows = isAdmin() && (environment?.permissions?.canCreateFlows ?? true)\r\n\r\n  if (!isAdmin) {\r\n    return (\r\n      <div className=\"content-spacing\">\r\n        <Card className=\"app-card border\">\r\n          <CardContent className=\"flex items-center justify-center py-12\">\r\n            <div className=\"text-center\">\r\n              <Workflow className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">Access Denied</h3>\r\n              <p className=\"text-muted-foreground\">Administrator privileges required to manage flows</p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (flowsLoading) {\r\n    return (\r\n      <div className=\"content-spacing\">\r\n        <div className=\"flex items-center justify-center h-64\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\r\n            <span className=\"text-muted-foreground\">Loading flows...</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"content-spacing\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">Visual Flow Management</h1>\r\n          <div className=\"flex items-center space-x-4\">\r\n            <p className=\"text-muted-foreground\">Create and manage visual integration flows with drag-and-drop components</p>\r\n            <WebSocketStatus size=\"sm\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <div className=\"relative\">\r\n            <input\r\n              ref={fileInputRef}\r\n              type=\"file\"\r\n              accept=\".json\"\r\n              onChange={handleFileImport}\r\n              className=\"hidden\"\r\n              disabled={importFlowMutation.isPending}\r\n            />\r\n            <Button \r\n              variant=\"outline\" \r\n              disabled={importFlowMutation.isPending}\r\n              onClick={() => fileInputRef.current?.click()}\r\n            >\r\n              {importFlowMutation.isPending ? (\r\n                <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n              ) : (\r\n                <Upload className=\"h-4 w-4 mr-2\" />\r\n              )}\r\n              Import Flow\r\n            </Button>\r\n          </div>\r\n          {canCreateFlows && (\r\n            <Button asChild className=\"btn-primary\">\r\n              <Link to=\"/flows/create\">\r\n                <Plus className=\"h-4 w-4 mr-2\" />\r\n                Create Flow\r\n              </Link>\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n\r\n      {/* Flow Statistics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n        <Card className=\"app-card border\">\r\n          <CardContent className=\"flex items-center p-6\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <Workflow className=\"h-8 w-8 text-primary\" />\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Total Flows</p>\r\n                <p className=\"text-2xl font-bold text-foreground\">{flows.length}</p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"app-card border\">\r\n          <CardContent className=\"flex items-center p-6\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <CheckCircle className=\"h-8 w-8 text-success\" />\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Enabled Flows</p>\r\n                <p className=\"text-2xl font-bold text-foreground\">\r\n                  {flows.filter((f: FlowDefinition) => f.active).length}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"app-card border\">\r\n          <CardContent className=\"flex items-center p-6\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <CheckCircle className=\"h-8 w-8 text-info\" />\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Total Executions</p>\r\n                <p className=\"text-2xl font-bold text-foreground\">\r\n                  {flows.reduce((sum: number, f: FlowDefinition) => sum + f.totalExecutions, 0)}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"app-card border\">\r\n          <CardContent className=\"flex items-center p-6\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <Clock className=\"h-8 w-8 text-warning\" />\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Avg Execution Time</p>\r\n                <p className=\"text-2xl font-bold text-foreground\">\r\n                  {flows.length > 0 \r\n                    ? formatExecutionTime(\r\n                        flows.reduce((sum: number, f: FlowDefinition) => sum + f.averageExecutionTimeMs, 0) / flows.length\r\n                      )\r\n                    : '0ms'\r\n                  }\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Visual Flows */}\r\n      <div className=\"space-y-6\">\r\n        {flows.map((flow: FlowDefinition) => (\r\n          <Card key={flow.id} className=\"app-card border\">\r\n            <CardHeader>\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center space-x-3\">\r\n                  {getFlowTypeIcon(flow.flowType)}\r\n                  <div>\r\n                    <CardTitle className=\"text-lg text-foreground\">\r\n                      {flow.name}\r\n                      <span className=\"ml-2 text-sm text-muted-foreground\">v{flow.flowVersion}</span>\r\n                    </CardTitle>\r\n                    <p className=\"text-sm text-muted-foreground\">{flow.description}</p>\r\n                    <div className=\"flex items-center space-x-4 mt-1 text-xs text-muted-foreground\">\r\n                      <span>Type: {flow.flowType}</span>\r\n                      <span>Updated: {new Date(flow.updatedAt).toLocaleDateString()}</span>\r\n                      {flow.scheduleEnabled && (\r\n                        <span className=\"flex items-center space-x-1\">\r\n                          <Clock className=\"h-3 w-3\" />\r\n                          <span>Scheduled</span>\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  {runningExecutions.has(flow.id) && (\r\n                    <span className=\"text-xs px-2 py-1 rounded bg-info/20 text-info flex items-center space-x-1\">\r\n                      <div className=\"w-2 h-2 bg-info rounded-full animate-pulse\" />\r\n                      <span>Running</span>\r\n                    </span>\r\n                  )}\r\n                  <span className={`text-xs px-2 py-1 rounded ${\r\n                    flow.active ? 'bg-success/20 text-success' :\r\n                    'bg-muted/20 text-muted-foreground'\r\n                  }`}>\r\n                    {flow.active ? 'Active' : 'Inactive'}\r\n                  </span>\r\n                  <span className={`text-xs px-2 py-1 rounded ${\r\n                    flow.deployed ? 'bg-info/20 text-info' :\r\n                    'bg-warning/20 text-warning'\r\n                  }`}>\r\n                    {flow.deployed ? 'Deployed' : 'Not Deployed'}\r\n                  </span>\r\n                  <div className={`w-3 h-3 rounded-full ${\r\n                    runningExecutions.has(flow.id) ? 'bg-info animate-pulse' :\r\n                    flow.active ? 'bg-success animate-glow' : 'bg-muted-foreground'\r\n                  }`} />\r\n                </div>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"space-y-6\">\r\n                {/* Flow Complexity Overview */}\r\n                <div className=\"bg-secondary rounded-lg p-4\">\r\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <Workflow className=\"h-4 w-4 text-primary\" />\r\n                      <div>\r\n                        <span className=\"text-muted-foreground\">Nodes:</span>\r\n                        <span className=\"ml-1 text-foreground font-medium\">\r\n                          {flow.flowDefinition?.nodes?.length || 0}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <ArrowRight className=\"h-4 w-4 text-info\" />\r\n                      <div>\r\n                        <span className=\"text-muted-foreground\">Connections:</span>\r\n                        <span className=\"ml-1 text-foreground font-medium\">\r\n                          {flow.flowDefinition?.edges?.length || 0}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <CheckCircle className=\"h-4 w-4 text-success\" />\r\n                      <div>\r\n                        <span className=\"text-muted-foreground\">Success Rate:</span>\r\n                        <span className=\"ml-1 text-success font-medium\">\r\n                          {calculateSuccessRate(flow.successfulExecutions, flow.totalExecutions)}%\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <Clock className=\"h-4 w-4 text-warning\" />\r\n                      <div>\r\n                        <span className=\"text-muted-foreground\">Avg Time:</span>\r\n                        <span className=\"ml-1 text-foreground font-medium\">\r\n                          {formatExecutionTime(flow.averageExecutionTimeMs)}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Flow Statistics */}\r\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\r\n                  <div>\r\n                    <span className=\"text-muted-foreground\">Total Executions:</span>\r\n                    <span className=\"ml-2 text-foreground font-medium\">{flow.totalExecutions}</span>\r\n                  </div>\r\n                  <div>\r\n                    <span className=\"text-muted-foreground\">Successful:</span>\r\n                    <span className=\"ml-2 text-success font-medium\">{flow.successfulExecutions}</span>\r\n                  </div>\r\n                  <div>\r\n                    <span className=\"text-muted-foreground\">Failed:</span>\r\n                    <span className=\"ml-2 text-destructive font-medium\">{flow.failedExecutions}</span>\r\n                  </div>\r\n                  <div>\r\n                    <span className=\"text-muted-foreground\">Created:</span>\r\n                    <span className=\"ml-2 text-foreground\">\r\n                      {new Date(flow.createdAt).toLocaleDateString()}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Action Buttons */}\r\n                <div className=\"flex items-center justify-end pt-4 border-t border-border\">\r\n                  {isAdmin() && (\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <Button \r\n                        variant=\"outline\" \r\n                        size=\"sm\" \r\n                        asChild={!flow.deployed}\r\n                        disabled={flow.deployed}\r\n                        className={flow.deployed ? \"opacity-50 cursor-not-allowed\" : \"\"}\r\n                        title={flow.deployed ? \"Flow must be undeployed before editing\" : \"\"}\r\n                      >\r\n                        {flow.deployed ? (\r\n                          <span>\r\n                            <Workflow className=\"h-4 w-4 mr-2\" />\r\n                            Edit Visual Flow\r\n                          </span>\r\n                        ) : (\r\n                          <Link to={`/flows/${flow.id}/visual`}>\r\n                            <Workflow className=\"h-4 w-4 mr-2\" />\r\n                            Edit Visual Flow\r\n                          </Link>\r\n                        )}\r\n                      </Button>\r\n                      \r\n                      <Button variant=\"outline\" size=\"sm\" asChild>\r\n                        <Link to={`/flows/${flow.id}/visual?mode=view`}>\r\n                          <Eye className=\"h-4 w-4 mr-2\" />\r\n                          View Details\r\n                        </Link>\r\n                      </Button>\r\n                      \r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={() => exportFlowMutation.mutate(flow.id)}\r\n                        disabled={exportFlowMutation.isPending}\r\n                      >\r\n                        <Download className=\"h-4 w-4 mr-2\" />\r\n                        Export\r\n                      </Button>\r\n                      \r\n                      {/* Deploy/Undeploy buttons */}\r\n                      {flow.deployed ? (\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          className=\"text-warning hover:bg-warning/10 hover:text-warning\"\r\n                          onClick={() => undeployFlowMutation.mutate(flow.id)}\r\n                          disabled={undeployFlowMutation.isPending}\r\n                        >\r\n                          {undeployFlowMutation.isPending ? (\r\n                            <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                          ) : (\r\n                            <Square className=\"h-4 w-4 mr-2\" />\r\n                          )}\r\n                          Undeploy\r\n                        </Button>\r\n                      ) : (\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          className=\"text-info hover:bg-info/10 hover:text-info\"\r\n                          onClick={() => deployFlowMutation.mutate(flow.id)}\r\n                          disabled={deployFlowMutation.isPending || !flow.active}\r\n                        >\r\n                          {deployFlowMutation.isPending ? (\r\n                            <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                          ) : (\r\n                            <Play className=\"h-4 w-4 mr-2\" />\r\n                          )}\r\n                          Deploy\r\n                        </Button>\r\n                      )}\r\n                      \r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        className={`text-destructive hover:bg-destructive/10 hover:text-destructive ${flow.deployed ? \"opacity-50 cursor-not-allowed\" : \"\"}`}\r\n                        onClick={() => !flow.deployed && deleteFlowMutation.mutate(flow.id)}\r\n                        disabled={deleteFlowMutation.isPending || flow.deployed}\r\n                        title={flow.deployed ? \"Flow must be undeployed before deleting\" : \"\"}\r\n                      >\r\n                        <Trash2 className=\"h-4 w-4 mr-2\" />\r\n                        Delete\r\n                      </Button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n\r\n\r\n      {/* No flows message */}\r\n      {flows.length === 0 && (\r\n        <Card className=\"app-card border\">\r\n          <CardContent className=\"flex items-center justify-center py-12\">\r\n            <div className=\"text-center\">\r\n              <Workflow className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">No Visual Flows</h3>\r\n              <p className=\"text-muted-foreground mb-6\">\r\n                {canCreateFlows \r\n                  ? \"Create your first visual integration flow using our drag-and-drop builder\"\r\n                  : \"Import flows are available in this environment. Flow creation is restricted.\"\r\n                }\r\n              </p>\r\n              <div className=\"flex items-center space-x-3 justify-center\">\r\n                {canCreateFlows && (\r\n                  <Button asChild className=\"btn-primary\">\r\n                    <Link to=\"/flows/create\">\r\n                      <Plus className=\"h-4 w-4 mr-2\" />\r\n                      Create Flow\r\n                    </Link>\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FlowManagement","import React from 'react'\nimport { Handle, Position, type NodeProps, type Node, useReactFlow } from '@xyflow/react'\nimport { X } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\n\nexport interface AdapterNodeData extends Record<string, unknown> {\n  label: string\n  adapterType?: 'FILE' | 'SFTP' | 'EMAIL' | null\n  direction?: 'SENDER' | 'RECEIVER'\n  adapterId?: string\n  configuration?: Record<string, unknown>\n  status?: 'idle' | 'running' | 'success' | 'error'\n  lastExecution?: string\n  showDeleteButton?: boolean\n}\n\nexport type AdapterNodeType = Node<AdapterNodeData, 'adapter'>\n\n// BPMN 2.0 Send Task Icon (filled envelope)\nconst SendTaskIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"currentColor\">\n    <path d=\"M2,21L23,12L2,3V10L17,12L2,14V21Z\" />\n  </svg>\n)\n\n// BPMN 2.0 Receive Task Icon (outlined envelope)\nconst ReceiveTaskIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\">\n    <rect x=\"3\" y=\"5\" width=\"18\" height=\"14\" rx=\"1\" />\n    <polyline points=\"3,5 12,13 21,5\" />\n  </svg>\n)\n\n// BPMN 2.0 Service Task Icon\nconst ServiceTaskIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"currentColor\">\n    <path d=\"M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1 0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66z\"/>\n  </svg>\n)\n\nconst AdapterNode: React.FC<NodeProps<AdapterNodeType>> = ({ \n  id,\n  data, \n  selected \n}) => {\n  const { setNodes, setEdges } = useReactFlow()\n  const nodeData = data || { label: 'Adapter' }\n\n  const getTaskIcon = () => {\n    if (nodeData.direction === 'SENDER') {\n      return ReceiveTaskIcon\n    } else if (nodeData.direction === 'RECEIVER') {\n      return SendTaskIcon\n    }\n    return ServiceTaskIcon\n  }\n\n  const TaskIcon = getTaskIcon()\n  \n  const handleDelete = () => {\n    setNodes((nodes) => nodes.filter((node) => node.id !== id))\n    setEdges((edges) => edges.filter((edge) => edge.source !== id && edge.target !== id))\n  }\n\n  const getBorderColor = () => {\n    if (selected) return 'border-blue-400 shadow-lg shadow-blue-500/30'\n    if (nodeData.direction === 'SENDER') return 'border-green-500 hover:border-green-400'\n    if (nodeData.direction === 'RECEIVER') return 'border-orange-500 hover:border-orange-400'\n    return 'border-slate-500 hover:border-slate-400'\n  }\n\n  const getIconColor = () => {\n    if (nodeData.direction === 'SENDER') return 'text-green-400'\n    if (nodeData.direction === 'RECEIVER') return 'text-orange-400'\n    return 'text-blue-400'\n  }\n\n  return (\n    <div className=\"flex flex-col items-center relative\">\n      {/* Delete button */}\n      {nodeData.showDeleteButton && (\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={handleDelete}\n          className=\"absolute -top-3 -right-3 h-5 w-5 p-0 bg-red-500 text-white rounded-full shadow-md hover:bg-red-600 z-10\"\n          title=\"Delete node\"\n        >\n          <X className=\"h-3 w-3\" />\n        </Button>\n      )}\n      \n      {/* BPMN Task - rounded rectangle */}\n      <div\n        className={`relative min-w-28 h-14 rounded-lg bg-slate-800 border-2 flex items-center justify-center px-3 transition-all ${getBorderColor()}`}\n      >\n        {/* Task type icon in top-left corner */}\n        <div className=\"absolute top-1 left-1\">\n          <TaskIcon className={`w-4 h-4 ${getIconColor()}`} />\n        </div>\n        \n        {/* Task label */}\n        <span className=\"text-xs font-medium text-slate-200 text-center leading-tight pt-2\">\n          {nodeData.label || 'Adapter'}\n        </span>\n      </div>\n      \n      {/* Type indicator */}\n      <div className=\"mt-1 text-[10px] text-slate-500\">\n        {nodeData.adapterType && nodeData.adapterType !== null\n          ? `${nodeData.adapterType} ${nodeData.direction}` \n          : `${nodeData.direction} (Select instance)`\n        }\n      </div>\n\n      {/* Handles */}\n      {nodeData.direction === 'SENDER' && (\n        <Handle\n          type=\"source\"\n          position={Position.Right}\n          className=\"w-2 h-2 bg-green-500 border border-slate-800\"\n          style={{ right: '-4px', top: '28px' }}\n        />\n      )}\n      \n      {nodeData.direction === 'RECEIVER' && (\n        <Handle\n          type=\"target\"\n          position={Position.Left}\n          className=\"w-2 h-2 bg-orange-500 border border-slate-800\"\n          style={{ left: '-4px', top: '28px' }}\n        />\n      )}\n\n      {/* Bidirectional adapters */}\n      {!nodeData.direction && (\n        <>\n          <Handle\n            type=\"target\"\n            position={Position.Left}\n            className=\"w-2 h-2 bg-slate-400 border border-slate-800\"\n            style={{ left: '-4px', top: '28px' }}\n          />\n          <Handle\n            type=\"source\"\n            position={Position.Right}\n            className=\"w-2 h-2 bg-slate-400 border border-slate-800\"\n            style={{ right: '-4px', top: '28px' }}\n          />\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default AdapterNode","import React from 'react'\nimport { Handle, Position, type NodeProps, type Node, useReactFlow } from '@xyflow/react'\nimport { X } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\n\nexport interface UtilityNodeData extends Record<string, unknown> {\n  label: string\n  utilityType?: 'PGP_ENCRYPT' | 'PGP_DECRYPT' | 'ZIP_COMPRESS' | 'ZIP_EXTRACT' | \n                'FILE_SPLIT' | 'FILE_MERGE' | 'DATA_TRANSFORM' | 'FILE_VALIDATE' | 'CUSTOM_SCRIPT'\n  configuration?: Record<string, unknown>\n  status?: 'idle' | 'running' | 'success' | 'error'\n  processingTime?: number\n  showDeleteButton?: boolean\n}\n\nexport type UtilityNodeType = Node<UtilityNodeData, 'utility'>\n\n// BPMN 2.0 Service Task Icon (gear/cog)\nconst ServiceTaskIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"currentColor\">\n    <path d=\"M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1 0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66z\"/>\n  </svg>\n)\n\n// BPMN 2.0 Script Task Icon\nconst ScriptTaskIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"currentColor\">\n    <path d=\"M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z\"/>\n  </svg>\n)\n\nconst UtilityNode: React.FC<NodeProps<UtilityNodeType>> = ({ \n  id,\n  data, \n  selected \n}) => {\n  const { setNodes, setEdges } = useReactFlow()\n  const nodeData = data || { label: 'Service Task' }\n  \n  const handleDelete = () => {\n    setNodes((nodes) => nodes.filter((node) => node.id !== id))\n    setEdges((edges) => edges.filter((edge) => edge.source !== id && edge.target !== id))\n  }\n\n  const isScript = nodeData.utilityType === 'CUSTOM_SCRIPT'\n\n  const formatUtilityType = () => {\n    if (!nodeData.utilityType) return ''\n    return nodeData.utilityType.replace(/_/g, ' ').toLowerCase()\n      .split(' ')\n      .map((word: string) => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(' ')\n  }\n\n  return (\n    <div className=\"flex flex-col items-center relative\">\n      {/* Delete button */}\n      {nodeData.showDeleteButton && (\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={handleDelete}\n          className=\"absolute -top-3 -right-3 h-5 w-5 p-0 bg-red-500 text-white rounded-full shadow-md hover:bg-red-600 z-10\"\n          title=\"Delete node\"\n        >\n          <X className=\"h-3 w-3\" />\n        </Button>\n      )}\n      \n      {/* BPMN Service/Script Task - rounded rectangle */}\n      <div\n        className={`relative min-w-28 h-14 rounded-lg bg-slate-800 border-2 flex items-center justify-center px-3 transition-all ${\n          selected \n            ? 'border-amber-400 shadow-lg shadow-amber-500/30' \n            : 'border-slate-500 hover:border-slate-400'\n        }`}\n      >\n        {/* Task type icon in top-left corner */}\n        <div className=\"absolute top-1 left-1\">\n          {isScript ? (\n            <ScriptTaskIcon className=\"w-4 h-4 text-amber-400\" />\n          ) : (\n            <ServiceTaskIcon className=\"w-4 h-4 text-amber-400\" />\n          )}\n        </div>\n        \n        {/* Task label */}\n        <span className=\"text-xs font-medium text-slate-200 text-center leading-tight pt-2\">\n          {nodeData.label || formatUtilityType() || 'Service Task'}\n        </span>\n\n        {/* Handles positioned on the task box */}\n        <Handle\n          type=\"target\"\n          position={Position.Left}\n          className=\"w-2 h-2 bg-slate-400 border border-slate-800\"\n          style={{ left: '-4px', top: '50%', transform: 'translateY(-50%)' }}\n        />\n        <Handle\n          type=\"source\"\n          position={Position.Right}\n          className=\"w-2 h-2 bg-slate-400 border border-slate-800\"\n          style={{ right: '-4px', top: '50%', transform: 'translateY(-50%)' }}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default UtilityNode","import React from 'react'\nimport { Handle, Position, type NodeProps, type Node, useReactFlow } from '@xyflow/react'\nimport { X } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\n\nexport interface DecisionNodeData extends Record<string, unknown> {\n  label: string\n  conditionType?: 'ALWAYS_TRUE' | 'ALWAYS_FALSE' | 'CONTEXT_CONTAINS_KEY' | \n                  'CONTEXT_VALUE_EQUALS' | 'FILE_COUNT_GREATER_THAN'\n  condition?: string\n  configuration?: Record<string, unknown>\n  status?: 'idle' | 'running' | 'success' | 'error'\n  lastResult?: boolean\n  showDeleteButton?: boolean\n}\n\nexport type DecisionNodeType = Node<DecisionNodeData, 'decision'>\n\n// BPMN 2.0 Exclusive Gateway (XOR) - X marker\nconst ExclusiveMarker = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"none\" stroke=\"currentColor\" strokeWidth=\"3\">\n    <line x1=\"7\" y1=\"7\" x2=\"17\" y2=\"17\" />\n    <line x1=\"17\" y1=\"7\" x2=\"7\" y2=\"17\" />\n  </svg>\n)\n\nconst DecisionNode: React.FC<NodeProps<DecisionNodeType>> = ({ \n  id,\n  data, \n  selected \n}) => {\n  const { setNodes, setEdges } = useReactFlow()\n  const nodeData = data || { label: 'Gateway' }\n  \n  const handleDelete = () => {\n    setNodes((nodes) => nodes.filter((node) => node.id !== id))\n    setEdges((edges) => edges.filter((edge) => edge.source !== id && edge.target !== id))\n  }\n\n  return (\n    <div className=\"flex flex-col items-center relative\">\n      {/* Delete button */}\n      {nodeData.showDeleteButton && (\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={handleDelete}\n          className=\"absolute -top-3 right-0 h-5 w-5 p-0 bg-red-500 text-white rounded-full shadow-md hover:bg-red-600 z-10\"\n          title=\"Delete node\"\n        >\n          <X className=\"h-3 w-3\" />\n        </Button>\n      )}\n      \n      {/* BPMN Exclusive Gateway - diamond shape */}\n      <div\n        className={`w-11 h-11 bg-slate-800 border-2 flex items-center justify-center transition-all rotate-45 ${\n          selected \n            ? 'border-amber-400 shadow-lg shadow-amber-500/30' \n            : 'border-amber-500 hover:border-amber-400'\n        }`}\n      >\n        {/* X marker for exclusive gateway */}\n        <ExclusiveMarker className=\"w-5 h-5 text-amber-400 -rotate-45\" />\n      </div>\n      \n      {/* Label below */}\n      <div className=\"mt-3 text-xs font-medium text-slate-400 text-center max-w-20\">\n        {nodeData.label || 'Gateway'}\n      </div>\n\n      {/* Input handle (left point of diamond) */}\n      <Handle\n        type=\"target\"\n        position={Position.Left}\n        className=\"w-2 h-2 bg-amber-500 border border-slate-800\"\n        style={{ left: '-2px', top: '22px' }}\n      />\n      \n      {/* True/Yes path (right point of diamond) */}\n      <Handle\n        type=\"source\"\n        position={Position.Right}\n        id=\"yes\"\n        className=\"w-2 h-2 bg-green-500 border border-slate-800\"\n        style={{ right: '-2px', top: '22px' }}\n      />\n      \n      {/* False/No path (bottom point of diamond) */}\n      <Handle\n        type=\"source\"\n        position={Position.Bottom}\n        id=\"no\"\n        className=\"w-2 h-2 bg-red-500 border border-slate-800\"\n        style={{ bottom: '14px', left: '50%', transform: 'translateX(-50%)' }}\n      />\n    </div>\n  )\n}\n\nexport default DecisionNode","import React from 'react'\nimport { Handle, Position, type NodeProps, type Node } from '@xyflow/react'\n\nexport interface StartNodeData extends Record<string, unknown> {\n  label: string\n  eventType?: 'none' | 'message' | 'timer' | 'signal'\n  showDeleteButton?: boolean\n}\n\nexport type StartNodeType = Node<StartNodeData, 'start'>\n\n// BPMN 2.0 Message Icon\nconst MessageIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\">\n    <rect x=\"3\" y=\"5\" width=\"18\" height=\"14\" rx=\"1\" />\n    <polyline points=\"3,5 12,13 21,5\" />\n  </svg>\n)\n\nconst StartNode: React.FC<NodeProps<StartNodeType>> = ({ data, selected }) => {\n  const nodeData = data || { label: 'Start', eventType: 'message' }\n  \n  return (\n    <div className=\"flex flex-col items-center relative\">\n      {/* System node - no delete button */}\n      \n      {/* Node container with handles */}\n      <div className=\"relative\">\n        {/* Target handle - left (for sender adapter connection) */}\n        <Handle\n          type=\"target\"\n          position={Position.Left}\n          className=\"w-2 h-2 bg-green-500 border border-slate-800\"\n          style={{ left: '-4px', top: '50%', transform: 'translateY(-50%)' }}\n        />\n\n        {/* BPMN Start Event - thin border circle */}\n        <div\n          className={`w-12 h-12 rounded-full bg-slate-800 border flex items-center justify-center transition-all ${\n            selected \n              ? 'border-2 border-green-400 shadow-lg shadow-green-500/30' \n              : 'border-green-500 hover:border-green-400'\n          }`}\n        >\n          {/* Message icon for message start event */}\n          <MessageIcon className=\"w-5 h-5 text-green-400\" />\n        </div>\n\n        {/* Source handle - right */}\n        <Handle\n          type=\"source\"\n          position={Position.Right}\n          className=\"w-2 h-2 bg-green-500 border border-slate-800\"\n          style={{ right: '-4px', top: '50%', transform: 'translateY(-50%)' }}\n        />\n      </div>\n      \n      {/* Label below */}\n      <div className=\"mt-2 text-xs font-medium text-slate-400\">\n        {nodeData.label || 'Start'}\n      </div>\n    </div>\n  )\n}\n\nexport default StartNode","import React from 'react'\nimport { Handle, Position, type NodeProps, type Node } from '@xyflow/react'\n\nexport interface EndNodeData extends Record<string, unknown> {\n  label: string\n  eventType?: 'none' | 'message' | 'terminate' | 'error'\n  showDeleteButton?: boolean\n}\n\nexport type EndNodeType = Node<EndNodeData, 'end'>\n\n// BPMN 2.0 Message Icon (filled for throw events)\nconst MessageIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"currentColor\" stroke=\"currentColor\" strokeWidth=\"0.5\">\n    <rect x=\"3\" y=\"5\" width=\"18\" height=\"14\" rx=\"1\" />\n    <polyline points=\"3,5 12,13 21,5\" fill=\"none\" strokeWidth=\"1.5\" />\n  </svg>\n)\n\nconst EndNode: React.FC<NodeProps<EndNodeType>> = ({ data, selected }) => {\n  const nodeData = data || { label: 'End', eventType: 'message' }\n  \n  return (\n    <div className=\"flex flex-col items-center relative\">\n      {/* System node - no delete button */}\n      \n      {/* Node container with handles */}\n      <div className=\"relative\">\n        {/* Target handle - left */}\n        <Handle\n          type=\"target\"\n          position={Position.Left}\n          className=\"w-2 h-2 bg-red-500 border border-slate-800\"\n          style={{ left: '-4px', top: '50%', transform: 'translateY(-50%)' }}\n        />\n\n        {/* BPMN End Event - thick border circle */}\n        <div\n          className={`w-12 h-12 rounded-full bg-slate-800 border-[3px] flex items-center justify-center transition-all ${\n            selected \n              ? 'border-red-400 shadow-lg shadow-red-500/30' \n              : 'border-red-500 hover:border-red-400'\n          }`}\n        >\n          {/* Message icon (filled) for message end event */}\n          <MessageIcon className=\"w-5 h-5 text-red-400\" />\n        </div>\n\n        {/* Source handle - right (for receiver adapter connection) */}\n        <Handle\n          type=\"source\"\n          position={Position.Right}\n          className=\"w-2 h-2 bg-red-500 border border-slate-800\"\n          style={{ right: '-4px', top: '50%', transform: 'translateY(-50%)' }}\n        />\n      </div>\n      \n      {/* Label below */}\n      <div className=\"mt-2 text-xs font-medium text-slate-400\">\n        {nodeData.label || 'End'}\n      </div>\n    </div>\n  )\n}\n\nexport default EndNode","import React from 'react'\nimport { Handle, Position, type NodeProps, type Node, useReactFlow } from '@xyflow/react'\nimport { X } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\n\nexport interface ParallelSplitNodeData extends Record<string, unknown> {\n  label: string\n  parallelPaths: number\n  status?: 'idle' | 'running' | 'success' | 'error'\n  showDeleteButton?: boolean\n}\n\nexport type ParallelSplitNodeType = Node<ParallelSplitNodeData, 'parallelSplit'>\n\n// BPMN 2.0 Parallel Gateway (AND) - + marker\nconst ParallelMarker = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"none\" stroke=\"currentColor\" strokeWidth=\"3\">\n    <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\" />\n    <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\n  </svg>\n)\n\nconst ParallelSplitNode: React.FC<NodeProps<ParallelSplitNodeType>> = ({ \n  id,\n  data, \n  selected \n}) => {\n  const { setNodes, setEdges } = useReactFlow()\n  const nodeData = data || { label: 'Parallel', parallelPaths: 2 }\n  \n  const handleDelete = () => {\n    setNodes((nodes) => nodes.filter((node) => node.id !== id))\n    setEdges((edges) => edges.filter((edge) => edge.source !== id && edge.target !== id))\n  }\n\n  // Calculate handle positions for multiple outputs\n  const getOutputHandlePositions = () => {\n    const positions = []\n    const pathCount = nodeData.parallelPaths || 2\n    \n    if (pathCount <= 2) {\n      positions.push(\n        { id: 'out-1', top: '16px' },\n        { id: 'out-2', top: '28px' }\n      )\n    } else {\n      for (let i = 0; i < pathCount; i++) {\n        const top = 10 + (i * 12)\n        positions.push({ id: `out-${i + 1}`, top: `${top}px` })\n      }\n    }\n    \n    return positions.slice(0, pathCount)\n  }\n\n  const outputPositions = getOutputHandlePositions()\n\n  return (\n    <div className=\"flex flex-col items-center relative\">\n      {/* Delete button */}\n      {nodeData.showDeleteButton && (\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={handleDelete}\n          className=\"absolute -top-3 right-0 h-5 w-5 p-0 bg-red-500 text-white rounded-full shadow-md hover:bg-red-600 z-10\"\n          title=\"Delete node\"\n        >\n          <X className=\"h-3 w-3\" />\n        </Button>\n      )}\n      \n      {/* BPMN Parallel Gateway - diamond shape */}\n      <div\n        className={`w-11 h-11 bg-slate-800 border-2 flex items-center justify-center transition-all rotate-45 ${\n          selected \n            ? 'border-green-400 shadow-lg shadow-green-500/30' \n            : 'border-green-500 hover:border-green-400'\n        }`}\n      >\n        {/* + marker for parallel gateway */}\n        <ParallelMarker className=\"w-5 h-5 text-green-400 -rotate-45\" />\n      </div>\n      \n      {/* Label below */}\n      <div className=\"mt-3 text-xs font-medium text-slate-400 text-center\">\n        {nodeData.label || 'Parallel'}\n      </div>\n\n      {/* Input Handle (left point of diamond) */}\n      <Handle\n        type=\"target\"\n        position={Position.Left}\n        className=\"w-2 h-2 bg-green-500 border border-slate-800\"\n        style={{ left: '-2px', top: '22px' }}\n      />\n\n      {/* Output Handles (right point of diamond) */}\n      {/* @ts-ignore - index is used for positioning in drag operations */}\n      {outputPositions.map((pos, index) => ( // index is used for positioning\n        <Handle\n          key={pos.id}\n          type=\"source\"\n          position={Position.Right}\n          id={pos.id}\n          className=\"w-2 h-2 bg-green-500 border border-slate-800\"\n          style={{ \n            right: '-2px',\n            top: pos.top\n          }}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default ParallelSplitNode","import React from 'react'\nimport { Handle, Position, type NodeProps, type Node } from '@xyflow/react'\n\nexport interface MessageEndNodeData extends Record<string, unknown> {\n  label: string\n  eventType?: string\n  messagePayload?: string\n  showDeleteButton?: boolean\n}\n\nexport type MessageEndNodeType = Node<MessageEndNodeData, 'messageEnd'>\n\n// BPMN 2.0 Message Icon (filled for throw/end events)\nconst MessageIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" className={className} fill=\"currentColor\" stroke=\"currentColor\" strokeWidth=\"0.5\">\n    <rect x=\"3\" y=\"5\" width=\"18\" height=\"14\" rx=\"1\" />\n    <polyline points=\"3,5 12,13 21,5\" fill=\"none\" strokeWidth=\"1.5\" />\n  </svg>\n)\n\nconst MessageEndNode: React.FC<NodeProps<MessageEndNodeType>> = ({ data, selected }) => {\n  const nodeData = data || { \n    label: 'Message End', \n    eventType: 'MESSAGE_END', \n    messagePayload: ''\n  }\n  \n  return (\n    <div className=\"flex flex-col items-center relative\">\n      {/* System node - no delete button */}\n      \n      {/* Node container with handles */}\n      <div className=\"relative\">\n        {/* Target handle - left */}\n        <Handle\n          type=\"target\"\n          position={Position.Left}\n          className=\"w-2 h-2 bg-blue-500 border border-slate-800\"\n          style={{ left: '-4px', top: '50%', transform: 'translateY(-50%)' }}\n        />\n\n        {/* BPMN Message End Event - thick border circle with filled message icon */}\n        <div\n          className={`w-12 h-12 rounded-full bg-slate-800 border-[3px] flex items-center justify-center transition-all ${\n            selected \n              ? 'border-blue-400 shadow-lg shadow-blue-500/30' \n              : 'border-blue-500 hover:border-blue-400'\n          }`}\n        >\n          <MessageIcon className=\"w-5 h-5 text-blue-400\" />\n        </div>\n\n        {/* Source handle - right */}\n        <Handle\n          type=\"source\"\n          position={Position.Right}\n          className=\"w-2 h-2 bg-blue-500 border border-slate-800\"\n          style={{ right: '-4px', top: '50%', transform: 'translateY(-50%)' }}\n        />\n      </div>\n      \n      {/* Label below */}\n      <div className=\"mt-2 text-xs font-medium text-slate-400 text-center max-w-20\">\n        {nodeData.label || 'Message End'}\n      </div>\n    </div>\n  )\n}\n\nexport default MessageEndNode","import React from 'react'\nimport {\n  EdgeProps,\n  getBezierPath,\n  EdgeLabelRenderer,\n  BaseEdge,\n  useReactFlow,\n  type Edge,\n} from '@xyflow/react'\nimport { X } from 'lucide-react'\n\nexport interface FlowEdgeData extends Record<string, unknown> {\n  label?: string\n  condition?: 'true' | 'false' | 'default'\n  animated?: boolean\n  onDelete?: (edgeId: string) => void\n}\n\nexport type FlowEdgeType = Edge<FlowEdgeData, 'flow'>\n\nconst FlowEdge: React.FC<EdgeProps<FlowEdgeType>> = ({\n  id,\n  sourceX,\n  sourceY,\n  targetX,\n  targetY,\n  sourcePosition,\n  targetPosition,\n  data,\n  selected,\n  markerEnd,\n}) => {\n  const { setEdges } = useReactFlow()\n  const edgeData = data || {}\n  const [isHovered, setIsHovered] = React.useState(false)\n  \n  const handleDelete = () => {\n    setEdges((edges) => edges.filter((edge) => edge.id !== id))\n  }\n  \n  const [edgePath, labelX, labelY] = getBezierPath({\n    sourceX,\n    sourceY,\n    sourcePosition,\n    targetX,\n    targetY,\n    targetPosition,\n  })\n\n  const getEdgeColor = () => {\n    switch (edgeData.condition) {\n      case 'true':\n        return 'hsl(142, 76%, 36%)' // success green\n      case 'false':\n        return 'hsl(0, 84%, 60%)' // destructive red\n      default:\n        return 'hsl(217, 91%, 60%)' // primary blue\n    }\n  }\n\n  const getEdgeWidth = () => {\n    return selected ? 3 : 2\n  }\n\n  return (\n    <>\n      <BaseEdge\n        path={edgePath}\n        markerEnd={markerEnd}\n        style={{\n          stroke: getEdgeColor(),\n          strokeWidth: getEdgeWidth(),\n          strokeDasharray: 'none',\n        }}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n      />\n      \n      <EdgeLabelRenderer>\n        <div\n          style={{\n            position: 'absolute',\n            transform: `translate(-50%, -50%) translate(${labelX}px,${labelY}px)`,\n            pointerEvents: 'all',\n          }}\n          className=\"nodrag nopan\"\n        >\n        <div className=\"flex items-center\">\n            {(selected || isHovered) && (\n              <button\n                onClick={handleDelete}\n                className={`w-6 h-6 bg-destructive text-white rounded-full flex items-center justify-center hover:bg-destructive/80 transition-all shadow-md z-10 ${\n                  selected ? 'opacity-100 scale-110' : 'opacity-90 hover:opacity-100 hover:scale-105'\n                }`}\n                title=\"Delete connection\"\n              >\n                <X className=\"h-3 w-3\" />\n              </button>\n            )}\n          </div>\n        </div>\n      </EdgeLabelRenderer>\n    </>\n  )\n}\n\nexport default FlowEdge","import React from 'react'\nimport * as SeparatorPrimitive from '@radix-ui/react-separator'\nimport { cn } from '@/lib/utils'\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = 'horizontal', decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        'shrink-0 bg-border',\n        orientation === 'horizontal' ? 'h-[1px] w-full' : 'h-full w-[1px]',\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }","import React from 'react'\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip'\nimport { cn } from '@/lib/utils'\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      'z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }","import React from 'react'\nimport { \n  Save, \n  Play, \n  Trash2, \n  RotateCcw, \n  Download,\n  Upload,\n  Eye,\n  EyeOff,\n  LayoutGrid\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Separator } from '@/components/ui/separator'\nimport { \n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/ui/tooltip'\n\ninterface FlowToolbarProps {\n  onSave?: () => void\n  onExecute?: () => void\n  onClear?: () => void\n  onDelete?: () => void\n  onExport?: () => void\n  onImport?: () => void\n  onToggleNodeSidebar?: () => void\n  onAutoLayout?: () => void\n  isNodeSidebarVisible?: boolean\n  readOnly?: boolean\n  canExecute?: boolean\n  canSave?: boolean\n  canDelete?: boolean\n  isExecuting?: boolean\n  isSaving?: boolean\n  className?: string\n}\n\nconst FlowToolbar: React.FC<FlowToolbarProps> = ({\n  onSave,\n  onExecute,\n  onClear,\n  onDelete,\n  onExport,\n  onImport,\n  onToggleNodeSidebar,\n  onAutoLayout,\n  isNodeSidebarVisible = false,\n  readOnly = false,\n  canExecute = true,\n  canSave = true,\n  canDelete = true,\n  isExecuting = false,\n  isSaving = false,\n  className = ''\n}) => {\n  return (\n    <TooltipProvider>\n      <div className={`flex items-center space-x-2 p-3 bg-background border-b ${className}`}>\n        {/* Primary Actions */}\n        {!readOnly && (\n          <>\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"default\"\n                  size=\"sm\"\n                  onClick={onSave}\n                  disabled={!canSave || isSaving}\n                  className=\"space-x-2\"\n                >\n                  <Save className={`h-4 w-4 ${isSaving ? 'animate-pulse' : ''}`} />\n                  <span>{isSaving ? 'Saving...' : 'Save'}</span>\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>\n                <p>{isSaving ? 'Saving flow to database...' : 'Save flow configuration'}</p>\n              </TooltipContent>\n            </Tooltip>\n\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={onExecute}\n                  disabled={!canExecute || isExecuting}\n                  className=\"space-x-2\"\n                >\n                  <Play className={`h-4 w-4 ${isExecuting ? 'animate-pulse' : ''}`} />\n                  <span>{isExecuting ? 'Executing...' : 'Execute'}</span>\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>\n                <p>Execute flow with current configuration</p>\n              </TooltipContent>\n            </Tooltip>\n\n            <Separator orientation=\"vertical\" className=\"h-6\" />\n          </>\n        )}\n\n        {/* View Actions */}\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={onToggleNodeSidebar}\n            >\n              {isNodeSidebarVisible ? (\n                <EyeOff className=\"h-4 w-4\" />\n              ) : (\n                <Eye className=\"h-4 w-4\" />\n              )}\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>\n            <p>{isNodeSidebarVisible ? 'Hide' : 'Show'} node panel</p>\n          </TooltipContent>\n        </Tooltip>\n\n        {/* Layout Actions */}\n        {!readOnly && (\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={onAutoLayout}\n              >\n                <LayoutGrid className=\"h-4 w-4\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>\n              <p>Auto-arrange flow layout</p>\n            </TooltipContent>\n          </Tooltip>\n        )}\n\n        <Separator orientation=\"vertical\" className=\"h-6\" />\n\n        {/* Import/Export Actions */}\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={onExport}\n            >\n              <Download className=\"h-4 w-4\" />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>\n            <p>Export flow</p>\n          </TooltipContent>\n        </Tooltip>\n\n        {!readOnly && (\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={onImport}\n              >\n                <Upload className=\"h-4 w-4\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>\n              <p>Import flow</p>\n            </TooltipContent>\n          </Tooltip>\n        )}\n\n        <Separator orientation=\"vertical\" className=\"h-6\" />\n\n        {/* Destructive Actions */}\n        {!readOnly && (\n          <>\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={onClear}\n                >\n                  <RotateCcw className=\"h-4 w-4\" />\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>\n                <p>Clear canvas</p>\n              </TooltipContent>\n            </Tooltip>\n\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={onDelete}\n                  disabled={!canDelete}\n                  className=\"text-destructive hover:text-destructive\"\n                >\n                  <Trash2 className=\"h-4 w-4\" />\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>\n                <p>Delete flow</p>\n              </TooltipContent>\n            </Tooltip>\n          </>\n        )}\n      </div>\n    </TooltipProvider>\n  )\n}\n\nexport default FlowToolbar","import * as CollapsiblePrimitive from '@radix-ui/react-collapsible'\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }","import React, { useState } from 'react'\nimport { \n  Play,\n  CheckCircle,\n  GitBranch,\n  Split,\n  Mail,\n  Lock,\n  Unlock,\n  FileArchive,\n  ChevronDown,\n  ChevronRight,\n  Plus,\n  Download,\n  Upload\n} from 'lucide-react'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from '@/components/ui/collapsible'\n\ninterface NodeSidebarProps {\n  onNodeAdd?: (nodeType: string, nodeData: any) => void\n  className?: string\n}\n\ninterface NodeTemplate {\n  id: string\n  type: string\n  label: string\n  icon: React.ComponentType<{ className?: string }>\n  category: string\n  description: string\n  data: any\n}\n\nconst NodeSidebar: React.FC<NodeSidebarProps> = ({\n  onNodeAdd,\n  className = ''\n}) => {\n  const [expandedCategories, setExpandedCategories] = useState<string[]>(['adapters', 'gateways', 'utilities'])\n\n  const nodeTemplates: NodeTemplate[] = [\n    // Adapters - Just 2 configurable nodes\n    {\n      id: 'sender-adapter',\n      type: 'adapter',\n      label: 'Sender Adapter',\n      icon: Download,\n      category: 'adapters',\n      description: 'Configure sender adapter type (File, SFTP)',\n      data: { \n        label: 'Sender Adapter',\n        adapterType: null,\n        direction: 'SENDER',\n        availableTypes: ['FILE', 'SFTP']\n        // REMOVED: configuration embedding - adapters should only store IDs\n      }\n    },\n    {\n      id: 'receiver-adapter',\n      type: 'adapter',\n      label: 'Receiver Adapter',\n      icon: Upload,\n      category: 'adapters',\n      description: 'Configure receiver adapter type (File, SFTP, Email)',\n      data: { \n        label: 'Receiver Adapter',\n        adapterType: null,\n        direction: 'RECEIVER',\n        availableTypes: ['FILE', 'SFTP', 'EMAIL']\n        // REMOVED: configuration embedding - adapters should only store IDs\n      }\n    },\n    // Events\n    {\n      id: 'start-node',\n      type: 'start',\n      label: 'Start Event',\n      icon: Play,\n      category: 'events',\n      description: 'BPMN message start event',\n      data: { label: 'Start', eventType: 'message' }\n    },\n    {\n      id: 'end-node',\n      type: 'end',\n      label: 'End Event',\n      icon: CheckCircle,\n      category: 'events',\n      description: 'BPMN message end event',\n      data: { label: 'End', eventType: 'message' }\n    },\n    {\n      id: 'message-end-node',\n      type: 'messageEnd',\n      label: 'Message End',\n      icon: Mail,\n      category: 'events',\n      description: 'Throw message end event',\n      data: { \n        label: 'Message End',\n        eventType: 'MESSAGE_END',\n        messagePayload: ''\n      }\n    },\n    // Gateways\n    {\n      id: 'decision-node',\n      type: 'decision',\n      label: 'Exclusive Gateway',\n      icon: GitBranch,\n      category: 'gateways',\n      description: 'BPMN XOR gateway - conditional branching',\n      data: { \n        label: 'Gateway',\n        conditionType: 'ALWAYS_TRUE',\n        condition: 'true'\n      }\n    },\n    {\n      id: 'parallel-split-node',\n      type: 'parallelSplit',\n      label: 'Parallel Gateway',\n      icon: Split,\n      category: 'gateways',\n      description: 'BPMN AND gateway - parallel execution',\n      data: { \n        label: 'Parallel',\n        parallelPaths: 2\n      }\n    },\n    // Service Tasks / Utilities\n    {\n      id: 'pgp-encrypt',\n      type: 'utility',\n      label: 'PGP Encrypt',\n      icon: Lock,\n      category: 'utilities',\n      description: 'Encrypt files with PGP',\n      data: { \n        label: 'PGP Encrypt',\n        utilityType: 'PGP_ENCRYPT',\n        configuration: {\n          algorithm: 'RSA-4096'\n        }\n      }\n    },\n    {\n      id: 'pgp-decrypt',\n      type: 'utility',\n      label: 'PGP Decrypt',\n      icon: Unlock,\n      category: 'utilities',\n      description: 'Decrypt files with PGP',\n      data: { \n        label: 'PGP Decrypt',\n        utilityType: 'PGP_DECRYPT',\n        configuration: {\n          algorithm: 'RSA-4096'\n        }\n      }\n    },\n    {\n      id: 'unzip-extract',\n      type: 'utility',\n      label: 'Unzip',\n      icon: FileArchive,\n      category: 'utilities',\n      description: 'Extract files from ZIP archives',\n      data: { \n        label: 'Unzip',\n        utilityType: 'ZIP_EXTRACT',\n        configuration: {\n          extractToDirectory: '',\n          preserveStructure: true\n        }\n      }\n    }\n  ]\n\n  const categories = [\n    { id: 'adapters', label: 'Adapters', color: 'bg-blue-500/20 text-blue-400' },\n    { id: 'events', label: 'Events', color: 'bg-green-500/20 text-green-400' },\n    { id: 'gateways', label: 'Gateways', color: 'bg-amber-500/20 text-amber-400' },\n    { id: 'utilities', label: 'Service Tasks', color: 'bg-purple-500/20 text-purple-400' }\n  ]\n\n  const toggleCategory = (categoryId: string) => {\n    setExpandedCategories(prev =>\n      prev.includes(categoryId)\n        ? prev.filter(id => id !== categoryId)\n        : [...prev, categoryId]\n    )\n  }\n\n  const handleNodeDragStart = (event: React.DragEvent, nodeTemplate: NodeTemplate) => {\n    event.dataTransfer.setData('application/reactflow', JSON.stringify({\n      nodeType: nodeTemplate.type,\n      nodeData: nodeTemplate.data\n    }))\n    event.dataTransfer.effectAllowed = 'move'\n  }\n\n  const handleNodeAdd = (nodeTemplate: NodeTemplate) => {\n    if (onNodeAdd) {\n      onNodeAdd(nodeTemplate.type, nodeTemplate.data)\n    }\n  }\n\n  return (\n    <div className={`w-80 bg-slate-900 border-r border-slate-700 flex flex-col ${className}`}>\n      {/* Header */}\n      <div className=\"p-4 border-b border-slate-700\">\n        <h3 className=\"font-semibold text-lg text-slate-100\">BPMN Elements</h3>\n        <p className=\"text-sm text-slate-400\">\n          Drag nodes to the canvas or click to add\n        </p>\n      </div>\n\n      {/* Node Categories */}\n      <div className=\"flex-1 overflow-y-auto p-3 space-y-2\">\n        {categories.map(category => {\n          const categoryNodes = nodeTemplates.filter(node => node.category === category.id)\n          const isExpanded = expandedCategories.includes(category.id)\n\n          return (\n            <Card key={category.id} className=\"bg-slate-800 border-slate-700\">\n              <Collapsible open={isExpanded} onOpenChange={() => toggleCategory(category.id)}>\n                <CollapsibleTrigger asChild>\n                  <CardHeader className=\"py-2 px-3 cursor-pointer hover:bg-slate-700/50 transition-colors\">\n                    <CardTitle className=\"flex items-center justify-between text-sm\">\n                      <div className=\"flex items-center space-x-2\">\n                        <Badge variant=\"secondary\" className={category.color}>\n                          {categoryNodes.length}\n                        </Badge>\n                        <span className=\"text-slate-200\">{category.label}</span>\n                      </div>\n                      {isExpanded ? (\n                        <ChevronDown className=\"h-4 w-4 text-slate-400\" />\n                      ) : (\n                        <ChevronRight className=\"h-4 w-4 text-slate-400\" />\n                      )}\n                    </CardTitle>\n                  </CardHeader>\n                </CollapsibleTrigger>\n\n                <CollapsibleContent>\n                  <CardContent className=\"pt-0 px-2 pb-2 space-y-1\">\n                    {categoryNodes.map(node => {\n                      const IconComponent = node.icon\n                      return (\n                        <div\n                          key={node.id}\n                          draggable\n                          onDragStart={(e) => handleNodeDragStart(e, node)}\n                          className=\"group p-2 border border-slate-600 rounded-lg cursor-grab active:cursor-grabbing hover:bg-slate-700/50 hover:border-slate-500 transition-all\"\n                        >\n                          <div className=\"flex items-start space-x-2\">\n                            <div className=\"w-7 h-7 bg-slate-700 rounded flex items-center justify-center flex-shrink-0\">\n                              <IconComponent className=\"h-4 w-4 text-slate-300\" />\n                            </div>\n                            <div className=\"flex-1 min-w-0\">\n                              <div className=\"flex items-center justify-between\">\n                                <h4 className=\"font-medium text-xs text-slate-200 truncate\">\n                                  {node.label}\n                                </h4>\n                                <Button\n                                  variant=\"ghost\"\n                                  size=\"sm\"\n                                  onClick={() => handleNodeAdd(node)}\n                                  className=\"opacity-0 group-hover:opacity-100 transition-opacity h-5 w-5 p-0 text-slate-400 hover:text-slate-200\"\n                                >\n                                  <Plus className=\"h-3 w-3\" />\n                                </Button>\n                              </div>\n                              <p className=\"text-[10px] text-slate-500 mt-0.5 leading-tight\">\n                                {node.description}\n                              </p>\n                            </div>\n                          </div>\n                        </div>\n                      )\n                    })}\n                  </CardContent>\n                </CollapsibleContent>\n              </Collapsible>\n            </Card>\n          )\n        })}\n      </div>\n\n      {/* Footer */}\n      <div className=\"p-3 border-t border-slate-700 bg-slate-800/50\">\n        <p className=\"text-[10px] text-slate-500 text-center\">\n          Drag nodes to canvas or click + to add\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default NodeSidebar","import React, { useState, useEffect } from 'react'\nimport { useQuery } from '@tanstack/react-query'\nimport { \n  Settings, \n  FileInput, \n  FileOutput, \n  Server, \n  Mail,\n  Save,\n  X\n} from 'lucide-react'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Label } from '@/components/ui/label'\nimport { Input } from '@/components/ui/input'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { interfaceApi } from '@/lib/api'\nimport { Node } from '@xyflow/react'\n\ninterface NodePropertiesPanelProps {\n  selectedNode: Node | null\n  onNodeUpdate: (nodeId: string, updates: any) => void\n  onClose: () => void\n  className?: string\n}\n\nconst NodePropertiesPanel: React.FC<NodePropertiesPanelProps> = ({\n  selectedNode,\n  onNodeUpdate,\n  onClose,\n  className = ''\n}) => {\n  const [nodeData, setNodeData] = useState<any>({})\n\n  // Fetch available adapters for selection\n  const { data: adaptersResponse } = useQuery({\n    queryKey: ['interfaces'],\n    queryFn: interfaceApi.getAllInterfaces,\n  })\n\n  const adapters = adaptersResponse?.data || []\n\n  // Initialize node data when selected node changes\n  useEffect(() => {\n    if (selectedNode) {\n      setNodeData({\n        label: selectedNode.data.label || '',\n        adapterType: selectedNode.data.adapterType || null,\n        direction: selectedNode.data.direction || '',\n        adapterId: selectedNode.data.adapterId || '',\n        configuration: selectedNode.data.configuration || {},\n        // New orchestration pattern fields\n        inboundAdapter: selectedNode.data.inboundAdapter || '',\n        ...selectedNode.data\n      })\n    }\n  }, [selectedNode])\n\n  const handleSave = () => {\n    if (selectedNode) {\n      onNodeUpdate(selectedNode.id, nodeData)\n      onClose()\n    }\n  }\n\n  const handleInputChange = (field: string, value: any) => {\n    setNodeData((prev: any) => ({\n      ...prev,\n      [field]: value\n    }))\n  }\n\n  const getNodeIcon = () => {\n    if (selectedNode?.type === 'start') return Settings\n    if (selectedNode?.type === 'end') return Settings\n    if (selectedNode?.type === 'messageEnd') return Mail\n    if (selectedNode?.type === 'decision') return Settings\n    if (selectedNode?.type === 'utility') return Settings\n\n    switch (nodeData.adapterType) {\n      case 'FILE':\n        return nodeData.direction === 'SENDER' ? FileInput : FileOutput\n      case 'SFTP':\n        return Server\n      case 'EMAIL':\n        return Mail\n      default:\n        return Settings\n    }\n  }\n\n  const getAvailableAdapters = () => {\n    // For adapter nodes, filter by direction only if no specific adapter type is set\n    // This allows all adapters of the correct direction to be shown\n    if (!nodeData.direction) return []\n    \n    return adapters.filter((adapter: any) => {\n      // Always match direction\n      const directionMatch = adapter.direction === nodeData.direction\n      \n      // If adapterType is set, also match on that\n      if (nodeData.adapterType && nodeData.adapterType !== 'null') {\n        return directionMatch && adapter.adapterType === nodeData.adapterType\n      }\n      \n      // Otherwise, just match on direction\n      return directionMatch\n    })\n  }\n\n  if (!selectedNode) {\n    return (\n      <div className={`w-80 bg-background border-l flex flex-col ${className}`}>\n        <div className=\"p-4 border-b\">\n          <h3 className=\"font-semibold text-lg\">Properties</h3>\n          <p className=\"text-sm text-muted-foreground\">\n            Select a node to configure its properties\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  const IconComponent = getNodeIcon()\n  const availableAdapters = getAvailableAdapters()\n\n  return (\n    <div className={`w-80 bg-background border-l flex flex-col ${className}`}>\n      {/* Header */}\n      <div className=\"p-4 border-b\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-8 h-8 bg-primary/20 rounded-lg flex items-center justify-center\">\n              <IconComponent className=\"h-4 w-4 text-primary\" />\n            </div>\n            <div>\n              <h3 className=\"font-semibold text-lg\">Node Properties</h3>\n              <p className=\"text-sm text-muted-foreground\">\n                {selectedNode.type === 'start' ? 'Start Process Configuration' : \n                 selectedNode.type === 'end' ? 'End Process Configuration' :\n                 selectedNode.type === 'messageEnd' ? 'Message End Configuration' :\n                 selectedNode.type === 'adapter' ? 'Adapter Configuration' : \n                 'Node Configuration'}\n              </p>\n            </div>\n          </div>\n          <Button variant=\"ghost\" size=\"sm\" onClick={onClose}>\n            <X className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n\n      {/* Properties */}\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n        {/* Basic Properties */}\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-sm\">Basic Properties</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-3\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"node-label\">Label</Label>\n              <Input\n                id=\"node-label\"\n                value={nodeData.label || ''}\n                onChange={(e) => handleInputChange('label', e.target.value)}\n                placeholder=\"Enter node label\"\n                className=\"text-sm\"\n              />\n            </div>\n\n            {/* START Process Node - System Node (Non-configurable) */}\n            {selectedNode.type === 'start' && (\n              <div className=\"space-y-2\">\n                <Label>Node Type</Label>\n                <div className=\"text-sm text-muted-foreground bg-muted/20 p-2 rounded\">\n                  Start Event - System node that initiates the flow process\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  This is a system node and cannot be configured. Use adapter nodes to connect external systems.\n                </p>\n              </div>\n            )}\n\n            {/* END Process Node - System Node (Non-configurable) */}\n            {selectedNode.type === 'end' && (\n              <div className=\"space-y-2\">\n                <Label>Node Type</Label>\n                <div className=\"text-sm text-muted-foreground bg-muted/20 p-2 rounded\">\n                  End Event - System node that terminates the flow process\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  This is a system node and cannot be configured. Use adapter nodes to connect external systems.\n                </p>\n              </div>\n            )}\n\n            {/* MESSAGE END Node - System Node (Non-configurable) */}\n            {selectedNode.type === 'messageEnd' && (\n              <div className=\"space-y-2\">\n                <Label>Node Type</Label>\n                <div className=\"text-sm text-muted-foreground bg-muted/20 p-2 rounded\">\n                  Message End Event - System node for message-based flow termination\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  This is a system node and cannot be configured. Use adapter nodes to connect external systems.\n                </p>\n              </div>\n            )}\n\n            {/* Legacy adapter node support */}\n            {selectedNode.type === 'adapter' && (\n              <>\n                <div className=\"space-y-2\">\n                  <Label>Adapter Type</Label>\n                  <div className=\"text-sm text-muted-foreground bg-muted/20 p-2 rounded\">\n                    {nodeData.adapterType && nodeData.adapterType !== null && nodeData.adapterType !== '' ? \n                      `${nodeData.adapterType} ${nodeData.direction}` : \n                      `${nodeData.direction} (Select adapter instance to set type)`\n                    }\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"adapter-instance\">Adapter Instance</Label>\n                  <Select\n                    value={nodeData.adapterId || ''}\n                    onValueChange={(value) => {\n                      const selectedAdapter = adapters.find((a: any) => a.id === value)\n                      const updates = {\n                        adapterId: value,\n                        ...(selectedAdapter && {\n                          label: selectedAdapter.name,\n                          adapterType: selectedAdapter.adapterType,\n                          configuration: selectedAdapter.configuration\n                        })\n                      }\n                      \n                      // Update local state\n                      setNodeData((prev: any) => ({\n                        ...prev,\n                        ...updates\n                      }))\n                      \n                      // Auto-save the changes immediately\n                      if (selectedNode) {\n                        onNodeUpdate(selectedNode.id, updates)\n                      }\n                    }}\n                  >\n                    <SelectTrigger className=\"w-full\">\n                      <SelectValue placeholder=\"Select adapter instance\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {availableAdapters.map((adapter: any) => (\n                        <SelectItem key={adapter.id} value={adapter.id}>\n                          {adapter.name} - {adapter.adapterType} ({adapter.bank || 'No Bank'})\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                  {availableAdapters.length === 0 && (\n                    <p className=\"text-xs text-muted-foreground\">\n                      No {nodeData.direction} adapters available. \n                      Create one in Adapter Configuration first.\n                    </p>\n                  )}\n                </div>\n              </>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Configuration Summary */}\n        {nodeData.configuration && Object.keys(nodeData.configuration).length > 0 && (\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm\">Configuration Summary</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-2 text-sm overflow-hidden\">\n                {nodeData.adapterType === 'FILE' && (\n                  <>\n                    {nodeData.configuration.sourceDirectory && (\n                      <div className=\"flex flex-col\">\n                        <span className=\"text-muted-foreground\">Source:</span>\n                        <span className=\"font-mono text-xs truncate\" title={nodeData.configuration.sourceDirectory}>{nodeData.configuration.sourceDirectory}</span>\n                      </div>\n                    )}\n                    {nodeData.configuration.targetDirectory && (\n                      <div className=\"flex flex-col\">\n                        <span className=\"text-muted-foreground\">Target:</span>\n                        <span className=\"font-mono text-xs truncate\" title={nodeData.configuration.targetDirectory}>{nodeData.configuration.targetDirectory}</span>\n                      </div>\n                    )}\n                    {nodeData.configuration.filePattern && (\n                      <div className=\"flex flex-col\">\n                        <span className=\"text-muted-foreground\">Pattern:</span>\n                        <span className=\"font-mono text-xs truncate\">{nodeData.configuration.filePattern}</span>\n                      </div>\n                    )}\n                  </>\n                )}\n                {nodeData.adapterType === 'SFTP' && (\n                  <>\n                    {nodeData.configuration.host && (\n                      <div className=\"flex flex-col\">\n                        <span className=\"text-muted-foreground\">Host:</span>\n                        <span className=\"font-mono text-xs truncate\">{nodeData.configuration.host}:{nodeData.configuration.port}</span>\n                      </div>\n                    )}\n                    {nodeData.configuration.remoteDirectory && (\n                      <div className=\"flex flex-col\">\n                        <span className=\"text-muted-foreground\">Remote Dir:</span>\n                        <span className=\"font-mono text-xs truncate\" title={nodeData.configuration.remoteDirectory}>{nodeData.configuration.remoteDirectory}</span>\n                      </div>\n                    )}\n                  </>\n                )}\n                {nodeData.adapterType === 'EMAIL' && (\n                  <>\n                    {nodeData.configuration.smtpHost && (\n                      <div className=\"flex flex-col\">\n                        <span className=\"text-muted-foreground\">SMTP:</span>\n                        <span className=\"font-mono text-xs truncate\">{nodeData.configuration.smtpHost}:{nodeData.configuration.smtpPort}</span>\n                      </div>\n                    )}\n                    {nodeData.configuration.recipients && (\n                      <div className=\"flex flex-col\">\n                        <span className=\"text-muted-foreground\">Recipients:</span>\n                        <span className=\"font-mono text-xs truncate\" title={\n                          Array.isArray(nodeData.configuration.recipients) \n                            ? nodeData.configuration.recipients.join(', ')\n                            : String(nodeData.configuration.recipients)\n                        }>\n                          {Array.isArray(nodeData.configuration.recipients) \n                            ? nodeData.configuration.recipients.join(', ')\n                            : String(nodeData.configuration.recipients)\n                          }\n                        </span>\n                      </div>\n                    )}\n                  </>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Node Type Specific Properties */}\n        {selectedNode.type === 'decision' && (\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm\">Decision Logic</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-3\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"condition-type\">Condition Type</Label>\n                <Select\n                  value={nodeData.conditionType || 'ALWAYS_TRUE'}\n                  onValueChange={(value) => handleInputChange('conditionType', value)}\n                >\n                  <SelectTrigger className=\"w-full\">\n                    <SelectValue placeholder=\"Select condition type\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"ALWAYS_TRUE\">Always True</SelectItem>\n                    <SelectItem value=\"FILE_EXISTS\">File Exists</SelectItem>\n                    <SelectItem value=\"FILE_SIZE\">File Size Check</SelectItem>\n                    <SelectItem value=\"CUSTOM\">Custom Expression</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {nodeData.conditionType === 'CUSTOM' && (\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"condition\">Condition Expression</Label>\n                  <Input\n                    id=\"condition\"\n                    value={nodeData.condition || ''}\n                    onChange={(e) => handleInputChange('condition', e.target.value)}\n                    placeholder=\"Enter condition expression\"\n                    className=\"text-sm font-mono\"\n                  />\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        )}\n\n        {selectedNode.type === 'utility' && (\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm\">Utility Configuration</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-3\">\n              <div className=\"space-y-2\">\n                <Label>Utility Type</Label>\n                <div className=\"text-sm text-muted-foreground bg-muted/20 p-2 rounded\">\n                  {nodeData.utilityType}\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n\n      {/* Footer */}\n      <div className=\"p-4 border-t\">\n        <div className=\"flex items-center space-x-2\">\n          <Button onClick={handleSave} size=\"sm\" className=\"flex-1\">\n            <Save className=\"h-4 w-4 mr-2\" />\n            Save Changes\n          </Button>\n          <Button variant=\"outline\" onClick={onClose} size=\"sm\">\n            Cancel\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default NodePropertiesPanel","import dagre from 'dagre'\nimport { type Node, type Edge } from '@xyflow/react'\n\n// Layout configuration for different flow types\nexport interface LayoutConfig {\n  direction: 'TB' | 'LR' | 'BT' | 'RL'\n  nodeWidth: number\n  nodeHeight: number\n  rankSeparation: number\n  nodeSeparation: number\n}\n\n// Default layout configuration optimized for integration flows\nconst DEFAULT_LAYOUT_CONFIG: LayoutConfig = {\n  direction: 'LR', // Left to Right for integration pipeline flows\n  nodeWidth: 180,  // Standard node width\n  nodeHeight: 80,  // Standard node height\n  rankSeparation: 120, // Horizontal spacing between ranks\n  nodeSeparation: 80,  // Vertical spacing between nodes\n}\n\n// Node type specific dimensions\nconst NODE_DIMENSIONS: Record<string, { width: number; height: number }> = {\n  start: { width: 120, height: 60 },\n  end: { width: 120, height: 60 },\n  messageEnd: { width: 140, height: 60 },\n  adapter: { width: 200, height: 100 },\n  utility: { width: 160, height: 80 },\n  decision: { width: 140, height: 80 },\n  parallelSplit: { width: 160, height: 80 },\n}\n\n/**\n * Apply Dagre layout algorithm to React Flow nodes and edges\n */\nexport function layoutElements(\n  nodes: Node[],\n  edges: Edge[],\n  config: Partial<LayoutConfig> = {}\n): { nodes: Node[]; edges: Edge[] } {\n  const layoutConfig = { ...DEFAULT_LAYOUT_CONFIG, ...config }\n  \n  // Create a new directed graph\n  const graph = new dagre.graphlib.Graph()\n  \n  // Set graph configuration\n  graph.setDefaultEdgeLabel(() => ({}))\n  graph.setGraph({\n    rankdir: layoutConfig.direction,\n    ranksep: layoutConfig.rankSeparation,\n    nodesep: layoutConfig.nodeSeparation,\n    marginx: 40,\n    marginy: 40,\n  })\n  \n  // Add nodes to graph with type-specific dimensions\n  nodes.forEach((node) => {\n    const dimensions = NODE_DIMENSIONS[node.type || 'default'] || {\n      width: layoutConfig.nodeWidth,\n      height: layoutConfig.nodeHeight,\n    }\n    \n    graph.setNode(node.id, {\n      width: dimensions.width,\n      height: dimensions.height,\n    })\n  })\n  \n  // Add edges to graph\n  edges.forEach((edge) => {\n    graph.setEdge(edge.source, edge.target)\n  })\n  \n  // Run the layout algorithm\n  dagre.layout(graph)\n  \n  // Apply calculated positions to nodes\n  const layoutedNodes = nodes.map((node) => {\n    const nodeWithPosition = graph.node(node.id)\n    \n    return {\n      ...node,\n      position: {\n        x: nodeWithPosition.x - nodeWithPosition.width / 2,\n        y: nodeWithPosition.y - nodeWithPosition.height / 2,\n      },\n      // Add computed width/height to node data for consistent rendering\n      data: {\n        ...node.data,\n        computedWidth: nodeWithPosition.width,\n        computedHeight: nodeWithPosition.height,\n      },\n    }\n  })\n  \n  return {\n    nodes: layoutedNodes,\n    edges, // Edges don't need position updates\n  }\n}\n\n/**\n * Apply vertical layout optimized for simple linear flows\n */\nexport function layoutElementsVertical(\n  nodes: Node[],\n  edges: Edge[]\n): { nodes: Node[]; edges: Edge[] } {\n  return layoutElements(nodes, edges, {\n    direction: 'TB',\n    rankSeparation: 100,\n    nodeSeparation: 60,\n  })\n}\n\n/**\n * Apply horizontal layout optimized for integration pipeline flows\n */\nexport function layoutElementsHorizontal(\n  nodes: Node[],\n  edges: Edge[]\n): { nodes: Node[]; edges: Edge[] } {\n  return layoutElements(nodes, edges, {\n    direction: 'LR',\n    rankSeparation: 120,\n    nodeSeparation: 80,\n  })\n}\n\n/**\n * Apply compact layout for flows with many nodes\n */\nexport function layoutElementsCompact(\n  nodes: Node[],\n  edges: Edge[]\n): { nodes: Node[]; edges: Edge[] } {\n  return layoutElements(nodes, edges, {\n    direction: 'LR',\n    nodeWidth: 140,\n    nodeHeight: 60,\n    rankSeparation: 80,\n    nodeSeparation: 40,\n  })\n}\n\n/**\n * Smart layout selection based on flow characteristics\n */\nexport function layoutElementsSmart(\n  nodes: Node[],\n  edges: Edge[]\n): { nodes: Node[]; edges: Edge[] } {\n  const nodeCount = nodes.length\n  const edgeCount = edges.length\n  \n  // For simple linear flows (few branches), use horizontal layout\n  if (nodeCount <= 6 && edgeCount <= nodeCount + 2) {\n    return layoutElementsHorizontal(nodes, edges)\n  }\n  \n  // For complex flows with many nodes, use compact layout\n  if (nodeCount > 10) {\n    return layoutElementsCompact(nodes, edges)\n  }\n  \n  // Default to horizontal layout for integration flows\n  return layoutElementsHorizontal(nodes, edges)\n}\n\n/**\n * Get layout statistics for the current flow\n */\nexport function getLayoutStats(nodes: Node[], edges: Edge[]): {\n  nodeCount: number\n  edgeCount: number\n  hasAdapters: boolean\n  hasDecisions: boolean\n  maxDepth: number\n  suggestedLayout: string\n} {\n  const nodeCount = nodes.length\n  const edgeCount = edges.length\n  const hasAdapters = nodes.some(node => node.type === 'adapter')\n  const hasDecisions = nodes.some(node => node.type === 'decision')\n  \n  // Calculate max depth (simplified - actual implementation would need proper graph traversal)\n  const maxDepth = Math.ceil(Math.sqrt(nodeCount))\n  \n  let suggestedLayout = 'horizontal'\n  if (nodeCount > 10) {\n    suggestedLayout = 'compact'\n  } else if (hasDecisions || maxDepth > 3) {\n    suggestedLayout = 'smart'\n  }\n  \n  return {\n    nodeCount,\n    edgeCount,\n    hasAdapters,\n    hasDecisions,\n    maxDepth,\n    suggestedLayout,\n  }\n}","import React, { useCallback, useRef, useState } from 'react'\nimport {\n  ReactFlow,\n  Background,\n  Controls,\n  MiniMap,\n  addEdge,\n  useNodesState,\n  useEdgesState,\n  useReactFlow, // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  reconnectEdge,\n  type Node,\n  type Edge,\n  type Connection,\n  type NodeTypes,\n  type EdgeTypes,\n  ConnectionMode,\n  Panel,\n} from '@xyflow/react'\nimport '@xyflow/react/dist/style.css'\n\n// Node Components\nimport AdapterNode from './nodes/AdapterNode'\nimport UtilityNode from './nodes/UtilityNode'\nimport DecisionNode from './nodes/DecisionNode'\nimport StartNode from './nodes/StartNode'\nimport EndNode from './nodes/EndNode'\nimport ParallelSplitNode from './nodes/ParallelSplitNode'\nimport MessageEndNode from './nodes/MessageEndNode'\n\n// @ts-expect-error useReactFlow is used for flow functionality\nconst _ = useReactFlow\n\n// Edge Components\nimport FlowEdge from './edges/FlowEdge'\n\n// Flow Controls\nimport FlowToolbar from './FlowToolbar'\nimport NodeSidebar from './NodeSidebar'\nimport NodePropertiesPanel from './NodePropertiesPanel'\n\n// Layout utilities\nimport { layoutElementsSmart } from '@/utils/flowLayout'\n\n// Types\nexport interface FlowData {\n  id: string\n  name: string\n  description: string\n  bankName?: string\n  nodes: Node[]\n  edges: Edge[]\n  active: boolean\n}\n\ninterface FlowCanvasProps {\n  flowData?: FlowData\n  onFlowChange?: (flow: FlowData) => void\n  onSave?: (flow: FlowData) => void\n  onExecute?: (flow: FlowData) => void\n  readOnly?: boolean\n  className?: string\n  isSaving?: boolean\n}\n\n// Define node types - xyflow's NodeTypes accepts ComponentType with data: any\nconst nodeTypes: NodeTypes = {\n  start: StartNode,\n  end: EndNode,\n  messageEnd: MessageEndNode,\n  adapter: AdapterNode,\n  utility: UtilityNode,\n  decision: DecisionNode,\n  parallelSplit: ParallelSplitNode,\n}\n\n// Define edge types\nconst edgeTypes: EdgeTypes = {\n  flow: FlowEdge,\n}\n\n// Initial nodes for new flows - BPMN 2.0 layout\nconst initialNodes: Node[] = [\n  {\n    id: 'start-event-1',\n    type: 'start',\n    position: { x: 100, y: 120 },\n    data: { \n      label: 'Start',\n      eventType: 'message',\n      inboundAdapter: '',\n      showDeleteButton: false\n    },\n  },\n  {\n    id: 'end-event-1',\n    type: 'end',\n    position: { x: 400, y: 120 },\n    data: { \n      label: 'End',\n      eventType: 'message',\n      adapterType: 'end-process',\n      adapterId: '',\n      showDeleteButton: false\n    },\n  },\n]\n\n// Edge color constant - light blue for dark theme\nconst EDGE_COLOR = '#3b82f6'\nconst EDGE_COLOR_SELECTED = '#60a5fa'\n\nconst initialEdges: Edge[] = [\n  {\n    id: 'flow-start-to-end',\n    source: 'start-event-1',\n    target: 'end-event-1',\n    type: 'flow',\n    markerEnd: { type: 'arrowclosed', color: EDGE_COLOR },\n    style: {\n      stroke: EDGE_COLOR,\n      strokeWidth: 1.5,\n    },\n  },\n]\n\nconst FlowCanvas: React.FC<FlowCanvasProps> = ({\n  flowData,\n  onFlowChange,\n  onSave,\n  onExecute,\n  readOnly = false,\n  className = '',\n  isSaving = false,\n}) => {\n  const [nodes, setNodes, onNodesChange] = useNodesState(\n    flowData?.nodes?.length ? flowData.nodes : initialNodes\n  )\n  const [edges, setEdges, onEdgesChange] = useEdgesState(\n    flowData?.edges?.length ? flowData.edges : initialEdges\n  )\n\n  const [selectedNode, setSelectedNode] = useState<Node | null>(null)\n  const [selectedEdge, setSelectedEdge] = useState<Edge | null>(null)\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n  const [propertiesPanelOpen, setPropertiesPanelOpen] = useState(false)\n  const [nodeWithDeleteButton, setNodeWithDeleteButton] = useState<string | null>(null)\n  const reactFlowWrapper = useRef<HTMLDivElement>(null)\n  const [reactFlowInstance, setReactFlowInstance] = useState<any>(null)\n\n  // Validate connections to ensure proper flow direction\n  const isValidConnection = useCallback((edge: Connection | Edge) => {\n    const sourceNode = nodes.find(node => node.id === edge.source)\n    const targetNode = nodes.find(node => node.id === edge.target)\n    \n    if (!sourceNode || !targetNode) return false\n    \n    // Prevent self-connections\n    if (edge.source === edge.target) return false\n    \n    // Sender adapters can connect to start nodes\n    if (sourceNode.type === 'adapter' && sourceNode.data?.direction === 'SENDER') {\n      return targetNode.type === 'start'\n    }\n    \n    // Start nodes can connect to utility, decision, parallelSplit, end, or messageEnd nodes\n    if (sourceNode.type === 'start') {\n      return targetNode.type === 'utility' || targetNode.type === 'decision' || targetNode.type === 'parallelSplit' || targetNode.type === 'end' || targetNode.type === 'messageEnd'\n    }\n    \n    // End nodes can connect to receiver adapters\n    if (sourceNode.type === 'end') {\n      return targetNode.type === 'adapter' && targetNode.data?.direction === 'RECEIVER'\n    }\n    \n    // Message end nodes can connect to receiver adapters\n    if (sourceNode.type === 'messageEnd') {\n      return targetNode.type === 'adapter' && targetNode.data?.direction === 'RECEIVER'\n    }\n    \n    // Utility, decision, and parallelSplit nodes can connect to other utilities, decisions, parallelSplits, end, or messageEnd nodes\n    if (sourceNode.type === 'utility' || sourceNode.type === 'decision' || sourceNode.type === 'parallelSplit') {\n      return targetNode.type === 'utility' || targetNode.type === 'decision' || targetNode.type === 'parallelSplit' || targetNode.type === 'end' || targetNode.type === 'messageEnd'\n    }\n    \n    // Receiver adapters should not connect to anything (they are final output points)\n    if (sourceNode.type === 'adapter' && sourceNode.data?.direction === 'RECEIVER') {\n      return false\n    }\n    \n    // Allow other standard connections\n    return true\n  }, [nodes])\n\n  // Handle connection creation\n  const onConnect = useCallback(\n    (params: Connection) => {\n      if (isValidConnection(params)) {\n        const edge = {\n          ...params,\n          type: 'flow',\n          markerEnd: { type: 'arrowclosed', color: EDGE_COLOR },\n          style: { stroke: EDGE_COLOR, strokeWidth: 2, strokeDasharray: 'none' },\n        }\n        setEdges((eds) => addEdge(edge, eds))\n      }\n    },\n    [setEdges, isValidConnection]\n  )\n\n  // Handle edge reconnection (drag arrowhead to new node)\n  const onReconnect = useCallback(\n    (oldEdge: Edge, newConnection: Connection) => {\n      if (isValidConnection(newConnection)) {\n        setEdges((eds) => reconnectEdge(oldEdge, newConnection, eds))\n      }\n    },\n    [setEdges, isValidConnection]\n  )\n\n  // Handle node selection\n  const onNodeClick = useCallback(\n    (_event: React.MouseEvent, node: Node) => {\n      if (!readOnly) {\n        // System nodes (start, end, messageEnd) should not be configurable\n        const isSystemNode = ['start', 'end', 'messageEnd'].includes(node.type || '')\n        \n        if (isSystemNode) {\n          // Clear any selections when clicking system nodes\n          setSelectedNode(null)\n          setSelectedEdge(null)\n          setPropertiesPanelOpen(false)\n          setNodeWithDeleteButton(null)\n        } else {\n          setSelectedNode(node)\n          setSelectedEdge(null) // Clear edge selection when node is selected\n          setPropertiesPanelOpen(true)\n          setSidebarOpen(false) // Close node sidebar when properties panel opens\n          \n          // Show delete button for 3 seconds (like Flow Bridge)\n          setNodeWithDeleteButton(node.id)\n          setTimeout(() => setNodeWithDeleteButton(null), 3000)\n        }\n      }\n    },\n    [readOnly]\n  )\n\n  // Handle edge selection\n  const onEdgeClick = useCallback(\n    (_event: React.MouseEvent, edge: Edge) => {\n      if (!readOnly) {\n        setSelectedEdge(edge)\n        setSelectedNode(null) // Clear node selection when edge is selected\n        setNodeWithDeleteButton(null) // Clear node delete button\n        setPropertiesPanelOpen(false) // Close properties panel for edges\n        setSidebarOpen(false)\n      }\n    },\n    [readOnly]\n  )\n\n  // Handle canvas click (clear selections when clicking empty space)\n  const onPaneClick = useCallback(() => {\n    if (!readOnly) {\n      setSelectedNode(null)\n      setSelectedEdge(null)\n      setNodeWithDeleteButton(null)\n      setPropertiesPanelOpen(false)\n    }\n  }, [readOnly])\n\n\n  // Handle drag over for node drop\n  const onDragOver = useCallback((event: React.DragEvent) => {\n    event.preventDefault()\n    event.dataTransfer.dropEffect = 'move'\n  }, [])\n\n  // Handle node drop from sidebar\n  const onDrop = useCallback(\n    (event: React.DragEvent) => {\n      event.preventDefault()\n\n      if (!reactFlowInstance) return\n\n      try {\n        const dropData = JSON.parse(event.dataTransfer.getData('application/reactflow'))\n        \n        // Use screenToFlowPosition to get exact drop position accounting for zoom/pan\n        const position = reactFlowInstance.screenToFlowPosition({\n          x: event.clientX,\n          y: event.clientY,\n        })\n\n        const newNode: Node = {\n          id: `${dropData.nodeType}-${Date.now()}`,\n          type: dropData.nodeType,\n          position,\n          data: dropData.nodeData,\n        }\n\n        setNodes((nds) => nds.concat(newNode))\n      } catch (error) {\n        console.error('Error parsing dropped node data:', error)\n      }\n    },\n    [setNodes, reactFlowInstance]\n  )\n\n  // Delete selected node/edge\n  const onDeleteSelected = useCallback(() => {\n    if (selectedNode) {\n      // Prevent deletion of system nodes\n      const isSystemNode = ['start', 'end', 'messageEnd'].includes(selectedNode.type || '')\n      if (isSystemNode) {\n        console.warn('System nodes cannot be deleted')\n        return\n      }\n      \n      setNodes((nds) => nds.filter((node) => node.id !== selectedNode.id))\n      setEdges((eds) => \n        eds.filter((edge) => \n          edge.source !== selectedNode.id && edge.target !== selectedNode.id\n        )\n      )\n      setSelectedNode(null)\n    } else if (selectedEdge) {\n      setEdges((eds) => eds.filter((edge) => edge.id !== selectedEdge.id))\n      setSelectedEdge(null)\n    }\n  }, [selectedNode, selectedEdge, setNodes, setEdges])\n\n  // Clear all nodes and edges\n  const onClear = useCallback(() => {\n    setNodes(initialNodes)\n    setEdges(initialEdges)\n    setSelectedNode(null)\n  }, [setNodes, setEdges])\n\n  // Save flow\n  const handleSave = useCallback(() => {\n    const currentFlow: FlowData = {\n      id: flowData?.id || `flow-${Date.now()}`,\n      name: flowData?.name || 'Untitled Flow',\n      description: flowData?.description || '',\n      nodes,\n      edges,\n      active: flowData?.active || true,\n    }\n    \n    onSave?.(currentFlow)\n    onFlowChange?.(currentFlow)\n  }, [flowData, nodes, edges, onSave, onFlowChange])\n\n  // Execute flow\n  const handleExecute = useCallback(() => {\n    const currentFlow: FlowData = {\n      id: flowData?.id || `flow-${Date.now()}`,\n      name: flowData?.name || 'Untitled Flow',\n      description: flowData?.description || '',\n      nodes,\n      edges,\n      active: flowData?.active || true,\n    }\n    \n    onExecute?.(currentFlow)\n  }, [flowData, nodes, edges, onExecute])\n\n  // Handle direct node addition from sidebar\n  const handleNodeAdd = useCallback(\n    (nodeType: string, nodeData: any) => {\n      // Position all new nodes at the same fixed central location\n      const fixedPosition = { x: 250, y: 200 }\n\n      const newNode: Node = {\n        id: `${nodeType}-${Date.now()}`,\n        type: nodeType,\n        position: fixedPosition,\n        data: nodeData,\n      }\n\n      setNodes((nds) => nds.concat(newNode))\n    },\n    [setNodes]\n  )\n\n  // Handle node property updates\n  const handleNodeUpdate = useCallback(\n    (nodeId: string, updates: any) => {\n      setNodes((nds) =>\n        nds.map((node) =>\n          node.id === nodeId\n            ? { ...node, data: { ...node.data, ...updates } }\n            : node\n        )\n      )\n      setSelectedNode(null)\n      setPropertiesPanelOpen(false)\n    },\n    [setNodes]\n  )\n\n  // Handle auto-layout\n  const handleAutoLayout = useCallback(() => {\n    const { nodes: layoutedNodes, edges: layoutedEdges } = layoutElementsSmart(nodes, edges)\n    setNodes(layoutedNodes)\n    setEdges(layoutedEdges)\n  }, [nodes, edges, setNodes, setEdges])\n\n  // Close properties panel\n  const handleClosePropertiesPanel = useCallback(() => {\n    setSelectedNode(null)\n    setPropertiesPanelOpen(false)\n  }, [])\n\n  // Handle keyboard shortcuts\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (!readOnly && event.key === 'Delete' && (selectedNode || selectedEdge)) {\n        event.preventDefault()\n        onDeleteSelected()\n      }\n    }\n\n    window.addEventListener('keydown', handleKeyDown)\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown)\n    }\n  }, [selectedNode, selectedEdge, onDeleteSelected, readOnly])\n\n  // Auto-save on changes\n  React.useEffect(() => {\n    if (onFlowChange) {\n      const currentFlow: FlowData = {\n        id: flowData?.id || `flow-${Date.now()}`,\n        name: flowData?.name || 'Untitled Flow',\n        description: flowData?.description || '',\n        nodes,\n        edges,\n        active: flowData?.active || true,\n      }\n      \n      onFlowChange(currentFlow)\n    }\n  }, [nodes, edges, flowData, onFlowChange])\n\n  return (\n    <div className={`flex h-full ${className}`}>\n      {/* Node Sidebar */}\n      {!readOnly && sidebarOpen && (\n        <NodeSidebar\n          onNodeAdd={handleNodeAdd}\n        />\n      )}\n\n      {/* Node Properties Panel */}\n      {!readOnly && propertiesPanelOpen && (\n        <NodePropertiesPanel\n          selectedNode={selectedNode}\n          onNodeUpdate={handleNodeUpdate}\n          onClose={handleClosePropertiesPanel}\n        />\n      )}\n\n      {/* Flow Canvas */}\n      <div className=\"flex-1 relative\" ref={reactFlowWrapper}>\n        <ReactFlow\n          nodes={nodes.map(node => ({\n            ...node,\n            data: {\n              ...node.data,\n              showDeleteButton: nodeWithDeleteButton === node.id\n            }\n          }))}\n          edges={edges.map(edge => ({\n            ...edge,\n            style: {\n              ...edge.style,\n              stroke: selectedEdge?.id === edge.id ? EDGE_COLOR_SELECTED : edge.style?.stroke || EDGE_COLOR,\n              strokeWidth: selectedEdge?.id === edge.id ? 3 : edge.style?.strokeWidth || 2,\n            }\n          }))}\n          onNodesChange={onNodesChange}\n          onEdgesChange={onEdgesChange}\n          onConnect={onConnect}\n          onReconnect={onReconnect}\n          isValidConnection={isValidConnection}\n          onNodeClick={onNodeClick}\n          onEdgeClick={onEdgeClick}\n          onPaneClick={onPaneClick}\n          onDrop={onDrop}\n          onDragOver={onDragOver}\n          onInit={setReactFlowInstance}\n          nodeTypes={nodeTypes}\n          edgeTypes={edgeTypes}\n          connectionMode={ConnectionMode.Strict}\n          fitView\n          fitViewOptions={{ padding: 0.4, includeHiddenNodes: false, minZoom: 0.8, maxZoom: 1.5 }}\n          defaultViewport={{ x: 0, y: 0, zoom: 1 }}\n          className=\"bg-slate-900\"\n          snapToGrid\n          snapGrid={[20, 20]}\n          deleteKeyCode=\"Delete\"\n          multiSelectionKeyCode=\"Control\"\n          defaultEdgeOptions={{\n            type: 'flow',\n            markerEnd: { type: 'arrowclosed', color: EDGE_COLOR },\n            style: { stroke: EDGE_COLOR, strokeWidth: 1.5, strokeDasharray: 'none' },\n          }}\n        >\n          <Background color=\"#334155\" gap={20} size={1} />\n          <Controls className=\"bg-slate-800 border border-slate-700 rounded shadow-lg [&>button]:bg-slate-800 [&>button]:border-slate-700 [&>button]:text-slate-300 [&>button:hover]:bg-slate-700\" />\n          <MiniMap \n            className=\"bg-slate-800 border border-slate-700 rounded shadow-lg\"\n            nodeColor={(node: Node) => {\n              switch (node.type) {\n                case 'start': return '#1e293b'\n                case 'end': return '#1e293b'\n                case 'messageEnd': return '#1e293b'\n                case 'adapter': return '#1e293b'\n                case 'utility': return '#1e293b'\n                case 'decision': return '#1e293b'\n                case 'parallelSplit': return '#1e293b'\n                default: return '#1e293b'\n              }\n            }}\n          />\n\n          {/* Flow Toolbar */}\n          {!readOnly && (\n            <Panel position=\"top-left\">\n              <FlowToolbar\n                onSave={handleSave}\n                onExecute={handleExecute}\n                onClear={onClear}\n                onDelete={onDeleteSelected}\n                onAutoLayout={handleAutoLayout}\n                onToggleNodeSidebar={() => {\n                  setSidebarOpen(!sidebarOpen)\n                  if (!sidebarOpen) {\n                    setPropertiesPanelOpen(false)\n                    setSelectedNode(null)\n                  }\n                }}\n                isNodeSidebarVisible={sidebarOpen}\n                canSave={true}\n                canExecute={nodes.length > 0}\n                canDelete={!!selectedNode || !!selectedEdge}\n                isSaving={isSaving}\n              />\n            </Panel>\n          )}\n\n          {/* Flow Info */}\n          <Panel position=\"top-right\" className=\"bg-card border border-border rounded-md p-2\">\n            <div className=\"text-sm space-y-1\">\n              <div className=\"font-medium text-foreground\">\n                {flowData?.name || 'Untitled Flow'}\n              </div>\n              {flowData?.description && (\n                <div className=\"text-muted-foreground text-xs\">\n                  {flowData.description}\n                </div>\n              )}\n              <div className=\"text-xs text-muted-foreground\">\n                {nodes.length} nodes, {edges.length} connections\n              </div>\n            </div>\n          </Panel>\n        </ReactFlow>\n      </div>\n    </div>\n  )\n}\n\nexport default FlowCanvas","import React, { useState, useEffect } from 'react'\nimport { useParams, useNavigate, useSearchParams } from 'react-router-dom'\nimport { toast } from 'sonner'\nimport FlowCanvas, { FlowData } from '@/components/flow/FlowCanvas'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { \n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { ArrowLeft, Settings, X } from 'lucide-react'\nimport { flowApi } from '@/lib/api'\nimport WebSocketStatus from '@/components/WebSocketStatus'\nimport { useFlowValidationUpdates } from '@/hooks/useWebSocket'\n\nconst VisualFlowBuilder: React.FC = () => {\n  const { id } = useParams<{ id?: string }>()\n  const navigate = useNavigate()\n  const [searchParams] = useSearchParams()\n  const isViewMode = searchParams.get('mode') === 'view'\n  const [flowData, setFlowData] = useState<FlowData | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [isSaving, setSaving] = useState(false)\n  const [isExecuting, setExecuting] = useState(false)\n  const [showSettings, setShowSettings] = useState(false)\n  const [flowName, setFlowName] = useState('')\n  const [flowDescription, setFlowDescription] = useState('')\n  const [bankName, setBankName] = useState('')\n\n  // Subscribe to real-time flow validation updates\n  useFlowValidationUpdates((result) => {\n    if (id && result.flowId === id) {\n      // Handle validation updates for current flow\n      if (!result.validation.valid) {\n        toast.error(`Flow validation failed: ${result.validation.errors.join(', ')}`)\n      } else if (result.validation.warnings.length > 0) {\n        toast.warning(`Flow validation warnings: ${result.validation.warnings.join(', ')}`)\n      } else {\n        toast.success('Flow validation passed')\n      }\n    }\n  })\n\n  // Load existing flow if editing\n  useEffect(() => {\n    const loadFlow = async () => {\n      if (id) {\n        setIsLoading(true)\n        try {\n          const response = await flowApi.getFlowById(id)\n          const flow = response.data\n          setFlowData({\n            id: flow.id,\n            name: flow.name,\n            description: flow.description || '',\n            nodes: flow.flowDefinition?.nodes || [],\n            edges: flow.flowDefinition?.edges || [],\n            active: flow.active\n          })\n          setFlowName(flow.name)\n          setFlowDescription(flow.description || '')\n          setBankName(flow.bankName || '')\n        } catch (error) {\n          console.error('Failed to load flow:', error)\n          toast.error('Failed to load flow')\n          navigate('/flows')\n        } finally {\n          setIsLoading(false)\n        }\n      } else {\n        // Create new flow with blank data - user must fill in required fields\n        setFlowData({\n          id: `flow-${Date.now()}`,\n          name: '',\n          description: '',\n          nodes: [],\n          edges: [],\n          active: true\n        })\n        setFlowName('')\n        setFlowDescription('')\n        setBankName('')\n      }\n    }\n\n    loadFlow()\n  }, [id, navigate])\n\n  // Handle flow changes\n  const handleFlowChange = (updatedFlow: FlowData) => {\n    setFlowData(updatedFlow)\n  }\n\n  // Handle save\n  const handleSave = async (flow: FlowData) => {\n    // Validate required fields\n    if (!flowName.trim()) {\n      toast.error('Flow Name is required')\n      return\n    }\n    if (!bankName.trim()) {\n      toast.error('Bank Name is required')\n      return\n    }\n\n    setSaving(true)\n    try {\n      const flowPayload = {\n        name: flowName.trim(),\n        description: flowDescription.trim(),\n        bankName: bankName.trim(),\n        flowDefinition: {\n          nodes: flow.nodes,\n          edges: flow.edges\n        },\n        active: flow.active\n      }\n\n      if (id) {\n        await flowApi.updateFlow(id, flowPayload)\n        toast.success('Flow updated successfully')\n        navigate('/flows')\n      } else {\n        const response = await flowApi.createFlow(flowPayload)\n        const newFlow = response.data\n        setFlowData(prev => prev ? { ...prev, id: newFlow.id } : null)\n        toast.success('Flow created successfully')\n        navigate('/flows')\n      }\n    } catch (error: any) {\n      console.error('Failed to save flow:', error)\n      const errorMessage = error.response?.data?.message || error.message || 'Failed to save flow'\n      toast.error('Cannot Save Flow', {\n        description: errorMessage\n      })\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  // Handle execute\n  const handleExecute = async (_flow: FlowData) => {\n    if (!id) {\n      toast.error('Please save the flow before executing')\n      return\n    }\n\n    setExecuting(true)\n    try {\n      await flowApi.executeFlow(id)\n      toast.success('Flow execution started')\n    } catch (error) {\n      console.error('Failed to execute flow:', error)\n      toast.error('Failed to execute flow')\n    } finally {\n      setExecuting(false)\n    }\n  }\n\n  // Handle settings save\n  const handleSettingsSave = () => {\n    if (flowData) {\n      setFlowData({\n        ...flowData,\n        name: flowName,\n        description: flowDescription,\n        bankName: bankName\n      })\n      setShowSettings(false)\n      toast.success('Flow settings updated')\n    }\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"></div>\n          <p className=\"mt-2 text-muted-foreground\">Loading flow...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex flex-col h-full overflow-hidden\">\n      {/* Header */}\n      <div className=\"border-b bg-background relative z-10 shrink-0\">\n        {/* Top Row - Navigation */}\n        <div className=\"flex items-center justify-between p-4\">\n          <div className=\"flex items-center space-x-4\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => navigate('/flows')}\n              className=\"space-x-2\"\n            >\n              <ArrowLeft className=\"h-4 w-4\" />\n              <span>Back to Flows</span>\n            </Button>\n            <h1 className=\"text-xl font-semibold text-foreground\">\n              {isViewMode ? 'View Visual Flow' : id ? 'Edit Visual Flow' : 'Create Visual Flow'}\n            </h1>\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            <WebSocketStatus size=\"sm\" />\n            {!isViewMode && (\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => setShowSettings(true)}\n                className=\"space-x-2\"\n              >\n                <Settings className=\"h-4 w-4\" />\n                <span>Settings</span>\n              </Button>\n            )}\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => navigate('/flows')}\n              className=\"space-x-2\"\n            >\n              <X className=\"h-4 w-4\" />\n              <span>Cancel</span>\n            </Button>\n          </div>\n        </div>\n\n        {/* Flow Configuration Inputs */}\n        <div className=\"px-4 py-4 bg-muted/50 border-t border-border\">\n          <div className=\"grid grid-cols-3 gap-4 max-w-4xl\">\n            <div>\n              <label className=\"text-sm font-medium text-foreground block mb-1\">\n                Flow Name <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                value={flowName}\n                onChange={(e) => !isViewMode && setFlowName(e.target.value)}\n                placeholder=\"Enter flow name\"\n                readOnly={isViewMode}\n                required\n                className={`w-full px-3 py-2 border rounded-md text-foreground placeholder:text-muted-foreground ${\n                  !flowName.trim() && !isViewMode ? 'border-red-500' : 'border-input'\n                } ${\n                  isViewMode \n                    ? 'bg-muted/50 cursor-default' \n                    : 'bg-background focus:outline-none focus:ring-2 focus:ring-ring'\n                }`}\n              />\n            </div>\n            <div>\n              <label className=\"text-sm font-medium text-foreground block mb-1\">Description</label>\n              <input\n                type=\"text\"\n                value={flowDescription}\n                onChange={(e) => !isViewMode && setFlowDescription(e.target.value)}\n                placeholder=\"Enter description\"\n                readOnly={isViewMode}\n                className={`w-full px-3 py-2 border border-input rounded-md text-foreground placeholder:text-muted-foreground ${\n                  isViewMode \n                    ? 'bg-muted/50 cursor-default' \n                    : 'bg-background focus:outline-none focus:ring-2 focus:ring-ring'\n                }`}\n              />\n            </div>\n            <div>\n              <label className=\"text-sm font-medium text-foreground block mb-1\">\n                Bank Name <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                value={bankName}\n                onChange={(e) => !isViewMode && setBankName(e.target.value)}\n                placeholder=\"Enter bank name\"\n                readOnly={isViewMode}\n                required\n                className={`w-full px-3 py-2 border rounded-md text-foreground placeholder:text-muted-foreground ${\n                  !bankName.trim() && !isViewMode ? 'border-red-500' : 'border-input'\n                } ${\n                  isViewMode \n                    ? 'bg-muted/50 cursor-default' \n                    : 'bg-background focus:outline-none focus:ring-2 focus:ring-ring'\n                }`}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Flow Canvas */}\n      <div className=\"flex-1 min-h-0 relative\">\n        {flowData && (\n          <FlowCanvas\n            flowData={flowData}\n            onFlowChange={handleFlowChange}\n            onSave={handleSave}\n            onExecute={handleExecute}\n            readOnly={isViewMode}\n            className=\"h-full\"\n          />\n        )}\n      </div>\n\n      {/* Settings Dialog */}\n      <Dialog open={showSettings} onOpenChange={setShowSettings}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Flow Settings</DialogTitle>\n            <DialogDescription>\n              Configure the basic settings for your flow\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"flow-name\">Name</Label>\n              <Input\n                id=\"flow-name\"\n                value={flowName}\n                onChange={(e) => setFlowName(e.target.value)}\n                placeholder=\"Enter flow name\"\n              />\n            </div>\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"flow-description\">Description</Label>\n              <Input\n                id=\"flow-description\"\n                value={flowDescription}\n                onChange={(e) => setFlowDescription(e.target.value)}\n                placeholder=\"Enter flow description (optional)\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"bank-name\">Bank Name</Label>\n              <Input\n                id=\"bank-name\"\n                value={bankName}\n                onChange={(e) => setBankName(e.target.value)}\n                placeholder=\"Enter bank name\"\n              />\n            </div>\n          </div>\n\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowSettings(false)}>\n              Cancel\n            </Button>\n            <Button onClick={handleSettingsSave}>\n              Save Settings\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Loading States */}\n      {(isSaving || isExecuting) && (\n        <div className=\"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"></div>\n            <p className=\"mt-2 text-muted-foreground\">\n              {isSaving ? 'Saving flow...' : 'Executing flow...'}\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default VisualFlowBuilder","import React, { useState } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { useNavigate } from 'react-router-dom'\nimport { \n  Play, \n  Square, \n  Activity, \n  CheckCircle, \n  XCircle, \n  Clock,\n  RefreshCw,\n  Eye,\n  BarChart3\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { useNotifications } from '@/stores/ui'\nimport { adapterApi } from '@/lib/api'\nimport { cn } from '@/lib/utils'\n\ninterface Adapter {\n  id: string\n  name: string\n  adapterType: 'FILE' | 'SFTP' | 'EMAIL'\n  direction: 'SENDER' | 'RECEIVER'\n  active: boolean\n  status: 'STARTED' | 'STOPPED' | 'STARTING' | 'STOPPING'\n  lastExecution?: string\n  executionCount: number\n  errorCount: number\n  lastError?: string\n  configuration: any\n  createdAt: string\n}\n\n\nconst AdapterMonitoring: React.FC = () => {\n  const { success, error } = useNotifications()\n  const queryClient = useQueryClient()\n  const navigate = useNavigate()\n  \n  const [statusFilter, setStatusFilter] = useState<string>('all')\n  const [typeFilter, setTypeFilter] = useState<string>('all')\n  const [selectedAdapterId, setSelectedAdapterId] = useState<string | null>(null)\n  const [pendingStartIds, setPendingStartIds] = useState<Set<string>>(new Set())\n  const [pendingStopIds, setPendingStopIds] = useState<Set<string>>(new Set())\n\n  // Fetch adapters with status\n  const { data: adaptersResponse, isLoading: adaptersLoading } = useQuery({\n    queryKey: ['adapters-monitoring'],\n    queryFn: () => adapterApi.getAllAdapters(),\n    refetchInterval: 5000, // Refresh every 5 seconds for real-time status\n  })\n\n\n  // Fetch adapter execution history for selected adapter\n  const { data: executionHistoryResponse } = useQuery({\n    queryKey: ['adapter-execution-history', selectedAdapterId],\n    queryFn: () => selectedAdapterId ? adapterApi.getAdapterExecutionHistory(selectedAdapterId, { limit: 5 }) : null,\n    enabled: !!selectedAdapterId,\n    refetchInterval: 5000, // Refresh every 5 seconds\n  })\n\n  const adapters = adaptersResponse?.data || []\n  const executionHistory = executionHistoryResponse?.data\n\n  // Start adapter mutation (optimistic UI)\n  const startAdapterMutation = useMutation({\n    mutationFn: (adapterId: string) => adapterApi.startAdapter(adapterId),\n    onMutate: async (adapterId) => {\n      await queryClient.cancelQueries({ queryKey: ['adapters-monitoring'] })\n\n      setPendingStartIds(prev => new Set(prev).add(adapterId))\n\n      const previous = queryClient.getQueryData<any>(['adapters-monitoring'])\n\n      queryClient.setQueryData(['adapters-monitoring'], (old: any) => {\n        if (!old) return old\n        const next = { ...old }\n        const list = Array.isArray(old.data) ? old.data : []\n        next.data = list.map((a: Adapter) =>\n          a.id === adapterId ? { ...a, status: 'STARTING' as const } : a\n        )\n        return next\n      })\n\n      return { previous, adapterId }\n    },\n    onSuccess: () => {\n      success('Adapter Started', 'Adapter started successfully')\n    },\n    onError: (err: any, _adapterId, ctx) => {\n      if (ctx?.previous) {\n        queryClient.setQueryData(['adapters-monitoring'], ctx.previous)\n      }\n      error('Start Failed', err.response?.data?.message || 'Failed to start adapter')\n    },\n    onSettled: (_data, _error, adapterId) => {\n      setPendingStartIds(prev => {\n        const next = new Set(prev)\n        next.delete(adapterId)\n        return next\n      })\n      queryClient.invalidateQueries({ queryKey: ['adapters-monitoring'] })\n    },\n  })\n\n  // Stop adapter mutation (optimistic UI)\n  const stopAdapterMutation = useMutation({\n    mutationFn: (adapterId: string) => adapterApi.stopAdapter(adapterId),\n    onMutate: async (adapterId) => {\n      await queryClient.cancelQueries({ queryKey: ['adapters-monitoring'] })\n\n      setPendingStopIds(prev => new Set(prev).add(adapterId))\n\n      const previous = queryClient.getQueryData<any>(['adapters-monitoring'])\n\n      queryClient.setQueryData(['adapters-monitoring'], (old: any) => {\n        if (!old) return old\n        const next = { ...old }\n        const list = Array.isArray(old.data) ? old.data : []\n        next.data = list.map((a: Adapter) =>\n          a.id === adapterId ? { ...a, status: 'STOPPING' as const } : a\n        )\n        return next\n      })\n\n      return { previous, adapterId }\n    },\n    onSuccess: () => {\n      success('Adapter Stopped', 'Adapter stopped successfully')\n    },\n    onError: (err: any, _adapterId, ctx) => {\n      if (ctx?.previous) {\n        queryClient.setQueryData(['adapters-monitoring'], ctx.previous)\n      }\n      error('Stop Failed', err.response?.data?.message || 'Failed to stop adapter')\n    },\n    onSettled: (_data, _error, adapterId) => {\n      setPendingStopIds(prev => {\n        const next = new Set(prev)\n        next.delete(adapterId)\n        return next\n      })\n      queryClient.invalidateQueries({ queryKey: ['adapters-monitoring'] })\n    },\n  })\n\n  const getStatusLED = (status: string, errorCount: number) => {\n    if (errorCount > 0) {\n      return \"bg-red-500\"  // Red for errors\n    } else if (status === 'STARTED') {\n      return \"bg-green-500\"  // Green for started\n    } else {\n      return \"bg-gray-400\"  // Gray for stopped\n    }\n  }\n\n\n\n  const filteredAdapters = adapters.filter((adapter: Adapter) => {\n    const statusMatch = statusFilter === 'all' || adapter.status === statusFilter\n    const typeMatch = typeFilter === 'all' || adapter.adapterType === typeFilter\n    return statusMatch && typeMatch\n  })\n\n\n  if (adaptersLoading) {\n    return (\n      <div className=\"content-spacing\">\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n            <span className=\"text-muted-foreground\">Loading adapter monitoring...</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"content-spacing\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">Adapter Monitoring</h1>\n          <p className=\"text-muted-foreground\">Monitor and control adapter status, performance, and logs</p>\n        </div>\n        <Button\n          variant=\"outline\"\n          onClick={() => queryClient.invalidateQueries({ queryKey: ['adapters-monitoring'] })}\n        >\n          <RefreshCw className=\"h-4 w-4 mr-2\" />\n          Refresh\n        </Button>\n      </div>\n\n      {/* Statistics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-6\">\n            <div className=\"flex items-center space-x-3\">\n              <Activity className=\"h-8 w-8 text-primary\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Total Adapters</p>\n                <p className=\"text-2xl font-bold text-foreground\">{adapters.length}</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-6\">\n            <div className=\"flex items-center space-x-3\">\n              <CheckCircle className=\"h-8 w-8 text-green-500\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Started</p>\n                <p className=\"text-2xl font-bold text-foreground\">\n                  {adapters.filter((a: Adapter) => a.status === 'STARTED').length}\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-6\">\n            <div className=\"flex items-center space-x-3\">\n              <Square className=\"h-8 w-8 text-gray-500\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Stopped</p>\n                <p className=\"text-2xl font-bold text-foreground\">\n                  {adapters.filter((a: Adapter) => a.status === 'STOPPED').length}\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-6\">\n            <div className=\"flex items-center space-x-3\">\n              <XCircle className=\"h-8 w-8 text-red-500\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Errors</p>\n                <p className=\"text-2xl font-bold text-foreground\">\n                  {adapters.filter((a: Adapter) => (a.configuration?.errorCount || 0) > 0).length}\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Filters */}\n      <Card className=\"app-card border mb-6\">\n        <CardHeader>\n          <CardTitle className=\"text-foreground\">Adapter Filters</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"text-sm font-medium text-muted-foreground\">Status</label>\n              <Select value={statusFilter} onValueChange={setStatusFilter}>\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">All Statuses</SelectItem>\n                  <SelectItem value=\"STARTED\">Started</SelectItem>\n                  <SelectItem value=\"STOPPED\">Stopped</SelectItem>\n                  <SelectItem value=\"STARTING\">Starting</SelectItem>\n                  <SelectItem value=\"STOPPING\">Stopping</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div>\n              <label className=\"text-sm font-medium text-muted-foreground\">Type</label>\n              <Select value={typeFilter} onValueChange={setTypeFilter}>\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">All Types</SelectItem>\n                  <SelectItem value=\"FILE\">File</SelectItem>\n                  <SelectItem value=\"SFTP\">SFTP</SelectItem>\n                  <SelectItem value=\"EMAIL\">Email</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div>\n              <label className=\"text-sm font-medium text-muted-foreground\">Search</label>\n              <Input\n                placeholder=\"Search adapters...\"\n                value=\"\"\n                onChange={() => {}}\n              />\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Adapters List */}\n      <div className=\"grid grid-cols-1 gap-6 mb-8\">\n        {filteredAdapters.map((adapter: Adapter) => (\n          <Card key={adapter.id} className=\"app-card border\">\n            <CardHeader>\n              <div className=\"flex items-center space-x-3\">\n                <input type=\"checkbox\" className=\"h-4 w-4 rounded border-border\" />\n                <div \n                  className={cn(\n                    \"h-3 w-3 rounded-full\",\n                    getStatusLED(adapter.status, adapter.configuration?.errorCount || 0)\n                  )}\n                />\n                <div>\n                  <CardTitle className=\"text-lg text-foreground\">{adapter.name}</CardTitle>\n                  <p className=\"text-sm text-muted-foreground\">\n                    {adapter.adapterType}  {adapter.direction}\n                  </p>\n                </div>\n              </div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm\">\n                <div>\n                  <span className=\"text-muted-foreground\">Executions:</span>\n                  <span className=\"ml-2 text-foreground\">{adapter.configuration?.executionCount || 0}</span>\n                </div>\n                <div>\n                  <span className=\"text-muted-foreground\">Last Run:</span>\n                  <span className=\"ml-2 text-foreground\">\n                    {adapter.configuration?.lastExecution ? new Date(adapter.configuration.lastExecution).toLocaleString() : 'Never'}\n                  </span>\n                </div>\n                <div>\n                  <span className=\"text-muted-foreground\">Active:</span>\n                  <span className=\"ml-2 text-foreground\">{adapter.active ? 'Yes' : 'No'}</span>\n                </div>\n              </div>\n\n              {adapter.configuration?.lastError && (\n                <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\n                  <div className=\"flex items-center space-x-2 text-red-700 mb-1\">\n                    <XCircle className=\"h-4 w-4\" />\n                    <span className=\"font-medium\">Last Error</span>\n                  </div>\n                  <p className=\"text-sm text-red-600\">{adapter.configuration.lastError}</p>\n                </div>\n              )}\n\n              {/* Action Buttons - Bottom Left */}\n              <div className=\"mt-4 flex items-center space-x-1\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => startAdapterMutation.mutate(adapter.id)}\n                  disabled={pendingStartIds.has(adapter.id) || adapter.status === 'STARTED' || adapter.status === 'STARTING'}\n                >\n                  <Play className=\"h-4 w-4 mr-1\" />\n                  Start\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => stopAdapterMutation.mutate(adapter.id)}\n                  disabled={pendingStopIds.has(adapter.id) || pendingStartIds.has(adapter.id) || adapter.status === 'STOPPED' || adapter.status === 'STOPPING'}\n                >\n                  <Square className=\"h-4 w-4 mr-1\" />\n                  Stop\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => setSelectedAdapterId(selectedAdapterId === adapter.id ? null : adapter.id)}\n                  className={selectedAdapterId === adapter.id ? 'bg-primary/10 border-primary' : ''}\n                >\n                  <BarChart3 className=\"h-4 w-4 mr-1\" />\n                  Logs\n                </Button>\n              </div>\n\n              {/* Adapter Execution History */}\n              {selectedAdapterId === adapter.id && executionHistory && (\n                <div className=\"mt-4 p-4 bg-secondary/20 border border-secondary rounded-lg\">\n                  <div className=\"flex items-center space-x-2 mb-3\">\n                    <BarChart3 className=\"h-4 w-4 text-primary\" />\n                    <h4 className=\"font-medium text-foreground\">Recent Executions</h4>\n                    <span className=\"text-xs text-muted-foreground\">\n                      ({executionHistory.recentExecutionsShown} of {executionHistory.totalExecutions})\n                    </span>\n                  </div>\n                  \n                  {executionHistory.executions && executionHistory.executions.length > 0 ? (\n                    <div className=\"space-y-2\">\n                      {executionHistory.executions.map((execution: any) => (\n                        <div \n                          key={execution.executionId}\n                          className=\"flex items-center justify-between p-2 bg-background rounded border hover:bg-secondary/30 transition-colors cursor-pointer\"\n                          onClick={() => navigate(`/execution-logs/${execution.executionId}`)}\n                        >\n                          <div className=\"flex items-center space-x-3\">\n                            <span className=\"text-lg\">{execution.statusIcon}</span>\n                            <div className=\"flex flex-col\">\n                              <span className=\"font-mono text-sm text-primary hover:underline\">\n                                {execution.messageId}\n                              </span>\n                              <span className=\"text-xs text-muted-foreground\">\n                                {execution.flowName}  {execution.startedAt ? new Date(execution.startedAt).toLocaleString() : 'Unknown'}\n                              </span>\n                            </div>\n                          </div>\n                          <div className=\"flex items-center space-x-2 text-sm\">\n                            <span className=\"text-muted-foreground\">{execution.statusText}</span>\n                            <span className=\"text-muted-foreground\"></span>\n                            <span className=\"text-muted-foreground\">{execution.duration}</span>\n                            <span className=\"text-muted-foreground\"></span>\n                            <span className=\"text-muted-foreground\">{execution.filesText}</span>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  ) : (\n                    <div className=\"text-center py-4\">\n                      <Clock className=\"h-8 w-8 text-muted-foreground mx-auto mb-2\" />\n                      <p className=\"text-sm text-muted-foreground\">No recent executions found</p>\n                    </div>\n                  )}\n                  \n                  <div className=\"mt-3 flex justify-end\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => navigate(`/flow-monitoring?adapterId=${adapter.id}`)}\n                    >\n                      <Eye className=\"h-4 w-4 mr-1\" />\n                      View All Executions\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n\n    </div>\n  )\n}\n\nexport default AdapterMonitoring","import React, { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { \n  RotateCcw, \n  Activity, \n  CheckCircle, \n  XCircle, \n  Clock,\n  RefreshCw,\n  Eye,\n  AlertTriangle\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { useNotifications } from '@/stores/ui'\nimport { executionApi, flowApi } from '@/lib/api'\nimport { cn } from '@/lib/utils'\n\ninterface FlowExecution {\n  id: string\n  flowId: string\n  flowName: string\n  status: 'PENDING' | 'RUNNING' | 'COMPLETED' | 'FAILED' | 'CANCELLED' | 'TIMEOUT' | 'RETRY_PENDING'\n  startedAt: string\n  completedAt?: string\n  duration?: string\n  filesProcessed?: number\n  bytesProcessed?: string\n  errorMessage?: string\n  correlationId?: string\n  isRetry?: boolean\n  triggerType?: string\n  priority?: number\n}\n\n\n// Removed unused FlowExecutionStepDetailed interface\n\n// Removed unused FlowStepLog interface\n\nconst FlowMonitoring: React.FC = () => {\n  const navigate = useNavigate()\n  const { success, error } = useNotifications()\n  const queryClient = useQueryClient()\n  \n  const [statusFilter, setStatusFilter] = useState<string>('all')\n  const [flowFilter, setFlowFilter] = useState<string>('all')\n\n  // Fetch flow executions\n  const { data: executionsResponse, isLoading: executionsLoading } = useQuery({\n    queryKey: ['flow-executions', statusFilter, flowFilter],\n    queryFn: () => executionApi.getAllExecutions({ \n      status: statusFilter === 'all' ? undefined : statusFilter,\n      flowId: flowFilter === 'all' ? undefined : flowFilter,\n      size: 50 \n    }),\n    refetchInterval: 5000, // Refresh every 5 seconds for real-time monitoring\n  })\n\n  // Fetch all flows for filter\n  const { data: flowsResponse } = useQuery({\n    queryKey: ['flows-for-monitoring'],\n    queryFn: () => flowApi.getAllFlows(),\n  })\n\n  const executions = executionsResponse?.data?.executions || []\n  const flows = flowsResponse?.data || []\n\n  // Restart execution mutation\n  const restartExecutionMutation = useMutation({\n    mutationFn: (executionId: string) => executionApi.retryExecution(executionId),\n    onSuccess: () => {\n      success('Execution Restarted', 'Flow execution has been restarted successfully')\n      queryClient.invalidateQueries({ queryKey: ['flow-executions'] })\n    },\n    onError: (err: any) => {\n      error('Restart Failed', err.response?.data?.message || 'Failed to restart execution')\n    },\n  })\n\n  // Removed unused cancelExecutionMutation\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'COMPLETED':\n        return <CheckCircle className=\"h-4 w-4 text-green-500\" />\n      case 'FAILED':\n        return <XCircle className=\"h-4 w-4 text-red-500\" />\n      case 'RUNNING':\n      case 'RETRY_PENDING':\n        return <Clock className=\"h-4 w-4 text-blue-500 animate-spin\" />\n      case 'CANCELLED':\n        return <XCircle className=\"h-4 w-4 text-gray-500\" />\n      case 'TIMEOUT':\n        return <AlertTriangle className=\"h-4 w-4 text-red-500\" />\n      case 'PENDING':\n        return <Clock className=\"h-4 w-4 text-yellow-500\" />\n      default:\n        return <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />\n    }\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'COMPLETED':\n        return 'bg-green-100 text-green-700'\n      case 'FAILED':\n        return 'bg-red-100 text-red-700'\n      case 'RUNNING':\n      case 'RETRY_PENDING':\n        return 'bg-blue-100 text-blue-700'\n      case 'CANCELLED':\n        return 'bg-gray-100 text-gray-700'\n      case 'TIMEOUT':\n        return 'bg-red-100 text-red-700'\n      case 'PENDING':\n        return 'bg-yellow-100 text-yellow-700'\n      default:\n        return 'bg-yellow-100 text-yellow-700'\n    }\n  }\n\n\n\n  if (executionsLoading) {\n    return (\n      <div className=\"content-spacing\">\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n            <span className=\"text-muted-foreground\">Loading flow monitoring...</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"content-spacing h-screen flex flex-col\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6 flex-shrink-0\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">Flow Monitoring</h1>\n          <p className=\"text-muted-foreground\">Monitor flow executions, logs, and restart failed flows</p>\n        </div>\n        <Button\n          variant=\"outline\"\n          onClick={() => {\n            queryClient.invalidateQueries({ queryKey: ['flow-executions'] })\n          }}\n        >\n          <RefreshCw className=\"h-4 w-4 mr-2\" />\n          Refresh\n        </Button>\n      </div>\n\n      <div className=\"flex-1 flex flex-col space-y-6\">\n        {/* Executions List */}\n        <div className=\"flex-1 flex flex-col space-y-6\">\n          {/* Statistics */}\n          <div className=\"grid grid-cols-2 gap-4 flex-shrink-0\">\n            <Card className=\"app-card border\">\n              <CardContent className=\"flex items-center p-4\">\n                <div className=\"flex items-center space-x-3\">\n                  <Activity className=\"h-6 w-6 text-primary\" />\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Total Executions</p>\n                    <p className=\"text-xl font-bold text-foreground\">{executions.length}</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card className=\"app-card border\">\n              <CardContent className=\"flex items-center p-4\">\n                <div className=\"flex items-center space-x-3\">\n                  <XCircle className=\"h-6 w-6 text-red-500\" />\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Failed</p>\n                    <p className=\"text-xl font-bold text-foreground\">\n                      {executions.filter((e: FlowExecution) => e.status === 'FAILED' || e.status === 'TIMEOUT').length}\n                    </p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Filters */}\n          <Card className=\"app-card border flex-shrink-0\">\n            <CardHeader>\n              <CardTitle className=\"text-sm text-foreground\">Filters</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-1 gap-3\">\n                <Select value={statusFilter} onValueChange={setStatusFilter}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">All Statuses</SelectItem>\n                    <SelectItem value=\"PENDING\">Pending</SelectItem>\n                    <SelectItem value=\"RUNNING\">Running</SelectItem>\n                    <SelectItem value=\"COMPLETED\">Completed</SelectItem>\n                    <SelectItem value=\"FAILED\">Failed</SelectItem>\n                    <SelectItem value=\"CANCELLED\">Cancelled</SelectItem>\n                    <SelectItem value=\"TIMEOUT\">Timeout</SelectItem>\n                    <SelectItem value=\"RETRY_PENDING\">Retry Pending</SelectItem>\n                  </SelectContent>\n                </Select>\n\n                <Select value={flowFilter} onValueChange={setFlowFilter}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">All Flows</SelectItem>\n                    {flows.map((flow: any) => (\n                      <SelectItem key={flow.id} value={flow.id}>\n                        {flow.name}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Executions */}\n          <div className=\"flex-1 space-y-3 overflow-y-auto\">\n            {executions.map((execution: FlowExecution) => (\n              <Card \n                key={execution.id} \n                className=\"app-card border transition-all hover:shadow-md\"\n              >\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <div className=\"flex items-center space-x-2\">\n                      {getStatusIcon(execution.status)}\n                      <span className=\"font-medium text-foreground\">{execution.flowName}</span>\n                    </div>\n                    <span className={cn(\"text-xs px-2 py-1 rounded\", getStatusColor(execution.status))}>\n                      {execution.status}\n                    </span>\n                  </div>\n                  \n                  <div className=\"text-sm text-muted-foreground space-y-1\">\n                    <div className=\"flex items-center space-x-2\">\n                      <span>Started: {new Date(execution.startedAt).toLocaleString()}</span>\n                      {execution.triggerType && (\n                        <span> Trigger: {execution.triggerType}</span>\n                      )}\n                    </div>\n                    <div className=\"flex items-center space-x-4\">\n                      <span>Files: {execution.filesProcessed || 0}</span>\n                      <span>Size: {execution.bytesProcessed || '0 B'}</span>\n                      {execution.duration && (\n                        <span>Duration: {execution.duration}</span>\n                      )}\n                      {execution.isRetry && (\n                        <span className=\"text-orange-600\"> Retry</span>\n                      )}\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-2 mt-2\">\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={(e: React.MouseEvent) => {\n                          e.stopPropagation()\n                          navigate(`/execution-logs/${execution.id}`)\n                        }}\n                      >\n                        <Eye className=\"h-3 w-3 mr-1\" />\n                        View Logs\n                      </Button>\n                      \n                      {execution.status === 'FAILED' && (\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={(e: React.MouseEvent) => {\n                            e.stopPropagation()\n                            restartExecutionMutation.mutate(execution.id)\n                          }}\n                          disabled={restartExecutionMutation.isPending}\n                        >\n                          <RotateCcw className=\"h-3 w-3 mr-1\" />\n                          {restartExecutionMutation.isPending ? 'Retrying...' : 'Retry'}\n                        </Button>\n                      )}\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </div>\n      </div>\n\n    </div>\n  )\n}\n\nexport default FlowMonitoring","import React, { useState } from 'react'\nimport { useParams, useNavigate } from 'react-router-dom'\nimport { useQuery } from '@tanstack/react-query'\nimport { \n  ArrowLeft,\n  Filter,\n  Search,\n  Download,\n  RefreshCw,\n  Clock,\n  CheckCircle,\n  AlertTriangle,\n  XCircle,\n  Info,\n  AlertCircle,\n  Eye\n} from 'lucide-react'\nimport { executionApi } from '@/lib/api'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\n\ninterface ExecutionLog {\n  id: string\n  timestamp: string\n  level: 'INFO' | 'WARN' | 'ERROR' | 'DEBUG'\n  category: string\n  message: string\n  loggerName?: string\n  threadName?: string\n  adapterId?: string\n  adapterName?: string\n  flowId?: string\n  flowName?: string\n  executionId?: string\n  exceptionClass?: string\n  exceptionMessage?: string\n  stackTrace?: string\n  executionTimeMs?: number\n  mdcData?: Record<string, string>\n  requestMethod?: string\n  requestUri?: string\n}\n\nconst ExecutionLogsViewer: React.FC = () => {\n  const { executionId } = useParams<{ executionId: string }>()\n  const navigate = useNavigate()\n  \n  const [logFilter, setLogFilter] = useState('')\n  const [logLevelFilter, setLogLevelFilter] = useState('all')\n  const [autoRefresh, setAutoRefresh] = useState(true)\n\n  // Fetch execution details\n  const { data: executionResponse } = useQuery({\n    queryKey: ['execution-details', executionId],\n    queryFn: () => executionId ? executionApi.getExecutionById(executionId) : null,\n    enabled: !!executionId,\n  })\n\n  // Fetch execution logs\n  const { data: logsResponse, isLoading: logsLoading, refetch } = useQuery({\n    queryKey: ['execution-logs', executionId, logFilter, logLevelFilter],\n    queryFn: () => executionId ? executionApi.getExecutionLogs(executionId, { \n      filter: logFilter || undefined, \n      level: logLevelFilter !== 'all' ? logLevelFilter : undefined \n    }) : null,\n    enabled: !!executionId,\n    refetchInterval: autoRefresh ? 3000 : false, // Auto refresh every 3 seconds\n  })\n\n  const execution = executionResponse?.data\n  const logs = logsResponse?.data || []\n  const filteredLogs = logs.filter((log: ExecutionLog) => ['INFO', 'WARN', 'ERROR'].includes(log.level))\n\n  const getLogLevelIcon = (level: string) => {\n    switch (level) {\n      case 'ERROR':\n        return <XCircle className=\"h-4 w-4 text-red-500\" />\n      case 'WARN':\n        return <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />\n      case 'INFO':\n        return <Info className=\"h-4 w-4 text-blue-500\" />\n      case 'DEBUG':\n        return <Eye className=\"h-4 w-4 text-gray-500\" />\n      default:\n        return <AlertCircle className=\"h-4 w-4 text-gray-500\" />\n    }\n  }\n\n  const getLogLevelColor = (_level: string) => {\n    // All log levels use the same dark slate styling for consistency\n    return 'bg-slate-950/50 text-slate-400 border-slate-800/50'\n  }\n\n  const formatTimestamp = (timestamp: string) => {\n    const date = new Date(timestamp)\n    return date.toLocaleString('en-GB', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n      hour12: false\n    }) + '.' + date.getMilliseconds().toString().padStart(3, '0')\n  }\n\n  const handleExportLogs = () => {\n    const csvContent = filteredLogs.map((log: ExecutionLog) => \n      `\"${formatTimestamp(log.timestamp)}\",\"${log.level}\",\"${log.category}\",\"${log.message.replace(/\"/g, '\"\"')}\"`\n    ).join('\\n')\n    \n    const header = 'Timestamp,Level,Category,Message\\n'\n    const blob = new Blob([header + csvContent], { type: 'text/csv;charset=utf-8;' })\n    const link = document.createElement('a')\n    const url = URL.createObjectURL(blob)\n    link.setAttribute('href', url)\n    link.setAttribute('download', `execution-logs-${executionId}-${new Date().toISOString().split('T')[0]}.csv`)\n    link.style.visibility = 'hidden'\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n  }\n\n  const clearFilters = () => {\n    setLogFilter('')\n    setLogLevelFilter('all')\n  }\n\n  if (!executionId) {\n    return (\n      <div className=\"content-spacing\">\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center justify-center py-12\">\n            <div className=\"text-center\">\n              <AlertTriangle className=\"h-16 w-16 text-yellow-500 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">Invalid Execution</h3>\n              <p className=\"text-muted-foreground\">No execution ID provided</p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"content-spacing\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center space-x-4\">\n          <Button variant=\"outline\" size=\"sm\" onClick={() => navigate('/flow-monitoring')}>\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Back to Flow Monitoring\n          </Button>\n          <div>\n            <h1 className=\"text-3xl font-bold text-foreground\">Execution Logs</h1>\n            <p className=\"text-muted-foreground\">\n              Detailed step-by-step logs for execution: {executionId?.substring(0, 8)}\n            </p>\n          </div>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => setAutoRefresh(!autoRefresh)}\n            className={autoRefresh ? 'bg-primary/10 border-primary' : ''}\n          >\n            <RefreshCw className={`h-4 w-4 mr-2 ${autoRefresh ? 'animate-spin' : ''}`} />\n            Auto Refresh\n          </Button>\n          <Button variant=\"outline\" size=\"sm\" onClick={() => refetch()}>\n            <RefreshCw className=\"h-4 w-4 mr-2\" />\n            Refresh\n          </Button>\n          <Button variant=\"outline\" size=\"sm\" onClick={handleExportLogs} disabled={filteredLogs.length === 0}>\n            <Download className=\"h-4 w-4 mr-2\" />\n            Export CSV\n          </Button>\n        </div>\n      </div>\n\n      {/* Execution Summary */}\n      {execution && (\n        <Card className=\"app-card border mb-6\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center space-x-2\">\n              <Clock className=\"h-5 w-5\" />\n              <span>Execution Summary</span>\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n              <div>\n                <span className=\"text-muted-foreground\">Flow:</span>\n                <span className=\"ml-2 text-foreground font-medium\">{execution.flowName}</span>\n              </div>\n              <div>\n                <span className=\"text-muted-foreground\">Status:</span>\n                <span className=\"ml-2\">\n                  <span className={`inline-flex items-center space-x-1 px-2 py-1 rounded text-xs ${\n                    execution.status === 'COMPLETED' ? 'bg-green-100 text-green-700' :\n                    execution.status === 'FAILED' ? 'bg-red-100 text-red-700' :\n                    execution.status === 'RUNNING' ? 'bg-blue-100 text-blue-700' :\n                    'bg-gray-100 text-gray-700'\n                  }`}>\n                    {execution.status === 'COMPLETED' && <CheckCircle className=\"h-3 w-3\" />}\n                    {execution.status === 'FAILED' && <XCircle className=\"h-3 w-3\" />}\n                    {execution.status === 'RUNNING' && <Clock className=\"h-3 w-3\" />}\n                    <span>{execution.status}</span>\n                  </span>\n                </span>\n              </div>\n              <div>\n                <span className=\"text-muted-foreground\">Duration:</span>\n                <span className=\"ml-2 text-foreground\">{execution.duration || 'In progress'}</span>\n              </div>\n              <div>\n                <span className=\"text-muted-foreground\">Started:</span>\n                <span className=\"ml-2 text-foreground\">{new Date(execution.startedAt).toLocaleString()}</span>\n              </div>\n              <div>\n                <span className=\"text-muted-foreground\">Trigger:</span>\n                <span className=\"ml-2 text-foreground\">{execution.triggerType}</span>\n              </div>\n              <div>\n                <span className=\"text-muted-foreground\">Files Processed:</span>\n                <span className=\"ml-2 text-foreground\">{execution.filesProcessed || 0}</span>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Filters */}\n      <Card className=\"app-card border mb-6\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center space-x-2\">\n            <Filter className=\"h-5 w-5\" />\n            <span>Log Filters</span>\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-medium text-muted-foreground\">Search Message</label>\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search log messages...\"\n                  value={logFilter}\n                  onChange={(e) => setLogFilter(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-medium text-muted-foreground\">Log Level</label>\n              <Select value={logLevelFilter} onValueChange={setLogLevelFilter}>\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">All Levels</SelectItem>\n                  <SelectItem value=\"ERROR\">Error</SelectItem>\n                  <SelectItem value=\"WARN\">Warning</SelectItem>\n                  <SelectItem value=\"INFO\">Information</SelectItem>\n                  <SelectItem value=\"DEBUG\">Debug</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"flex items-end\">\n              <Button variant=\"outline\" onClick={clearFilters} className=\"w-full\">\n                Clear Filters\n              </Button>\n            </div>\n          </div>\n\n          <div className=\"mt-4 text-sm text-muted-foreground\">\n            Showing {filteredLogs.length} log entries (INFO, WARN, ERROR only)\n            {logFilter && <span>  Filtered by: \"{logFilter}\"</span>}\n            {logLevelFilter !== 'all' && <span>  Level: {logLevelFilter}</span>}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Log Entries */}\n      <Card className=\"app-card border\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-2\">\n              <Eye className=\"h-5 w-5\" />\n              <span>Detailed Execution Logs</span>\n            </div>\n            <span className=\"text-sm font-normal text-muted-foreground\">\n              {autoRefresh && 'Auto-refreshing every 3 seconds'}\n            </span>\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          {logsLoading ? (\n            <div className=\"flex items-center justify-center py-12\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-6 h-6 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n                <span className=\"text-muted-foreground\">Loading logs...</span>\n              </div>\n            </div>\n          ) : filteredLogs.length === 0 ? (\n            <div className=\"flex items-center justify-center py-12\">\n              <div className=\"text-center\">\n                <Eye className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n                <h3 className=\"text-lg font-semibold text-foreground mb-2\">No Logs Found</h3>\n                <p className=\"text-muted-foreground\">\n                  {logFilter || logLevelFilter !== 'all' \n                    ? 'No logs match your current filters'\n                    : 'No detailed logs available for this execution'\n                  }\n                </p>\n              </div>\n            </div>\n          ) : (\n            <div className=\"space-y-2 max-h-[600px] overflow-y-auto\">\n              {filteredLogs.map((log: ExecutionLog, index: number) => (\n                <div\n                  key={`${log.id}-${index}`}\n                  className={`flex items-start space-x-3 p-4 rounded-lg border ${getLogLevelColor(log.level)}`}\n                >\n                  <div className=\"flex-shrink-0 mt-0.5\">\n                    {getLogLevelIcon(log.level)}\n                  </div>\n                  \n                  <div className=\"flex-1 min-w-0 space-y-2\">\n                    {/* Timestamp and Level Header */}\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center space-x-3 text-sm\">\n                        <span className=\"font-mono text-foreground\">\n                          {formatTimestamp(log.timestamp)}\n                        </span>\n                        <span className={`px-2 py-1 rounded text-xs font-medium ${getLogLevelColor(log.level)}`}>\n                          {log.level}\n                        </span>\n                        <span className=\"text-muted-foreground\">{log.category}</span>\n                      </div>\n                      {log.executionTimeMs && (\n                        <span className=\"text-xs text-muted-foreground\">\n                          {log.executionTimeMs}ms\n                        </span>\n                      )}\n                    </div>\n\n                    {/* Main Message */}\n                    <div className=\"text-sm text-foreground\">\n                      <p className=\"whitespace-pre-wrap break-words\">{log.message}</p>\n                    </div>\n\n                    {/* Context Information */}\n                    {(log.adapterName || log.flowName || log.loggerName || log.threadName) && (\n                      <div className=\"flex flex-wrap gap-3 text-xs text-muted-foreground\">\n                        {log.adapterName && (\n                          <span>Adapter: {log.adapterName}</span>\n                        )}\n                        {log.flowName && (\n                          <span>Flow: {log.flowName}</span>\n                        )}\n                        {log.loggerName && (\n                          <span>Logger: {log.loggerName.split('.').pop()}</span>\n                        )}\n                        {log.threadName && (\n                          <span>Thread: {log.threadName}</span>\n                        )}\n                      </div>\n                    )}\n\n                    {/* Exception Details */}\n                    {log.exceptionClass && (\n                      <div className=\"mt-2 p-3 bg-red-950/30 border border-red-800/50 rounded\">\n                        <div className=\"flex items-center space-x-2 text-red-400 mb-2\">\n                          <AlertTriangle className=\"h-4 w-4\" />\n                          <span className=\"font-medium\">{log.exceptionClass}</span>\n                        </div>\n                        {log.exceptionMessage && (\n                          <p className=\"text-sm text-red-300 mb-2\">{log.exceptionMessage}</p>\n                        )}\n                        {log.stackTrace && (\n                          <details className=\"text-xs\">\n                            <summary className=\"cursor-pointer text-red-400 hover:text-red-300\">\n                              Show Stack Trace\n                            </summary>\n                            <pre className=\"mt-2 text-red-300 whitespace-pre-wrap overflow-x-auto\">\n                              {log.stackTrace}\n                            </pre>\n                          </details>\n                        )}\n                      </div>\n                    )}\n\n                    {/* MDC Data */}\n                    {log.mdcData && Object.keys(log.mdcData).length > 0 && (\n                      <details className=\"text-xs\">\n                        <summary className=\"cursor-pointer text-muted-foreground hover:text-foreground\">\n                          Context Data ({Object.keys(log.mdcData).length} items)\n                        </summary>\n                        <div className=\"mt-2 p-2 bg-secondary/20 rounded\">\n                          {Object.entries(log.mdcData).map(([key, value]) => (\n                            <div key={key} className=\"flex\">\n                              <span className=\"font-medium text-muted-foreground w-24\">{key}:</span>\n                              <span className=\"text-foreground\">{value}</span>\n                            </div>\n                          ))}\n                        </div>\n                      </details>\n                    )}\n\n                    {/* HTTP Request Details */}\n                    {(log.requestMethod || log.requestUri) && (\n                      <div className=\"text-xs text-muted-foreground\">\n                        {log.requestMethod && log.requestUri && (\n                          <span>{log.requestMethod} {log.requestUri}</span>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\nexport default ExecutionLogsViewer","import React, { useState } from 'react'\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { Plus, Users, Shield, Edit, Trash2, Eye, EyeOff, CheckCircle, XCircle, Crown } from 'lucide-react'\r\nimport { userApi } from '@/lib/api'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { useNotifications } from '@/stores/ui'\r\nimport { usePermissions } from '@/hooks/auth'\r\nimport { useAuthStore } from '@/stores/auth'\r\n\r\ninterface User {\r\n  id: string\r\n  username: string\r\n  email: string\r\n  fullName: string\r\n  role: 'ADMINISTRATOR' | 'VIEWER'\r\n  enabled: boolean\r\n  accountNonExpired: boolean\r\n  accountNonLocked: boolean\r\n  credentialsNonExpired: boolean\r\n  timezone: string\r\n  failedLoginAttempts: number\r\n  createdAt: string\r\n  updatedAt: string\r\n  lastLogin?: string\r\n  displayName: string\r\n  roleDisplayName: string\r\n  administrator: boolean\r\n  integrator: boolean\r\n  viewer: boolean\r\n  authorities: Array<{ authority: string }>\r\n}\r\n\r\ninterface CreateUserRequest {\r\n  username: string\r\n  email: string\r\n  password: string\r\n  role: 'ADMINISTRATOR' | 'VIEWER'\r\n  enabled: boolean\r\n}\r\n\r\nconst UserManagement: React.FC = () => {\r\n  const { isAdmin } = usePermissions()\r\n  const { success, error } = useNotifications()\r\n  const queryClient = useQueryClient()\r\n  const { user: currentUser } = useAuthStore()\r\n  \r\n  const [showCreateForm, setShowCreateForm] = useState(false)\r\n  const [formKey, setFormKey] = useState(0)\r\n  const [_showPasswords, _setShowPasswords] = useState<Record<string, boolean>>({})\r\n  const [_editingUser, setEditingUser] = useState<string | null>(null)\r\n\r\n  // Fetch users\r\n  const { data: usersResponse, isLoading } = useQuery({\r\n    queryKey: ['users'],\r\n    queryFn: userApi.getAllUsers,\r\n  })\r\n\r\n  // Extract the users array from the API response and filter out system users\r\n  const users = (usersResponse || []).filter((user: any) => user.role !== 'INTEGRATOR')\r\n\r\n  // Mutations\r\n  const createUserMutation = useMutation({\r\n    mutationFn: userApi.createUser,\r\n    onSuccess: () => {\r\n      success('User Created', 'User account created successfully')\r\n      queryClient.invalidateQueries({ queryKey: ['users'] })\r\n      setShowCreateForm(false)\r\n    },\r\n    onError: (err: any) => {\r\n      error('Creation Failed', err.response?.data?.message || 'Failed to create user')\r\n    },\r\n  })\r\n\r\n  const updateUserMutation = useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: any }) => userApi.updateUser(id, data),\r\n    onSuccess: () => {\r\n      success('User Updated', 'User account updated successfully')\r\n      queryClient.invalidateQueries({ queryKey: ['users'] })\r\n      setEditingUser(null)\r\n    },\r\n    onError: (err: any) => {\r\n      error('Update Failed', err.response?.data?.message || 'Failed to update user')\r\n    },\r\n  })\r\n\r\n  const deleteUserMutation = useMutation({\r\n    mutationFn: userApi.deleteUser,\r\n    onSuccess: () => {\r\n      success('User Deleted', 'User account deleted successfully')\r\n      queryClient.invalidateQueries({ queryKey: ['users'] })\r\n    },\r\n    onError: (err: any) => {\r\n      error('Deletion Failed', err.response?.data?.message || 'Failed to delete user')\r\n    },\r\n  })\r\n\r\n\r\n  const getRoleIcon = (role: string) => {\r\n    return role === 'ADMINISTRATOR' ? <Crown className=\"h-4 w-4 text-warning\" /> : <Shield className=\"h-4 w-4 text-info\" />\r\n  }\r\n\r\n  const getRoleBadgeStyle = (role: string) => {\r\n    return role === 'ADMINISTRATOR' \r\n      ? 'bg-warning/20 text-warning' \r\n      : 'bg-info/20 text-info'\r\n  }\r\n\r\n  const canModifyUser = () => {\r\n    // Only admins can modify users\r\n    return isAdmin\r\n  }\r\n\r\n  if (!isAdmin) {\r\n    return (\r\n      <div className=\"content-spacing\">\r\n        <Card className=\"app-card border\">\r\n          <CardContent className=\"flex items-center justify-center py-12\">\r\n            <div className=\"text-center\">\r\n              <Shield className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">Access Denied</h3>\r\n              <p className=\"text-muted-foreground\">Administrator privileges required to manage users</p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"content-spacing\">\r\n        <div className=\"flex items-center justify-center h-64\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\r\n            <span className=\"text-muted-foreground\">Loading users...</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"content-spacing\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">User Management</h1>\r\n          <p className=\"text-muted-foreground\">Manage system users, roles, and permissions</p>\r\n        </div>\r\n        <Button \r\n          className=\"btn-primary\"\r\n          onClick={() => {\r\n            setFormKey(prev => prev + 1)\r\n            setShowCreateForm(true)\r\n          }}\r\n        >\r\n          <Plus className=\"h-4 w-4 mr-2\" />\r\n          Create User\r\n        </Button>\r\n      </div>\r\n\r\n      {/* User Statistics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n        <Card className=\"app-card border\">\r\n          <CardContent className=\"flex items-center p-6\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <Users className=\"h-8 w-8 text-primary\" />\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Total Users</p>\r\n                <p className=\"text-2xl font-bold text-foreground\">{users.length || 0}</p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"app-card border\">\r\n          <CardContent className=\"flex items-center p-6\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <Crown className=\"h-8 w-8 text-warning\" />\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Administrators</p>\r\n                <p className=\"text-2xl font-bold text-foreground\">\r\n                  {users.filter((u: User) => u.role === 'ADMINISTRATOR').length || 0}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"app-card border\">\r\n          <CardContent className=\"flex items-center p-6\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <CheckCircle className=\"h-8 w-8 text-success\" />\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Active Users</p>\r\n                <p className=\"text-2xl font-bold text-foreground\">\r\n                  {users.filter((u: User) => u.enabled).length || 0}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Create User Form */}\r\n      {showCreateForm && (\r\n        <Card className=\"app-card border mb-6\">\r\n          <CardHeader>\r\n            <CardTitle className=\"text-foreground flex items-center space-x-2\">\r\n              <Users className=\"h-5 w-5\" />\r\n              <span>Create New User</span>\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <CreateUserForm\r\n              key={formKey}\r\n              onSubmit={(data) => createUserMutation.mutate(data)}\r\n              onCancel={() => setShowCreateForm(false)}\r\n              isLoading={createUserMutation.isPending}\r\n            />\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Users List */}\r\n      {users && users.length > 0 ? (\r\n        <div className=\"grid grid-cols-1 gap-6\">\r\n          {users.map((user: User) => (\r\n            <Card key={user.id} className=\"app-card border\">\r\n              <CardHeader>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div className=\"relative\">\r\n                      {getRoleIcon(user.role)}\r\n                      {currentUser?.id === user.id && (\r\n                        <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-primary rounded-full border-2 border-background\" />\r\n                      )}\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <CardTitle className=\"text-lg text-foreground\">{user.username}</CardTitle>\r\n                        {currentUser?.id === user.id && (\r\n                          <span className=\"text-xs px-2 py-1 rounded bg-primary/20 text-primary\">You</span>\r\n                        )}\r\n                      </div>\r\n                      <p className=\"text-sm text-muted-foreground\">{user.email}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <span className={`text-xs px-2 py-1 rounded ${getRoleBadgeStyle(user.role)}`}>\r\n                      {user.role}\r\n                    </span>\r\n                    <div className={`w-3 h-3 rounded-full ${\r\n                      user.enabled ? 'bg-success animate-glow' : 'bg-muted-foreground'\r\n                    }`} />\r\n                    <span className={`text-xs px-2 py-1 rounded ${\r\n                      user.enabled ? 'bg-success/20 text-success' : 'bg-muted/20 text-muted-foreground'\r\n                    }`}>\r\n                      {user.enabled ? 'Active' : 'Inactive'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-4\">\r\n                  {/* User Details */}\r\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\r\n                    <div>\r\n                      <span className=\"text-muted-foreground\">Created:</span>\r\n                      <span className=\"ml-2 text-foreground\">{new Date(user.createdAt).toLocaleDateString()}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-muted-foreground\">Last Login:</span>\r\n                      <span className=\"ml-2 text-foreground\">\r\n                        {user.lastLogin ? new Date(user.lastLogin).toLocaleDateString() : 'Never'}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-muted-foreground\">Failed Attempts:</span>\r\n                      <span className=\"ml-2 text-foreground\">{user.failedLoginAttempts}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-muted-foreground\">Status:</span>\r\n                      <span className={`ml-2 ${user.enabled ? 'text-success' : 'text-muted-foreground'}`}>\r\n                        {user.enabled ? 'Active' : 'Inactive'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* User ID */}\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-foreground\">User ID:</label>\r\n                    <div className=\"mt-1 font-mono text-xs bg-secondary p-2 rounded\">\r\n                      {user.id}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Action Buttons */}\r\n                  <div className=\"flex items-center space-x-2 pt-4 border-t border-border\">\r\n                    {canModifyUser() && (\r\n                      <>\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          onClick={() => setEditingUser(user.id)}\r\n                        >\r\n                          <Edit className=\"h-4 w-4 mr-2\" />\r\n                          Edit User\r\n                        </Button>\r\n                        \r\n                        {currentUser?.id !== user.id && (\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            onClick={() => \r\n                              updateUserMutation.mutate({ \r\n                                id: user.id, \r\n                                data: { ...user, enabled: !user.enabled }\r\n                              })\r\n                            }\r\n                            disabled={updateUserMutation.isPending}\r\n                          >\r\n                            {user.enabled ? (\r\n                              <>\r\n                                <XCircle className=\"h-4 w-4 mr-2\" />\r\n                                Deactivate\r\n                              </>\r\n                            ) : (\r\n                              <>\r\n                                <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n                                Activate\r\n                              </>\r\n                            )}\r\n                          </Button>\r\n                        )}\r\n                        \r\n                        {currentUser?.id !== user.id && (\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            className=\"text-destructive\"\r\n                            onClick={() => deleteUserMutation.mutate(user.id)}\r\n                            disabled={deleteUserMutation.isPending}\r\n                          >\r\n                            <Trash2 className=\"h-4 w-4 mr-2\" />\r\n                            Delete\r\n                          </Button>\r\n                        )}\r\n                        \r\n                        {currentUser?.id === user.id && (\r\n                          <div className=\"text-sm text-muted-foreground\">\r\n                            You cannot deactivate or delete your own account\r\n                          </div>\r\n                        )}\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <Card className=\"app-card border\">\r\n          <CardContent className=\"flex items-center justify-center py-12\">\r\n            <div className=\"text-center\">\r\n              <Users className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">No Users Found</h3>\r\n              <p className=\"text-muted-foreground mb-6\">Create your first user account to get started</p>\r\n              <Button \r\n                className=\"btn-primary\"\r\n                onClick={() => {\r\n                  setFormKey(prev => prev + 1)\r\n                  setShowCreateForm(true)\r\n                }}\r\n              >\r\n                <Plus className=\"h-4 w-4 mr-2\" />\r\n                Create First User\r\n              </Button>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst CreateUserForm: React.FC<{\r\n  onSubmit: (data: CreateUserRequest) => void\r\n  onCancel: () => void\r\n  isLoading: boolean\r\n}> = ({ onSubmit, onCancel, isLoading }) => {\r\n  const [formData, setFormData] = useState<CreateUserRequest>({\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n    role: 'VIEWER',\r\n    enabled: true,\r\n  })\r\n\r\n  const [showPassword, setShowPassword] = useState(false)\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    onSubmit(formData)\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-4\" autoComplete=\"off\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"username\">Username</Label>\r\n          <Input\r\n            id=\"username\"\r\n            value={formData.username}\r\n            onChange={(e) => setFormData(prev => ({ ...prev, username: e.target.value }))}\r\n            placeholder=\"e.g., john.doe\"\r\n            className=\"bg-input border-border text-foreground\"\r\n            autoComplete=\"off\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"email\">Email</Label>\r\n          <Input\r\n            id=\"email\"\r\n            type=\"email\"\r\n            value={formData.email}\r\n            onChange={(e) => setFormData(prev => ({ ...prev, email: e.target.value }))}\r\n            placeholder=\"e.g., john.doe@company.com\"\r\n            className=\"bg-input border-border text-foreground\"\r\n            autoComplete=\"off\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"password\">Password</Label>\r\n          <div className=\"relative\">\r\n            <Input\r\n              id=\"password\"\r\n              type={showPassword ? 'text' : 'password'}\r\n              value={formData.password}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, password: e.target.value }))}\r\n              placeholder=\"Enter password\"\r\n              className=\"bg-input border-border text-foreground pr-10\"\r\n              autoComplete=\"new-password\"\r\n              required\r\n              minLength={8}\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowPassword(!showPassword)}\r\n              className=\"absolute right-3 top-3 text-muted-foreground\"\r\n            >\r\n              {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"role\">Role</Label>\r\n          <Select\r\n            value={formData.role}\r\n            onValueChange={(value) => setFormData(prev => ({ ...prev, role: value as 'ADMINISTRATOR' | 'VIEWER' }))}\r\n          >\r\n            <SelectTrigger className=\"w-full\">\r\n              <SelectValue placeholder=\"Select role\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"VIEWER\">Viewer (Read-only access)</SelectItem>\r\n              <SelectItem value=\"ADMINISTRATOR\">Administrator (Full access)</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex items-center space-x-2\">\r\n        <input\r\n          type=\"checkbox\"\r\n          id=\"enabled\"\r\n          checked={formData.enabled}\r\n          onChange={(e) => setFormData(prev => ({ ...prev, enabled: e.target.checked }))}\r\n          className=\"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary\"\r\n        />\r\n        <Label htmlFor=\"enabled\">Enable user account</Label>\r\n      </div>\r\n\r\n      <div className=\"flex items-center space-x-4 pt-4\">\r\n        <Button type=\"submit\" className=\"btn-primary\" disabled={isLoading}>\r\n          {isLoading ? 'Creating...' : 'Create User'}\r\n        </Button>\r\n        <Button type=\"button\" variant=\"outline\" onClick={onCancel}>\r\n          Cancel\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default UserManagement","import React, { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { Plus, Key, Download, Trash2, Eye, EyeOff, CheckCircle, XCircle, Copy, ShieldCheck, ShieldX } from 'lucide-react'\nimport { sshKeyApi } from '@/lib/api'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\nimport { useNotifications } from '@/stores/ui'\nimport { usePermissions } from '@/hooks/auth'\n\ninterface SshKey {\n  id: string\n  name: string\n  description: string\n  keyType: 'RSA' | 'DSA'\n  keySize: number\n  fingerprint: string\n  publicKey: string\n  enabled: boolean\n  createdAt: string\n  expiresAt: string\n}\n\nconst SshKeyManagement: React.FC = () => {\n  const navigate = useNavigate()\n  const { isAdmin } = usePermissions()\n  const { success, error } = useNotifications()\n  const queryClient = useQueryClient()\n  \n  const [showPrivateKeys, setShowPrivateKeys] = useState<Record<string, boolean>>({})\n\n  // Fetch SSH keys\n  const { data: sshKeys, isLoading } = useQuery<SshKey[]>({\n    queryKey: ['ssh-keys'],\n    queryFn: sshKeyApi.getAllKeys,\n  })\n\n  // Mutations\n  const toggleKeyStatusMutation = useMutation({\n    mutationFn: ({ id, enabled }: { id: string; enabled: boolean }) => \n      sshKeyApi.toggleKeyStatus(id, enabled),\n    onSuccess: () => {\n      success('Status Updated', 'SSH key status changed successfully')\n      queryClient.invalidateQueries({ queryKey: ['ssh-keys'] })\n    },\n    onError: (err: any) => {\n      error('Status Change Failed', err.response?.data?.message || 'Failed to change key status')\n    },\n  })\n\n  const deleteKeyMutation = useMutation({\n    mutationFn: sshKeyApi.deleteKey,\n    onSuccess: () => {\n      success('Key Deleted', 'SSH key deleted successfully')\n      queryClient.invalidateQueries({ queryKey: ['ssh-keys'] })\n    },\n    onError: (err: any) => {\n      error('Deletion Failed', err.response?.data?.message || 'Failed to delete SSH key')\n    },\n  })\n\n  const handleDownloadPrivateKey = async (keyId: string, keyName: string) => {\n    try {\n      const blob = await sshKeyApi.downloadPrivateKey(keyId)\n      const url = window.URL.createObjectURL(blob)\n      const link = document.createElement('a')\n      link.href = url\n      link.download = `${keyName}_private_key`\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n      window.URL.revokeObjectURL(url)\n      success('Download Complete', 'Private key downloaded successfully')\n    } catch (err: any) {\n      error('Download Failed', err.response?.data?.message || 'Failed to download private key')\n    }\n  }\n\n  const handleDownloadPublicKey = async (keyId: string, keyName: string) => {\n    try {\n      const blob = await sshKeyApi.downloadPublicKey(keyId)\n      const url = window.URL.createObjectURL(blob)\n      const link = document.createElement('a')\n      link.href = url\n      link.download = `${keyName}_public_key.pub`\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n      window.URL.revokeObjectURL(url)\n      success('Download Complete', 'Public key downloaded successfully')\n    } catch (err: any) {\n      error('Download Failed', err.response?.data?.message || 'Failed to download public key')\n    }\n  }\n\n  const handleCopyPublicKey = (publicKey: string) => {\n    navigator.clipboard.writeText(publicKey).then(() => {\n      success('Copied', 'Public key copied to clipboard')\n    }).catch(() => {\n      error('Copy Failed', 'Failed to copy public key to clipboard')\n    })\n  }\n\n  const togglePrivateKeyVisibility = (keyId: string) => {\n    setShowPrivateKeys(prev => ({\n      ...prev,\n      [keyId]: !prev[keyId]\n    }))\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"content-spacing\">\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n            <span className=\"text-muted-foreground\">Loading SSH keys...</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"content-spacing\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">SSH Key Management</h1>\n          <p className=\"text-muted-foreground\">Generate and manage SSH keys for secure SFTP connections</p>\n        </div>\n        <div className=\"flex items-center space-x-4\">\n          {sshKeys && sshKeys.length > 0 && (\n            <div className=\"text-sm text-muted-foreground\">\n              {sshKeys.filter(k => k.enabled).length} of {sshKeys.length} keys active\n            </div>\n          )}\n          {isAdmin() && (\n            <Button \n              className=\"btn-primary\"\n              onClick={() => navigate('/ssh-keys/create')}\n            >\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Generate New Key\n            </Button>\n          )}\n        </div>\n      </div>\n\n      {/* SSH Keys List */}\n      {sshKeys && sshKeys.length > 0 ? (\n        <div className=\"space-y-4\">\n          {/* Summary Cards */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n            <Card className=\"app-card border\">\n              <CardContent className=\"p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Total Keys</p>\n                    <p className=\"text-2xl font-bold text-foreground\">{sshKeys.length}</p>\n                  </div>\n                  <Key className=\"h-8 w-8 text-primary\" />\n                </div>\n              </CardContent>\n            </Card>\n            <Card className=\"app-card border\">\n              <CardContent className=\"p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Valid & Active</p>\n                    <p className=\"text-2xl font-bold text-green-500\">{sshKeys.filter(k => k.enabled).length}</p>\n                  </div>\n                  <ShieldCheck className=\"h-8 w-8 text-green-500\" />\n                </div>\n              </CardContent>\n            </Card>\n            <Card className=\"app-card border\">\n              <CardContent className=\"p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Disabled</p>\n                    <p className=\"text-2xl font-bold text-muted-foreground\">{sshKeys.filter(k => !k.enabled).length}</p>\n                  </div>\n                  <ShieldX className=\"h-8 w-8 text-muted-foreground\" />\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Keys Grid */}\n          <div className=\"grid grid-cols-1 gap-4\">\n            {sshKeys.map((key) => (\n              <Card key={key.id} className={`app-card border ${key.enabled ? 'border-l-4 border-l-green-500' : 'border-l-4 border-l-muted-foreground'}`}>\n                <CardHeader className=\"pb-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className={`p-2 rounded-lg ${key.enabled ? 'bg-green-500/10' : 'bg-muted/20'}`}>\n                        <Key className={`h-5 w-5 ${key.enabled ? 'text-green-500' : 'text-muted-foreground'}`} />\n                      </div>\n                      <div>\n                        <CardTitle className=\"text-lg text-foreground\">{key.name}</CardTitle>\n                        <p className=\"text-sm text-muted-foreground\">{key.description}</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-3\">\n                      {/* Validity Badge */}\n                      <div className={`flex items-center space-x-2 px-3 py-1.5 rounded-full ${\n                        key.enabled \n                          ? 'bg-green-500/10 border border-green-500/20' \n                          : 'bg-muted/20 border border-border'\n                      }`}>\n                        {key.enabled ? (\n                          <>\n                            <ShieldCheck className=\"h-4 w-4 text-green-500\" />\n                            <span className=\"text-sm font-medium text-green-500\">Valid</span>\n                          </>\n                        ) : (\n                          <>\n                            <ShieldX className=\"h-4 w-4 text-muted-foreground\" />\n                            <span className=\"text-sm font-medium text-muted-foreground\">Disabled</span>\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    {/* Key Details */}\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                      <div>\n                        <span className=\"text-muted-foreground\">Type:</span>\n                        <span className=\"ml-2 text-foreground font-medium\">{key.keyType} {key.keySize}</span>\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Created:</span>\n                        <span className=\"ml-2 text-foreground\">{new Date(key.createdAt).toLocaleDateString()}</span>\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Expires:</span>\n                        <span className={`ml-2 font-medium ${\n                          new Date(key.expiresAt) < new Date() ? 'text-red-500' : \n                          new Date(key.expiresAt) < new Date(Date.now() + 30 * 24 * 60 * 60 * 1000) ? 'text-yellow-500' : \n                          'text-foreground'\n                        }`}>\n                          {new Date(key.expiresAt).toLocaleDateString()}\n                        </span>\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Status:</span>\n                        <span className={`ml-2 font-medium ${\n                          new Date(key.expiresAt) < new Date() ? 'text-red-500' : 'text-green-500'\n                        }`}>\n                          {new Date(key.expiresAt) < new Date() ? 'Expired' : 'Valid'}\n                        </span>\n                      </div>\n                    </div>\n\n                    {/* Fingerprint */}\n                    <div>\n                      <label className=\"text-sm font-medium text-foreground\">Fingerprint:</label>\n                      <div className=\"mt-1 font-mono text-xs bg-secondary p-2 rounded\">\n                        {key.fingerprint}\n                      </div>\n                    </div>\n\n                    {/* Public Key */}\n                    <div>\n                      <div className=\"flex items-center justify-between\">\n                        <label className=\"text-sm font-medium text-foreground\">Public Key:</label>\n                        <div className=\"flex items-center space-x-2\">\n                          <Button \n                            variant=\"outline\" \n                            size=\"sm\"\n                            onClick={() => handleCopyPublicKey(key.publicKey)}\n                          >\n                            <Copy className=\"h-4 w-4\" />\n                          </Button>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => togglePrivateKeyVisibility(key.id)}\n                          >\n                            {showPrivateKeys[key.id] ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                          </Button>\n                        </div>\n                      </div>\n                      <div className=\"mt-1 font-mono text-xs bg-secondary p-2 rounded break-all\">\n                        {showPrivateKeys[key.id] ? key.publicKey : `${key.publicKey.substring(0, 50)}...`}\n                      </div>\n                    </div>\n\n                    {/* Action Buttons */}\n                    <div className=\"flex items-center flex-wrap gap-2 pt-4 border-t border-border\">\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => handleDownloadPublicKey(key.id, key.name)}\n                      >\n                        <Download className=\"h-4 w-4 mr-2\" />\n                        Download Public\n                      </Button>\n                      \n                      {isAdmin() && (\n                        <>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => handleDownloadPrivateKey(key.id, key.name)}\n                          >\n                            <Download className=\"h-4 w-4 mr-2\" />\n                            Download Private\n                          </Button>\n                          \n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => \n                              toggleKeyStatusMutation.mutate({ id: key.id, enabled: !key.enabled })\n                            }\n                            disabled={toggleKeyStatusMutation.isPending}\n                            className={key.enabled ? '' : 'text-green-500 hover:text-green-600'}\n                          >\n                            {key.enabled ? (\n                              <>\n                                <XCircle className=\"h-4 w-4 mr-2\" />\n                                Disable\n                              </>\n                            ) : (\n                              <>\n                                <CheckCircle className=\"h-4 w-4 mr-2\" />\n                                Enable\n                              </>\n                            )}\n                          </Button>\n                          \n                          \n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            className=\"text-destructive hover:text-destructive\"\n                            onClick={() => deleteKeyMutation.mutate(key.id)}\n                            disabled={deleteKeyMutation.isPending}\n                          >\n                            <Trash2 className=\"h-4 w-4 mr-2\" />\n                            Delete\n                          </Button>\n                        </>\n                      )}\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </div>\n      ) : (\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center justify-center py-12\">\n            <div className=\"text-center\">\n              <Key className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">No SSH Keys</h3>\n              <p className=\"text-muted-foreground mb-6\">Generate your first SSH key pair for secure SFTP connections</p>\n              {isAdmin() && (\n                <Button \n                  className=\"btn-primary\"\n                  onClick={() => navigate('/ssh-keys/create')}\n                >\n                  <Plus className=\"h-4 w-4 mr-2\" />\n                  Generate SSH Key\n                </Button>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  )\n}\n\nexport default SshKeyManagement","\"use client\"\n\nimport * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }","import React, { useState, useEffect } from 'react'\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { Layers, Save, RefreshCw, AlertCircle, CheckCircle2 } from 'lucide-react'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Alert, AlertDescription } from '@/components/ui/alert'\r\nimport { environmentApi } from '@/lib/api'\r\nimport { useNotifications } from '@/stores/ui'\r\n\r\ninterface EnvironmentInfo {\r\n  type: string\r\n  displayName: string\r\n  description: string\r\n  enforceRestrictions: boolean\r\n  restrictionMessage: string\r\n  permissions: {\r\n    canCreateFlows: boolean\r\n    canCreateAdapters: boolean\r\n    canModifyAdapterConfig: boolean\r\n    canImportExportFlows: boolean\r\n    canDeployFlows: boolean\r\n  }\r\n}\r\n\r\ninterface EnvironmentType {\r\n  name: string\r\n  displayName: string\r\n  description: string\r\n  textColorClass: string\r\n  backgroundColorClass: string\r\n}\r\n\r\nconst getEnvironmentStyle = (type: string) => {\r\n  switch (type) {\r\n    case 'DEVELOPMENT':\r\n      return { \r\n        color: 'text-info', \r\n        bgColor: 'bg-blue-100 border-blue-200', \r\n        badgeClass: 'bg-blue-600 text-white border-blue-600',\r\n        label: 'Development' \r\n      }\r\n    case 'QUALITY_ASSURANCE':\r\n      return { \r\n        color: 'text-warning', \r\n        bgColor: 'bg-yellow-100 border-yellow-200', \r\n        badgeClass: 'bg-purple-600 text-white border-purple-600',\r\n        label: 'Quality Assurance' \r\n      }\r\n    case 'PRODUCTION':\r\n      return { \r\n        color: 'text-destructive', \r\n        bgColor: 'bg-red-100 border-red-200', \r\n        badgeClass: 'bg-red-600 text-white border-red-600',\r\n        label: 'Production' \r\n      }\r\n    default:\r\n      return { \r\n        color: 'text-muted-foreground', \r\n        bgColor: 'bg-gray-100 border-gray-200', \r\n        badgeClass: 'bg-gray-600 text-white border-gray-600',\r\n        label: 'Unknown' \r\n      }\r\n  }\r\n}\r\n\r\nconst EnvironmentConfiguration: React.FC = () => {\r\n  const { success, error } = useNotifications()\r\n  const queryClient = useQueryClient()\r\n\r\n  const [selectedType, setSelectedType] = useState<string>('')\r\n  const [enforceRestrictions, setEnforceRestrictions] = useState<boolean>(true)\r\n  const [restrictionMessage, setRestrictionMessage] = useState<string>('')\r\n  const [hasChanges, setHasChanges] = useState<boolean>(false)\r\n\r\n  // Fetch current environment configuration\r\n  const { data: envResponse, isLoading: envLoading } = useQuery({\r\n    queryKey: ['environment-config'],\r\n    queryFn: () => {\r\n      console.log(' Fetching current environment...')\r\n      return environmentApi.getCurrentEnvironment()\r\n    },\r\n  })\r\n\r\n  // Fetch available environment types\r\n  const { data: typesResponse, isLoading: typesLoading } = useQuery({\r\n    queryKey: ['environment-types'],\r\n    queryFn: () => {\r\n      console.log(' Fetching environment types...')\r\n      return environmentApi.getEnvironmentTypes()\r\n    },\r\n  })\r\n\r\n  const environmentInfo: EnvironmentInfo | undefined = envResponse?.data\r\n  const environmentTypes: EnvironmentType[] = typesResponse?.data || []\r\n\r\n  // Update environment mutation\r\n  const updateEnvironmentMutation = useMutation({\r\n    mutationFn: environmentApi.updateEnvironment,\r\n    onSuccess: () => {\r\n      success('Environment Updated', 'Environment configuration updated successfully')\r\n      queryClient.invalidateQueries({ queryKey: ['environment-config'] })\r\n      setHasChanges(false)\r\n    },\r\n    onError: (err: any) => {\r\n      error('Update Failed', err.response?.data?.message || 'Failed to update environment configuration')\r\n    },\r\n  })\r\n\r\n  // Initialize form values when data loads\r\n  useEffect(() => {\r\n    if (environmentInfo) {\r\n      setSelectedType(environmentInfo.type)\r\n      setEnforceRestrictions(environmentInfo.enforceRestrictions)\r\n      setRestrictionMessage(environmentInfo.restrictionMessage)\r\n      setHasChanges(false)\r\n    }\r\n  }, [environmentInfo])\r\n\r\n  // Check for changes\r\n  useEffect(() => {\r\n    if (!environmentInfo) return\r\n    \r\n    const hasTypeChange = selectedType !== environmentInfo.type\r\n    const hasEnforceChange = enforceRestrictions !== environmentInfo.enforceRestrictions\r\n    const hasMessageChange = restrictionMessage !== environmentInfo.restrictionMessage\r\n    \r\n    setHasChanges(hasTypeChange || hasEnforceChange || hasMessageChange)\r\n  }, [selectedType, enforceRestrictions, restrictionMessage, environmentInfo])\r\n\r\n  const handleSave = () => {\r\n    updateEnvironmentMutation.mutate({\r\n      type: selectedType,\r\n      enforceRestrictions,\r\n      restrictionMessage,\r\n    })\r\n  }\r\n\r\n  const handleReset = () => {\r\n    if (environmentInfo) {\r\n      setSelectedType(environmentInfo.type)\r\n      setEnforceRestrictions(environmentInfo.enforceRestrictions)\r\n      setRestrictionMessage(environmentInfo.restrictionMessage)\r\n      setHasChanges(false)\r\n    }\r\n  }\r\n\r\n  if (envLoading || typesLoading) {\r\n    return (\r\n      <Card>\r\n        <CardHeader>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Layers className=\"h-5 w-5\" />\r\n            <CardTitle>Environment Configuration</CardTitle>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"flex items-center justify-center p-8\">\r\n            <RefreshCw className=\"h-8 w-8 animate-spin text-muted-foreground\" />\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  const currentEnvStyle = getEnvironmentStyle(selectedType)\r\n  const restrictedFeatures = !enforceRestrictions ? [] : selectedType === 'DEVELOPMENT' ? [] : ['Flow Creation', 'Adapter Creation']\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <div className=\"flex justify-between items-start\">\r\n          <div>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <Layers className=\"h-5 w-5\" />\r\n              Environment Configuration\r\n            </CardTitle>\r\n            <CardDescription>\r\n              Configure the system environment type and restrictions\r\n            </CardDescription>\r\n          </div>\r\n          <Badge className={currentEnvStyle.badgeClass}>\r\n            {currentEnvStyle.label}\r\n          </Badge>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-6\">\r\n        {/* Environment Type Selection */}\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"environment-type\">Environment Type</Label>\r\n          <Select value={selectedType} onValueChange={setSelectedType}>\r\n            <SelectTrigger id=\"environment-type\">\r\n              <SelectValue placeholder=\"Select environment type\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              {environmentTypes.map((type) => (\r\n                <SelectItem key={type.name} value={type.name}>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div \r\n                      className={`w-3 h-3 rounded-full ${getEnvironmentStyle(type.name).bgColor}`}\r\n                    />\r\n                    {type.displayName}\r\n                  </div>\r\n                </SelectItem>\r\n              ))}\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n\r\n        {/* Enforce Restrictions Toggle */}\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"space-y-0.5\">\r\n            <Label htmlFor=\"enforce-restrictions\">Enforce Environment Restrictions</Label>\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              Enable or disable environment-based feature restrictions\r\n            </p>\r\n          </div>\r\n          <Switch\r\n            id=\"enforce-restrictions\"\r\n            checked={enforceRestrictions}\r\n            onCheckedChange={setEnforceRestrictions}\r\n          />\r\n        </div>\r\n\r\n        {/* Custom Restriction Message */}\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"restriction-message\">Custom Restriction Message</Label>\r\n          <Input\r\n            id=\"restriction-message\"\r\n            value={restrictionMessage}\r\n            onChange={(e) => setRestrictionMessage(e.target.value)}\r\n            placeholder=\"This action is not allowed in %s environment\"\r\n          />\r\n          <p className=\"text-sm text-muted-foreground\">\r\n            Use %s as placeholder for environment name\r\n          </p>\r\n        </div>\r\n\r\n        {/* Environment Restrictions Info */}\r\n        {enforceRestrictions && restrictedFeatures.length > 0 && (\r\n          <Alert className={currentEnvStyle.bgColor}>\r\n            <AlertCircle className=\"h-4 w-4\" />\r\n            <AlertDescription>\r\n              <strong>Environment Restrictions Active:</strong> The following features are restricted in {currentEnvStyle.label} environment: {restrictedFeatures.join(', ')}\r\n            </AlertDescription>\r\n          </Alert>\r\n        )}\r\n\r\n        {/* Permissions Preview */}\r\n        {environmentInfo && (\r\n          <div className=\"space-y-3\">\r\n            <Label>Current Environment Permissions</Label>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              {Object.entries(environmentInfo.permissions).map(([permission, allowed]) => (\r\n                <div key={permission} className=\"flex items-center gap-2 text-sm\">\r\n                  {allowed ? (\r\n                    <CheckCircle2 className=\"h-4 w-4 text-green-600\" />\r\n                  ) : (\r\n                    <AlertCircle className=\"h-4 w-4 text-red-600\" />\r\n                  )}\r\n                  <span className={allowed ? 'text-green-700' : 'text-red-700'}>\r\n                    {permission.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}\r\n                  </span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Save Actions */}\r\n        {hasChanges && (\r\n          <div className=\"flex items-center justify-between pt-4 border-t\">\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              You have unsaved changes\r\n            </p>\r\n            <div className=\"flex gap-2\">\r\n              <Button variant=\"outline\" onClick={handleReset} disabled={updateEnvironmentMutation.isPending}>\r\n                Cancel\r\n              </Button>\r\n              <Button onClick={handleSave} disabled={updateEnvironmentMutation.isPending}>\r\n                {updateEnvironmentMutation.isPending ? (\r\n                  <>\r\n                    <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                    Saving...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Save className=\"h-4 w-4 mr-2\" />\r\n                    Save Changes\r\n                  </>\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default EnvironmentConfiguration","import React, { useState } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { Settings, Search, Edit, Save, X, RotateCcw, AlertCircle, Database, FileText, Shield, Monitor, Activity } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { useNotifications } from '@/stores/ui'\nimport { configApi } from '@/lib/api'\nimport { cn } from '@/lib/utils'\nimport EnvironmentConfiguration from '@/components/admin/EnvironmentConfiguration'\n\ninterface SystemConfiguration {\n  id: string\n  configKey: string\n  configValue: string\n  configType: 'STRING' | 'INTEGER' | 'BOOLEAN' | 'JSON'\n  description: string\n  category: 'DASHBOARD' | 'SECURITY' | 'NOTIFICATIONS' | 'FILE_PROCESSING' | 'SYSTEM' | 'LOGGING' | 'ADAPTER' | 'GENERAL'\n  encrypted: boolean\n  readonly: boolean\n  defaultValue: string\n  createdAt: string\n  updatedAt: string\n}\n\ninterface ConfigUpdateRequest {\n  configValue: string\n}\n\nconst categoryIcons: Record<string, React.ComponentType<{ className?: string }>> = {\n  DASHBOARD: Monitor,\n  SECURITY: Shield,\n  NOTIFICATIONS: AlertCircle,\n  FILE_PROCESSING: FileText,\n  SYSTEM: Settings,\n  LOGGING: Activity,\n  ADAPTER: Database,\n  GENERAL: Settings,\n}\n\nconst categoryColors: Record<string, string> = {\n  DASHBOARD: 'text-blue-500',\n  SECURITY: 'text-red-500',\n  NOTIFICATIONS: 'text-yellow-500',\n  FILE_PROCESSING: 'text-green-500',\n  SYSTEM: 'text-purple-500',\n  LOGGING: 'text-orange-500',\n  ADAPTER: 'text-cyan-500',\n  GENERAL: 'text-gray-500',\n}\n\nconst SystemConfigurations: React.FC = () => {\n  const { success, error } = useNotifications()\n  const queryClient = useQueryClient()\n  \n  const [searchTerm, setSearchTerm] = useState('')\n  const [selectedCategory, setSelectedCategory] = useState<string>('ALL')\n  const [editingConfig, setEditingConfig] = useState<string | null>(null)\n  const [editValues, setEditValues] = useState<Record<string, string>>({})\n\n  // Fetch configurations\n  const { data: configurationsResponse, isLoading } = useQuery({\n    queryKey: ['system-configurations'],\n    queryFn: configApi.getAllConfigurations,\n  })\n\n  const configurations: SystemConfiguration[] = configurationsResponse?.configurations || []\n\n  // Update configuration mutation\n  const updateConfigMutation = useMutation({\n    mutationFn: ({ id, data }: { id: string; data: ConfigUpdateRequest }) => \n      configApi.updateConfigurationValue(id, data.configValue),\n    onSuccess: () => {\n      success('Configuration Updated', 'System configuration updated successfully')\n      queryClient.invalidateQueries({ queryKey: ['system-configurations'] })\n      setEditingConfig(null)\n      setEditValues({})\n    },\n    onError: (err: any) => {\n      error('Update Failed', err.response?.data?.message || 'Failed to update configuration')\n    },\n  })\n\n  const handleEdit = (config: SystemConfiguration) => {\n    if (config.readonly) return\n    setEditingConfig(config.id)\n    setEditValues({ [config.id]: config.configValue })\n  }\n\n  const handleSave = (configId: string) => {\n    const newValue = editValues[configId]\n    if (newValue !== undefined) {\n      updateConfigMutation.mutate({\n        id: configId,\n        data: { configValue: newValue }\n      })\n    }\n  }\n\n  const handleCancel = () => {\n    setEditingConfig(null)\n    setEditValues({})\n  }\n\n  const handleReset = (config: SystemConfiguration) => {\n    if (config.defaultValue && !config.readonly) {\n      updateConfigMutation.mutate({\n        id: config.id,\n        data: { configValue: config.defaultValue }\n      })\n    }\n  }\n\n  const filteredConfigurations = configurations.filter((config: SystemConfiguration) => {\n    const matchesSearch = config.configKey.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         config.description?.toLowerCase().includes(searchTerm.toLowerCase())\n    const matchesCategory = selectedCategory === 'ALL' || config.category === selectedCategory\n    return matchesSearch && matchesCategory\n  })\n\n  const categories: string[] = ['ALL', ...Array.from(new Set(configurations.map((c) => c.category)))]\n\n  const getConfigsByCategory = (category: string) => {\n    return filteredConfigurations.filter((config: SystemConfiguration) => \n      category === 'ALL' || config.category === category\n    )\n  }\n\n  const renderConfigValue = (config: SystemConfiguration) => {\n    const isEditing = editingConfig === config.id\n    const currentValue = isEditing ? editValues[config.id] : config.configValue\n\n    if (config.encrypted && !isEditing) {\n      return <span className=\"text-muted-foreground\"></span>\n    }\n\n    if (isEditing) {\n      if (config.configType === 'BOOLEAN') {\n        return (\n          <Select\n            value={currentValue}\n            onValueChange={(value) => setEditValues(prev => ({ ...prev, [config.id]: value }))}\n          >\n            <SelectTrigger className=\"w-full\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"true\">True</SelectItem>\n              <SelectItem value=\"false\">False</SelectItem>\n            </SelectContent>\n          </Select>\n        )\n      } else if (config.configKey === 'system.timezone.default') {\n        return (\n          <Select\n            value={currentValue}\n            onValueChange={(value) => setEditValues(prev => ({ ...prev, [config.id]: value }))}\n          >\n            <SelectTrigger className=\"w-full\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"UTC-12:00\">UTC-12:00 (Baker Island)</SelectItem>\n              <SelectItem value=\"UTC-11:00\">UTC-11:00 (Samoa)</SelectItem>\n              <SelectItem value=\"UTC-10:00\">UTC-10:00 (Hawaii)</SelectItem>\n              <SelectItem value=\"UTC-09:00\">UTC-09:00 (Alaska)</SelectItem>\n              <SelectItem value=\"UTC-08:00\">UTC-08:00 (Pacific Time)</SelectItem>\n              <SelectItem value=\"UTC-07:00\">UTC-07:00 (Mountain Time)</SelectItem>\n              <SelectItem value=\"UTC-06:00\">UTC-06:00 (Central Time)</SelectItem>\n              <SelectItem value=\"UTC-05:00\">UTC-05:00 (Eastern Time)</SelectItem>\n              <SelectItem value=\"UTC-04:00\">UTC-04:00 (Atlantic Time)</SelectItem>\n              <SelectItem value=\"UTC-03:30\">UTC-03:30 (Newfoundland)</SelectItem>\n              <SelectItem value=\"UTC-03:00\">UTC-03:00 (Brazil, Argentina)</SelectItem>\n              <SelectItem value=\"UTC-02:00\">UTC-02:00 (Mid-Atlantic)</SelectItem>\n              <SelectItem value=\"UTC-01:00\">UTC-01:00 (Azores)</SelectItem>\n              <SelectItem value=\"UTC+00:00\">UTC+00:00 (Greenwich Mean Time)</SelectItem>\n              <SelectItem value=\"UTC+01:00\">UTC+01:00 (Central European Time)</SelectItem>\n              <SelectItem value=\"UTC+02:00\">UTC+02:00 (South Africa, Eastern Europe)</SelectItem>\n              <SelectItem value=\"UTC+03:00\">UTC+03:00 (Russia, East Africa)</SelectItem>\n              <SelectItem value=\"UTC+03:30\">UTC+03:30 (Iran)</SelectItem>\n              <SelectItem value=\"UTC+04:00\">UTC+04:00 (Gulf States, Russia)</SelectItem>\n              <SelectItem value=\"UTC+04:30\">UTC+04:30 (Afghanistan)</SelectItem>\n              <SelectItem value=\"UTC+05:00\">UTC+05:00 (Pakistan, Kazakhstan)</SelectItem>\n              <SelectItem value=\"UTC+05:30\">UTC+05:30 (India, Sri Lanka)</SelectItem>\n              <SelectItem value=\"UTC+05:45\">UTC+05:45 (Nepal)</SelectItem>\n              <SelectItem value=\"UTC+06:00\">UTC+06:00 (Bangladesh, Central Asia)</SelectItem>\n              <SelectItem value=\"UTC+06:30\">UTC+06:30 (Myanmar)</SelectItem>\n              <SelectItem value=\"UTC+07:00\">UTC+07:00 (Thailand, Vietnam)</SelectItem>\n              <SelectItem value=\"UTC+08:00\">UTC+08:00 (China, Singapore)</SelectItem>\n              <SelectItem value=\"UTC+08:30\">UTC+08:30 (North Korea)</SelectItem>\n              <SelectItem value=\"UTC+09:00\">UTC+09:00 (Japan, Korea)</SelectItem>\n              <SelectItem value=\"UTC+09:30\">UTC+09:30 (Australia Central)</SelectItem>\n              <SelectItem value=\"UTC+10:00\">UTC+10:00 (Australia Eastern)</SelectItem>\n              <SelectItem value=\"UTC+10:30\">UTC+10:30 (Lord Howe Island)</SelectItem>\n              <SelectItem value=\"UTC+11:00\">UTC+11:00 (Solomon Islands)</SelectItem>\n              <SelectItem value=\"UTC+12:00\">UTC+12:00 (New Zealand)</SelectItem>\n              <SelectItem value=\"UTC+12:45\">UTC+12:45 (Chatham Islands)</SelectItem>\n              <SelectItem value=\"UTC+13:00\">UTC+13:00 (Samoa, Tonga)</SelectItem>\n              <SelectItem value=\"UTC+14:00\">UTC+14:00 (Line Islands)</SelectItem>\n            </SelectContent>\n          </Select>\n        )\n      } else {\n        return (\n          <Input\n            type={config.configType === 'INTEGER' ? 'number' : 'text'}\n            value={currentValue}\n            onChange={(e) => setEditValues(prev => ({ ...prev, [config.id]: e.target.value }))}\n            className=\"font-mono text-sm\"\n            onKeyDown={(e) => {\n              if (e.key === 'Enter') {\n                handleSave(config.id)\n              } else if (e.key === 'Escape') {\n                handleCancel()\n              }\n            }}\n          />\n        )\n      }\n    }\n\n    // Display value based on type\n    if (config.configType === 'BOOLEAN') {\n      return (\n        <div className=\"flex items-center space-x-2\">\n          <div className={cn(\n            \"w-3 h-3 rounded-full\",\n            currentValue === 'true' ? 'bg-success' : 'bg-muted-foreground'\n          )} />\n          <span className={cn(\n            \"font-mono text-sm\",\n            currentValue === 'true' ? 'text-success' : 'text-muted-foreground'\n          )}>\n            {currentValue === 'true' ? 'Enabled' : 'Disabled'}\n          </span>\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"font-mono text-sm bg-secondary/50 px-2 py-1 rounded\">\n        {currentValue}\n      </div>\n    )\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n          <span className=\"text-muted-foreground\">Loading configurations...</span>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-foreground mb-2\">System Configuration</h2>\n          <p className=\"text-muted-foreground\">Manage runtime system settings and parameters</p>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <Database className=\"h-5 w-5 text-primary\" />\n          <span className=\"text-sm text-muted-foreground\">{configurations.length} configurations</span>\n        </div>\n      </div>\n\n      {/* Environment Configuration */}\n      <EnvironmentConfiguration />\n\n      {/* Filters */}\n      <Card className=\"app-card border\">\n        <CardContent className=\"p-4\">\n          <div className=\"flex flex-col sm:flex-row gap-4\">\n            <div className=\"flex-1\">\n              <div className=\"relative\">\n                <Search className=\"h-4 w-4 absolute left-3 top-3 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search configurations...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n            <div className=\"w-full sm:w-48\">\n              <Select value={selectedCategory} onValueChange={setSelectedCategory}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"All Categories\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {categories.map((category) => (\n                    <SelectItem key={category} value={category}>\n                      {category === 'ALL' ? 'All Categories' : category.replace('_', ' ')}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Configurations by Category */}\n      {categories.filter((cat) => cat !== 'ALL').map((category) => {\n        const categoryConfigs = getConfigsByCategory(category)\n        if (categoryConfigs.length === 0) return null\n\n        const Icon = categoryIcons[category] || Settings\n        const iconColor = categoryColors[category] || 'text-muted-foreground'\n\n        return (\n          <Card key={category} className=\"app-card border\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-2\">\n                <Icon className={cn(\"h-5 w-5\", iconColor)} />\n                <span>{category.replace('_', ' ')}</span>\n                <span className=\"text-sm font-normal text-muted-foreground\">\n                  ({categoryConfigs.length} settings)\n                </span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              {categoryConfigs.map((config: SystemConfiguration) => (\n                <div key={config.id} className=\"border border-border rounded-lg p-4 space-y-3\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1 space-y-1\">\n                      <div className=\"flex items-center space-x-2\">\n                        <Label className=\"font-mono text-sm text-primary\">{config.configKey}</Label>\n                        {config.readonly && (\n                          <span className=\"text-xs px-2 py-1 bg-muted/50 text-muted-foreground rounded\">\n                            Read Only\n                          </span>\n                        )}\n                        {config.encrypted && (\n                          <span className=\"text-xs px-2 py-1 bg-warning/20 text-warning rounded\">\n                            Encrypted\n                          </span>\n                        )}\n                      </div>\n                      <p className=\"text-sm text-muted-foreground\">{config.description}</p>\n                      <div className=\"flex items-center space-x-2 text-xs text-muted-foreground\">\n                        <span>Type: {config.configType}</span>\n                        {config.defaultValue && (\n                          <span> Default: {config.defaultValue}</span>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-2 ml-4\">\n                      {editingConfig === config.id ? (\n                        <>\n                          <Button\n                            size=\"sm\"\n                            onClick={() => handleSave(config.id)}\n                            disabled={updateConfigMutation.isPending}\n                          >\n                            <Save className=\"h-4 w-4\" />\n                          </Button>\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            onClick={handleCancel}\n                          >\n                            <X className=\"h-4 w-4\" />\n                          </Button>\n                        </>\n                      ) : (\n                        <>\n                          {!config.readonly && (\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => handleEdit(config)}\n                            >\n                              <Edit className=\"h-4 w-4\" />\n                            </Button>\n                          )}\n                          {config.defaultValue && config.configValue !== config.defaultValue && !config.readonly && (\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => handleReset(config)}\n                              title=\"Reset to default\"\n                            >\n                              <RotateCcw className=\"h-4 w-4\" />\n                            </Button>\n                          )}\n                        </>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div className=\"space-y-2\">\n                    <Label className=\"text-sm\">Current Value:</Label>\n                    {renderConfigValue(config)}\n                  </div>\n\n                  <div className=\"text-xs text-muted-foreground\">\n                    Last updated: {new Date(config.updatedAt).toLocaleString()}\n                  </div>\n                </div>\n              ))}\n            </CardContent>\n          </Card>\n        )\n      })}\n\n      {filteredConfigurations.length === 0 && (\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center justify-center py-12\">\n            <div className=\"text-center\">\n              <Settings className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">No Configurations Found</h3>\n              <p className=\"text-muted-foreground\">\n                No system configurations match your search criteria\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  )\n}\n\nexport default SystemConfigurations","import React, { useState } from 'react'\nimport { useQuery } from '@tanstack/react-query'\nimport { FileText, Search, Download, RefreshCw, Info, AlertTriangle, XCircle, Bug, Activity, Database, Shield, Settings, Clock } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Card, CardContent } from '@/components/ui/card'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { systemLogsApi } from '@/lib/api'\nimport { cn } from '@/lib/utils'\n\ninterface SystemLog {\n  id: string\n  timestamp: string\n  logLevel: 'TRACE' | 'DEBUG' | 'INFO' | 'WARN' | 'ERROR'\n  logCategory: 'SYSTEM' | 'ADAPTER_EXECUTION' | 'FLOW_EXECUTION' | 'AUTHENTICATION' | 'DATABASE' | 'SCHEDULER' | 'API'\n  loggerName: string\n  threadName: string\n  message: string\n  formattedMessage: string\n  correlationId?: string\n  userId?: string\n  adapterId?: string\n  adapterName?: string\n  flowId?: string\n  flowName?: string\n  executionId?: string\n  requestMethod?: string\n  requestUri?: string\n  remoteAddress?: string\n  applicationName: string\n  environment: string\n  exceptionClass?: string\n  exceptionMessage?: string\n  stackTrace?: string\n}\n\n// LogsResponse interface removed as it's not used\n\nconst logLevelIcons: Record<string, React.ComponentType<{ className?: string }>> = {\n  TRACE: Bug,\n  DEBUG: Info,\n  INFO: Info,\n  WARN: AlertTriangle,\n  ERROR: XCircle,\n}\n\nconst logLevelColors: Record<string, string> = {\n  TRACE: 'text-slate-500',\n  DEBUG: 'text-blue-500',\n  INFO: 'text-green-500',\n  WARN: 'text-yellow-500',\n  ERROR: 'text-red-500',\n}\n\nconst categoryIcons: Record<string, React.ComponentType<{ className?: string }>> = {\n  SYSTEM: Settings,\n  ADAPTER_EXECUTION: Activity,\n  FLOW_EXECUTION: Activity,\n  AUTHENTICATION: Shield,\n  DATABASE: Database,\n  SCHEDULER: Clock,\n  API: Activity,\n}\n\nconst categoryColors: Record<string, string> = {\n  SYSTEM: 'text-purple-500',\n  ADAPTER_EXECUTION: 'text-blue-500',\n  FLOW_EXECUTION: 'text-green-500',\n  AUTHENTICATION: 'text-red-500',\n  DATABASE: 'text-yellow-500',\n  SCHEDULER: 'text-orange-500',\n  API: 'text-indigo-500',\n}\n\nconst SystemLogs: React.FC = () => {\n  const [searchTerm, setSearchTerm] = useState('')\n  const [selectedCategory, setSelectedCategory] = useState<string>('ALL')\n  const [selectedLevel, setSelectedLevel] = useState<string>('ALL')\n  const [currentPage, setCurrentPage] = useState(0)\n  const [pageSize, setPageSize] = useState(50)\n  const [expandedLog, setExpandedLog] = useState<string | null>(null)\n\n  // Fetch logs with filters\n  const { data: logsResponse, isLoading, refetch } = useQuery({\n    queryKey: ['system-logs', selectedCategory, selectedLevel, searchTerm, currentPage, pageSize],\n    queryFn: () => systemLogsApi.getRecentLogs({\n      level: selectedLevel !== 'ALL' ? selectedLevel : undefined,\n      search: searchTerm || undefined,\n      limit: pageSize\n    }),\n    refetchInterval: 30000, // Auto-refresh every 30 seconds\n  })\n\n  const logs = logsResponse || []\n  const totalPages = Math.ceil(logs.length / pageSize) || 0\n  const totalElements = logs.length || 0\n\n  const handleExport = async () => {\n    try {\n      // This would be implemented to export logs as CSV/JSON\n      console.log('Export functionality would be implemented here')\n    } catch (err) {\n      console.error('Export failed:', err)\n    }\n  }\n\n  const formatTimestamp = (timestamp: string) => {\n    return new Date(timestamp).toLocaleString('en-US', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n      hour12: false\n    })\n  }\n\n  const renderLogLevel = (level: string) => {\n    const Icon = logLevelIcons[level] || Info\n    const color = logLevelColors[level] || 'text-muted-foreground'\n\n    return (\n      <div className=\"flex items-center space-x-1\">\n        <Icon className={cn(\"h-4 w-4\", color)} />\n        <span className={cn(\"text-xs font-medium px-2 py-1 rounded\", \n          level === 'ERROR' && 'bg-red-100 text-red-700',\n          level === 'WARN' && 'bg-yellow-100 text-yellow-700',\n          level === 'INFO' && 'bg-green-100 text-green-700',\n          level === 'DEBUG' && 'bg-blue-100 text-blue-700',\n          level === 'TRACE' && 'bg-slate-100 text-slate-700'\n        )}>\n          {level}\n        </span>\n      </div>\n    )\n  }\n\n  const renderLogCategory = (category: string) => {\n    const Icon = categoryIcons[category] || Settings\n    const color = categoryColors[category] || 'text-muted-foreground'\n\n    return (\n      <div className=\"flex items-center space-x-1\">\n        <Icon className={cn(\"h-4 w-4\", color)} />\n        <span className=\"text-xs px-2 py-1 bg-secondary rounded\">\n          {category.replace('_', ' ')}\n        </span>\n      </div>\n    )\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n          <span className=\"text-muted-foreground\">Loading logs...</span>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-foreground mb-2\">System Logs</h2>\n          <p className=\"text-muted-foreground\">Monitor application logs with category filtering</p>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <Button variant=\"outline\" onClick={() => refetch()}>\n            <RefreshCw className=\"h-4 w-4 mr-2\" />\n            Refresh\n          </Button>\n          <Button variant=\"outline\" onClick={handleExport}>\n            <Download className=\"h-4 w-4 mr-2\" />\n            Export\n          </Button>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <Card className=\"app-card border\">\n        <CardContent className=\"p-4\">\n          <div className=\"flex flex-col lg:flex-row gap-4\">\n            <div className=\"flex-1\">\n              <div className=\"relative\">\n                <Search className=\"h-4 w-4 absolute left-3 top-3 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search logs by message, logger name, or correlation ID...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n            <div className=\"w-full lg:w-48\">\n              <Select value={selectedCategory} onValueChange={setSelectedCategory}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"All Categories\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"ALL\">All Categories</SelectItem>\n                  <SelectItem value=\"ADAPTER_EXECUTION\">Adapter Execution</SelectItem>\n                  <SelectItem value=\"FLOW_EXECUTION\">Flow Execution</SelectItem>\n                  <SelectItem value=\"AUTHENTICATION\">Authentication</SelectItem>\n                  <SelectItem value=\"DATABASE\">Database</SelectItem>\n                  <SelectItem value=\"API\">API</SelectItem>\n                  <SelectItem value=\"SCHEDULER\">Scheduler</SelectItem>\n                  <SelectItem value=\"SYSTEM\">System</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"w-full lg:w-36\">\n              <Select value={selectedLevel} onValueChange={setSelectedLevel}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"All Levels\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"ALL\">All Levels</SelectItem>\n                  <SelectItem value=\"ERROR\">Error</SelectItem>\n                  <SelectItem value=\"WARN\">Warning</SelectItem>\n                  <SelectItem value=\"INFO\">Info</SelectItem>\n                  <SelectItem value=\"DEBUG\">Debug</SelectItem>\n                  <SelectItem value=\"TRACE\">Trace</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"w-full lg:w-24\">\n              <Select value={pageSize.toString()} onValueChange={(value) => setPageSize(parseInt(value))}>\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"25\">25</SelectItem>\n                  <SelectItem value=\"50\">50</SelectItem>\n                  <SelectItem value=\"100\">100</SelectItem>\n                  <SelectItem value=\"200\">200</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Stats */}\n      <div className=\"flex items-center justify-between text-sm text-muted-foreground\">\n        <span>\n          Showing {logs.length} of {totalElements} logs\n          {selectedCategory !== 'ALL' && ` in ${selectedCategory} category`}\n          {selectedLevel !== 'ALL' && ` at ${selectedLevel} level`}\n        </span>\n        <span>Page {currentPage + 1} of {totalPages}</span>\n      </div>\n\n      {/* Logs List */}\n      {logs.length > 0 ? (\n        <div className=\"space-y-2\">\n          {logs.map((log: SystemLog) => (\n            <Card key={log.id} className=\"app-card border hover:border-primary/30 transition-all duration-200\">\n              <CardContent className=\"p-4\">\n                <div className=\"flex items-start space-x-4\">\n                  <div className=\"flex flex-col items-center space-y-2 min-w-0\">\n                    <div className=\"text-xs font-mono text-muted-foreground\">\n                      {formatTimestamp(log.timestamp)}\n                    </div>\n                    {renderLogLevel(log.logLevel)}\n                  </div>\n                  \n                  <div className=\"flex-1 min-w-0 space-y-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center space-x-2 min-w-0\">\n                        {renderLogCategory(log.logCategory)}\n                        <span className=\"text-xs font-mono text-muted-foreground truncate\">\n                          {log.loggerName}\n                        </span>\n                        {log.threadName && (\n                          <span className=\"text-xs px-2 py-1 bg-muted rounded\">\n                            {log.threadName}\n                          </span>\n                        )}\n                      </div>\n                      {(log.stackTrace || log.correlationId || log.adapterId || log.flowId) && (\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => setExpandedLog(expandedLog === log.id ? null : log.id)}\n                        >\n                          {expandedLog === log.id ? 'Less' : 'More'}\n                        </Button>\n                      )}\n                    </div>\n\n                    <div className=\"text-sm text-foreground\">\n                      {log.formattedMessage || log.message}\n                    </div>\n\n                    {/* Context Information */}\n                    <div className=\"flex flex-wrap gap-2 text-xs\">\n                      {log.correlationId && (\n                        <span className=\"px-2 py-1 bg-primary/10 text-primary rounded\">\n                          ID: {log.correlationId}\n                        </span>\n                      )}\n                      {log.adapterName && (\n                        <span className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded\">\n                          Adapter: {log.adapterName}\n                        </span>\n                      )}\n                      {log.flowName && (\n                        <span className=\"px-2 py-1 bg-green-100 text-green-700 rounded\">\n                          Flow: {log.flowName}\n                        </span>\n                      )}\n                      {log.requestMethod && log.requestUri && (\n                        <span className=\"px-2 py-1 bg-indigo-100 text-indigo-700 rounded\">\n                          {log.requestMethod} {log.requestUri}\n                        </span>\n                      )}\n                      {log.remoteAddress && (\n                        <span className=\"px-2 py-1 bg-orange-100 text-orange-700 rounded\">\n                          IP: {log.remoteAddress}\n                        </span>\n                      )}\n                    </div>\n\n                    {/* Expanded Details */}\n                    {expandedLog === log.id && (\n                      <div className=\"mt-4 space-y-3 border-t border-border pt-3\">\n                        {log.exceptionClass && (\n                          <div>\n                            <span className=\"text-sm font-medium text-foreground\">Exception:</span>\n                            <div className=\"mt-1 font-mono text-sm bg-red-50 text-red-800 p-2 rounded\">\n                              {log.exceptionClass}: {log.exceptionMessage}\n                            </div>\n                          </div>\n                        )}\n                        {log.stackTrace && (\n                          <div>\n                            <span className=\"text-sm font-medium text-foreground\">Stack Trace:</span>\n                            <pre className=\"mt-1 font-mono text-xs bg-secondary/50 p-3 rounded overflow-x-auto max-h-48\">\n                              {log.stackTrace}\n                            </pre>\n                          </div>\n                        )}\n                        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                          <div>\n                            <span className=\"text-muted-foreground\">Application:</span>\n                            <span className=\"ml-2 text-foreground\">{log.applicationName}</span>\n                          </div>\n                          <div>\n                            <span className=\"text-muted-foreground\">Environment:</span>\n                            <span className=\"ml-2 text-foreground\">{log.environment}</span>\n                          </div>\n                          {log.userId && (\n                            <div>\n                              <span className=\"text-muted-foreground\">User ID:</span>\n                              <span className=\"ml-2 font-mono text-foreground\">{log.userId}</span>\n                            </div>\n                          )}\n                          {log.executionId && (\n                            <div>\n                              <span className=\"text-muted-foreground\">Execution ID:</span>\n                              <span className=\"ml-2 font-mono text-foreground\">{log.executionId}</span>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      ) : (\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center justify-center py-12\">\n            <div className=\"text-center\">\n              <FileText className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">No Logs Found</h3>\n              <p className=\"text-muted-foreground\">\n                No system logs match your current filter criteria\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Pagination */}\n      {totalPages > 1 && (\n        <div className=\"flex items-center justify-between\">\n          <Button\n            variant=\"outline\"\n            onClick={() => setCurrentPage(Math.max(0, currentPage - 1))}\n            disabled={currentPage === 0}\n          >\n            Previous\n          </Button>\n          <span className=\"text-sm text-muted-foreground\">\n            Page {currentPage + 1} of {totalPages}\n          </span>\n          <Button\n            variant=\"outline\"\n            onClick={() => setCurrentPage(Math.min(totalPages - 1, currentPage + 1))}\n            disabled={currentPage === totalPages - 1}\n          >\n            Next\n          </Button>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default SystemLogs","import React, { useState } from 'react'\nimport { useQuery } from '@tanstack/react-query'\nimport { FileText, Search, Download, RefreshCw, Info, AlertTriangle, XCircle, Bug, Activity, Database, Shield, Settings, User } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Card, CardContent } from '@/components/ui/card'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { transactionLogsApi } from '@/lib/api'\nimport { cn } from '@/lib/utils'\n\ninterface TransactionLog {\n  id: string\n  timestamp: string\n  level: 'TRACE' | 'DEBUG' | 'INFO' | 'WARN' | 'ERROR' | 'FATAL'\n  category: string\n  component: string\n  source: string\n  message: string\n  username?: string\n  ipAddress?: string\n  userAgent?: string\n  sessionId?: string\n  correlationId?: string\n  adapterId?: string\n  executionId?: string\n  fileName?: string\n  details?: string\n  executionTimeMs?: number\n  createdAt: string\n}\n\nconst logLevelIcons: Record<string, React.ComponentType<{ className?: string }>> = {\n  TRACE: Bug,\n  DEBUG: Info,\n  INFO: Info,\n  WARN: AlertTriangle,\n  ERROR: XCircle,\n  FATAL: XCircle,\n}\n\nconst logLevelColors: Record<string, string> = {\n  TRACE: 'text-slate-500',\n  DEBUG: 'text-blue-500',\n  INFO: 'text-green-500',\n  WARN: 'text-yellow-500',\n  ERROR: 'text-red-500',\n  FATAL: 'text-red-700',\n}\n\nconst categoryIcons: Record<string, React.ComponentType<{ className?: string }>> = {\n  AUTHENTICATION: Shield,\n  FILE_PROCESSING: FileText,\n  ADAPTER_EXECUTION: Activity,\n  FLOW_EXECUTION: Activity,\n  SYSTEM_OPERATION: Settings,\n  USER_MANAGEMENT: User,\n  CONFIGURATION_CHANGE: Settings,\n  SECURITY: Shield,\n}\n\nconst categoryColors: Record<string, string> = {\n  AUTHENTICATION: 'text-red-500',\n  FILE_PROCESSING: 'text-blue-500',\n  ADAPTER_EXECUTION: 'text-green-500',\n  FLOW_EXECUTION: 'text-purple-500',\n  SYSTEM_OPERATION: 'text-orange-500',\n  USER_MANAGEMENT: 'text-indigo-500',\n  CONFIGURATION_CHANGE: 'text-yellow-600',\n  SECURITY: 'text-red-600',\n}\n\nconst TransactionalLogs: React.FC = () => {\n  const [searchTerm, setSearchTerm] = useState('')\n  const [selectedCategory, setSelectedCategory] = useState<string>('ALL')\n  const [selectedLevel, setSelectedLevel] = useState<string>('ALL')\n  const [pageSize, setPageSize] = useState(50)\n  const [expandedLog, setExpandedLog] = useState<string | null>(null)\n\n  // Fetch transaction logs with filters\n  const { data: logsResponse, isLoading, refetch } = useQuery({\n    queryKey: ['transaction-logs', selectedCategory, selectedLevel, searchTerm, pageSize],\n    queryFn: () => transactionLogsApi.getRecentLogs({\n      level: selectedLevel !== 'ALL' ? selectedLevel : undefined,\n      category: selectedCategory !== 'ALL' ? selectedCategory : undefined,\n      search: searchTerm || undefined,\n      limit: pageSize\n    }),\n    refetchInterval: 30000, // Auto-refresh every 30 seconds\n  })\n\n  const logs: TransactionLog[] = logsResponse || []\n\n  const handleExport = async () => {\n    try {\n      await transactionLogsApi.exportLogs({\n        level: selectedLevel !== 'ALL' ? selectedLevel : undefined,\n        category: selectedCategory !== 'ALL' ? selectedCategory : undefined,\n        limit: 1000,\n        format: 'csv'\n      })\n    } catch (err) {\n      console.error('Export failed:', err)\n    }\n  }\n\n  const formatTimestamp = (timestamp: string) => {\n    return new Date(timestamp).toLocaleString('en-US', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n      hour12: false\n    })\n  }\n\n  const renderLogLevel = (level: string) => {\n    const Icon = logLevelIcons[level] || Info\n    const color = logLevelColors[level] || 'text-muted-foreground'\n\n    return (\n      <div className=\"flex items-center space-x-1\">\n        <Icon className={cn(\"h-4 w-4\", color)} />\n        <span className={cn(\"text-xs font-medium px-2 py-1 rounded\", \n          level === 'ERROR' && 'bg-red-100 text-red-700',\n          level === 'FATAL' && 'bg-red-100 text-red-700',\n          level === 'WARN' && 'bg-yellow-100 text-yellow-700',\n          level === 'INFO' && 'bg-green-100 text-green-700',\n          level === 'DEBUG' && 'bg-blue-100 text-blue-700',\n          level === 'TRACE' && 'bg-slate-100 text-slate-700'\n        )}>\n          {level}\n        </span>\n      </div>\n    )\n  }\n\n  const renderLogCategory = (category: string) => {\n    const Icon = categoryIcons[category] || Settings\n    const color = categoryColors[category] || 'text-muted-foreground'\n\n    return (\n      <div className=\"flex items-center space-x-1\">\n        <Icon className={cn(\"h-4 w-4\", color)} />\n        <span className=\"text-xs px-2 py-1 bg-secondary rounded\">\n          {category.replace(/_/g, ' ')}\n        </span>\n      </div>\n    )\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n          <span className=\"text-muted-foreground\">Loading transaction logs...</span>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-xl font-bold text-foreground mb-2\">Transactional Logs</h3>\n          <p className=\"text-muted-foreground\">Monitor business transactions, authentication, and file processing events</p>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <Button variant=\"outline\" onClick={() => refetch()}>\n            <RefreshCw className=\"h-4 w-4 mr-2\" />\n            Refresh\n          </Button>\n          <Button variant=\"outline\" onClick={handleExport}>\n            <Download className=\"h-4 w-4 mr-2\" />\n            Export\n          </Button>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <Card className=\"app-card border\">\n        <CardContent className=\"p-4\">\n          <div className=\"flex flex-col lg:flex-row gap-4\">\n            <div className=\"flex-1\">\n              <div className=\"relative\">\n                <Search className=\"h-4 w-4 absolute left-3 top-3 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search logs by message, username, or correlation ID...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n            <div className=\"w-full lg:w-48\">\n              <Select value={selectedCategory} onValueChange={setSelectedCategory}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"All Categories\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"ALL\">All Categories</SelectItem>\n                  <SelectItem value=\"AUTHENTICATION\">Authentication</SelectItem>\n                  <SelectItem value=\"FILE_PROCESSING\">File Processing</SelectItem>\n                  <SelectItem value=\"ADAPTER_EXECUTION\">Adapter Execution</SelectItem>\n                  <SelectItem value=\"FLOW_EXECUTION\">Flow Execution</SelectItem>\n                  <SelectItem value=\"SYSTEM_OPERATION\">System Operation</SelectItem>\n                  <SelectItem value=\"USER_MANAGEMENT\">User Management</SelectItem>\n                  <SelectItem value=\"CONFIGURATION_CHANGE\">Configuration Change</SelectItem>\n                  <SelectItem value=\"SECURITY\">Security</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"w-full lg:w-36\">\n              <Select value={selectedLevel} onValueChange={setSelectedLevel}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"All Levels\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"ALL\">All Levels</SelectItem>\n                  <SelectItem value=\"ERROR\">Error</SelectItem>\n                  <SelectItem value=\"WARN\">Warning</SelectItem>\n                  <SelectItem value=\"INFO\">Info</SelectItem>\n                  <SelectItem value=\"DEBUG\">Debug</SelectItem>\n                  <SelectItem value=\"TRACE\">Trace</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"w-full lg:w-24\">\n              <Select value={pageSize.toString()} onValueChange={(value) => setPageSize(parseInt(value))}>\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"25\">25</SelectItem>\n                  <SelectItem value=\"50\">50</SelectItem>\n                  <SelectItem value=\"100\">100</SelectItem>\n                  <SelectItem value=\"200\">200</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Stats */}\n      <div className=\"flex items-center justify-between text-sm text-muted-foreground\">\n        <span>\n          Showing {logs.length} transaction logs\n          {selectedCategory !== 'ALL' && ` in ${selectedCategory} category`}\n          {selectedLevel !== 'ALL' && ` at ${selectedLevel} level`}\n        </span>\n      </div>\n\n      {/* Transaction Logs List */}\n      {logs.length > 0 ? (\n        <div className=\"space-y-2\">\n          {logs.map((log: TransactionLog) => (\n            <Card key={log.id} className=\"app-card border hover:border-primary/30 transition-all duration-200\">\n              <CardContent className=\"p-4\">\n                <div className=\"flex items-start space-x-4\">\n                  <div className=\"flex flex-col items-center space-y-2 min-w-0\">\n                    <div className=\"text-xs font-mono text-muted-foreground\">\n                      {formatTimestamp(log.timestamp)}\n                    </div>\n                    {renderLogLevel(log.level)}\n                  </div>\n                  \n                  <div className=\"flex-1 min-w-0 space-y-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center space-x-2 min-w-0\">\n                        {renderLogCategory(log.category)}\n                        <span className=\"text-xs font-mono text-muted-foreground truncate\">\n                          {log.component}\n                        </span>\n                        <span className=\"text-xs px-2 py-1 bg-muted rounded\">\n                          {log.source}\n                        </span>\n                      </div>\n                      {(log.details || log.correlationId || log.adapterId || log.executionId || log.fileName) && (\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => setExpandedLog(expandedLog === log.id ? null : log.id)}\n                        >\n                          {expandedLog === log.id ? 'Less' : 'More'}\n                        </Button>\n                      )}\n                    </div>\n\n                    <div className=\"text-sm text-foreground\">\n                      {log.message}\n                    </div>\n\n                    {/* Context Information */}\n                    <div className=\"flex flex-wrap gap-2 text-xs\">\n                      {log.username && (\n                        <span className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded\">\n                          User: {log.username}\n                        </span>\n                      )}\n                      {log.correlationId && (\n                        <span className=\"px-2 py-1 bg-primary/10 text-primary rounded\">\n                          ID: {log.correlationId}\n                        </span>\n                      )}\n                      {log.fileName && (\n                        <span className=\"px-2 py-1 bg-green-100 text-green-700 rounded\">\n                          File: {log.fileName}\n                        </span>\n                      )}\n                      {log.ipAddress && (\n                        <span className=\"px-2 py-1 bg-orange-100 text-orange-700 rounded\">\n                          IP: {log.ipAddress}\n                        </span>\n                      )}\n                      {log.executionTimeMs && (\n                        <span className=\"px-2 py-1 bg-purple-100 text-purple-700 rounded\">\n                          {log.executionTimeMs}ms\n                        </span>\n                      )}\n                    </div>\n\n                    {/* Expanded Details */}\n                    {expandedLog === log.id && (\n                      <div className=\"mt-4 space-y-3 border-t border-border pt-3\">\n                        {log.details && (\n                          <div>\n                            <span className=\"text-sm font-medium text-foreground\">Additional Details:</span>\n                            <pre className=\"mt-1 font-mono text-xs bg-secondary/50 p-3 rounded overflow-x-auto max-h-48\">\n                              {log.details}\n                            </pre>\n                          </div>\n                        )}\n                        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                          {log.sessionId && (\n                            <div>\n                              <span className=\"text-muted-foreground\">Session ID:</span>\n                              <span className=\"ml-2 font-mono text-foreground\">{log.sessionId}</span>\n                            </div>\n                          )}\n                          {log.adapterId && (\n                            <div>\n                              <span className=\"text-muted-foreground\">Adapter ID:</span>\n                              <span className=\"ml-2 font-mono text-foreground\">{log.adapterId}</span>\n                            </div>\n                          )}\n                          {log.executionId && (\n                            <div>\n                              <span className=\"text-muted-foreground\">Execution ID:</span>\n                              <span className=\"ml-2 font-mono text-foreground\">{log.executionId}</span>\n                            </div>\n                          )}\n                          {log.userAgent && (\n                            <div>\n                              <span className=\"text-muted-foreground\">User Agent:</span>\n                              <span className=\"ml-2 text-foreground\">{log.userAgent}</span>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      ) : (\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center justify-center py-12\">\n            <div className=\"text-center\">\n              <Database className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">No Transaction Logs Found</h3>\n              <p className=\"text-muted-foreground\">\n                No transaction logs match your current filter criteria\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  )\n}\n\nexport default TransactionalLogs","import React, { useState } from 'react'\nimport { FileText, Database, Activity } from 'lucide-react'\nimport { cn } from '@/lib/utils'\nimport { usePermissions } from '@/hooks/auth'\n\n// Import existing log components\nimport SystemLogs from './SystemLogs'\nimport TransactionalLogs from './TransactionalLogs'\n\ntype LogTab = 'system' | 'transactional'\n\nconst logTabs: { id: LogTab; label: string; icon: React.ComponentType<{ className?: string }>; description: string; adminOnly?: boolean }[] = [\n  {\n    id: 'system',\n    label: 'System Logs',\n    icon: Activity,\n    description: 'Application logs, errors, and system events',\n    adminOnly: true\n  },\n  {\n    id: 'transactional',\n    label: 'Transactional Logs',\n    icon: Database,\n    description: 'Transaction audit trails and business process logs'\n    // No adminOnly - available to viewers\n  }\n]\n\nconst LogsPage: React.FC = () => {\n  const { isAdmin } = usePermissions()\n  \n  // Filter tabs based on user role\n  const availableTabs = logTabs.filter(tab => !tab.adminOnly || isAdmin())\n  \n  // Set default tab based on role\n  const defaultTab: LogTab = isAdmin() ? 'system' : 'transactional'\n  const [activeTab, setActiveTab] = useState<LogTab>(defaultTab)\n\n  const renderTabContent = () => {\n    switch (activeTab) {\n      case 'system':\n        return <SystemLogs />\n      case 'transactional':\n        return <TransactionalLogs />\n      default:\n        return <SystemLogs />\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <div className=\"flex items-center space-x-3 mb-2\">\n          <FileText className=\"h-8 w-8 text-primary\" />\n          <h1 className=\"text-3xl font-bold text-foreground\">Logs</h1>\n        </div>\n        <p className=\"text-muted-foreground\">\n          Monitor system and transactional logs for application insights and debugging\n        </p>\n      </div>\n\n      {/* Tab Navigation - only show if there are multiple tabs */}\n      {availableTabs.length > 1 && (\n        <div className=\"mb-8\">\n          <div className=\"flex space-x-4 border-b border-border\">\n            {availableTabs.map((tab) => {\n            const Icon = tab.icon\n            const isActive = activeTab === tab.id\n            \n            return (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className={cn(\n                  \"flex items-center space-x-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 -mb-px\",\n                  isActive\n                    ? \"text-primary border-primary bg-primary/5\"\n                    : \"text-muted-foreground border-transparent hover:text-foreground hover:border-border\"\n                )}\n              >\n                <Icon className=\"h-4 w-4\" />\n                <span>{tab.label}</span>\n              </button>\n            )\n          })}\n          </div>\n          <div className=\"mt-4\">\n            <p className=\"text-sm text-muted-foreground\">\n              {availableTabs.find(tab => tab.id === activeTab)?.description}\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Tab Content */}\n      <div className=\"transition-all duration-300\">\n        {renderTabContent()}\n      </div>\n    </div>\n  )\n}\n\nexport default LogsPage","import React, { useState } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { Lock, Key, Plus, Download, Upload, Shield, AlertTriangle, Eye, EyeOff, Trash2, CheckCircle, XCircle } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { useNotifications } from '@/stores/ui'\nimport { pgpKeyApi } from '@/lib/api'\nimport { cn } from '@/lib/utils'\n\ninterface PgpKey {\n  id: string\n  keyName: string\n  description: string\n  keyType: 'RSA' | 'ECC' | 'DSA'\n  keySize: number\n  userId: string\n  fingerprint: string\n  keyId: string\n  publicKey: string\n  privateKey?: string\n  algorithm: string\n  expiresAt?: string\n  revokedAt?: string\n  revocationReason?: string\n  canEncrypt: boolean\n  canSign: boolean\n  canCertify: boolean\n  canAuthenticate: boolean\n  importedFrom?: string\n  exportedCount: number\n  lastUsedAt?: string\n  createdAt: string\n  updatedAt: string\n}\n\ninterface GenerateKeyRequest {\n  keyName: string\n  userId: string\n  passphrase: string\n  keyType: 'RSA' | 'ECC' | 'DSA'\n  keySize: number\n  expiresAt?: string\n  description?: string\n}\n\ninterface ImportKeyRequest {\n  keyName: string\n  armoredKey: string\n  description?: string\n}\n\nconst PgpKeys: React.FC = () => {\n  const { success, error } = useNotifications()\n  const queryClient = useQueryClient()\n  \n  const [showGenerateForm, setShowGenerateForm] = useState(false)\n  const [showImportForm, setShowImportForm] = useState(false)\n  // Removed unused state variables\n\n  // Fetch PGP keys\n  const { data: keysResponse, isLoading } = useQuery({\n    queryKey: ['pgp-keys'],\n    queryFn: pgpKeyApi.getAllKeys,\n  })\n\n  const keys = keysResponse?.data || []\n\n  // Generate key mutation\n  const generateKeyMutation = useMutation({\n    mutationFn: pgpKeyApi.generateKey,\n    onSuccess: () => {\n      success('PGP Key Generated', 'PGP key pair generated successfully')\n      queryClient.invalidateQueries({ queryKey: ['pgp-keys'] })\n      setShowGenerateForm(false)\n    },\n    onError: (err: any) => {\n      error('Generation Failed', err.response?.data?.message || 'Failed to generate PGP key')\n    },\n  })\n\n  // Import key mutation\n  const importKeyMutation = useMutation({\n    mutationFn: pgpKeyApi.importKey,\n    onSuccess: () => {\n      success('PGP Key Imported', 'PGP key imported successfully')\n      queryClient.invalidateQueries({ queryKey: ['pgp-keys'] })\n      setShowImportForm(false)\n    },\n    onError: (err: any) => {\n      error('Import Failed', err.response?.data?.message || 'Failed to import PGP key')\n    },\n  })\n\n  // Delete key mutation\n  const deleteKeyMutation = useMutation({\n    mutationFn: pgpKeyApi.deleteKey,\n    onSuccess: () => {\n      success('PGP Key Deleted', 'PGP key deleted successfully')\n      queryClient.invalidateQueries({ queryKey: ['pgp-keys'] })\n    },\n    onError: (err: any) => {\n      error('Deletion Failed', err.response?.data?.message || 'Failed to delete PGP key')\n    },\n  })\n\n  // Revoke key mutation\n  const revokeKeyMutation = useMutation({\n    mutationFn: ({ id, reason }: { id: string; reason: string }) => \n      pgpKeyApi.revokeKey(id, reason),\n    onSuccess: () => {\n      success('PGP Key Revoked', 'PGP key revoked successfully')\n      queryClient.invalidateQueries({ queryKey: ['pgp-keys'] })\n    },\n    onError: (err: any) => {\n      error('Revocation Failed', err.response?.data?.message || 'Failed to revoke PGP key')\n    },\n  })\n\n  const handleExportPublic = async (keyId: string, keyName: string) => {\n    try {\n      const response = await pgpKeyApi.exportPublicKey(keyId)\n      \n      // Create download\n      const blob = new Blob([response], { type: 'text/plain' })\n      const url = window.URL.createObjectURL(blob)\n      const link = document.createElement('a')\n      link.href = url\n      link.download = `${keyName}-public.asc`\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n      window.URL.revokeObjectURL(url)\n      \n      success('Export Complete', 'Public key exported successfully')\n    } catch (err: any) {\n      error('Export Failed', 'Failed to export public key')\n    }\n  }\n\n  const handleExportPrivate = async (keyId: string, keyName: string) => {\n    try {\n      const response = await pgpKeyApi.exportPrivateKey(keyId)\n      \n      // Create download\n      const blob = new Blob([response], { type: 'text/plain' })\n      const url = window.URL.createObjectURL(blob)\n      const link = document.createElement('a')\n      link.href = url\n      link.download = `${keyName}-private.asc`\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n      window.URL.revokeObjectURL(url)\n      \n      success('Export Complete', 'Private key exported successfully')\n    } catch (err: any) {\n      error('Export Failed', 'Failed to export private key')\n    }\n  }\n\n  const getKeyStatusIcon = (key: PgpKey) => {\n    if (key.revokedAt) {\n      return <XCircle className=\"h-4 w-4 text-red-500\" />\n    }\n    if (key.expiresAt && new Date(key.expiresAt) < new Date()) {\n      return <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />\n    }\n    return <CheckCircle className=\"h-4 w-4 text-green-500\" />\n  }\n\n  const getKeyStatusText = (key: PgpKey) => {\n    if (key.revokedAt) {\n      return 'Revoked'\n    }\n    if (key.expiresAt && new Date(key.expiresAt) < new Date()) {\n      return 'Expired'\n    }\n    return 'Valid'\n  }\n\n  const getKeyTypeIcon = (keyType: string) => {\n    switch (keyType) {\n      case 'RSA':\n        return <Key className=\"h-4 w-4 text-blue-500\" />\n      case 'ECC':\n        return <Shield className=\"h-4 w-4 text-green-500\" />\n      case 'DSA':\n        return <Lock className=\"h-4 w-4 text-purple-500\" />\n      default:\n        return <Key className=\"h-4 w-4 text-gray-500\" />\n    }\n  }\n\n  const formatFingerprint = (fingerprint: string) => {\n    if (!fingerprint || fingerprint.length !== 40) return fingerprint\n    return fingerprint.replace(/(.{4})/g, '$1 ').trim()\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n          <span className=\"text-muted-foreground\">Loading PGP keys...</span>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-foreground mb-2\">PGP Key Management</h2>\n          <p className=\"text-muted-foreground\">Manage PGP encryption keys for secure file transfers</p>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <Button variant=\"outline\" onClick={() => setShowImportForm(true)}>\n            <Upload className=\"h-4 w-4 mr-2\" />\n            Import Key\n          </Button>\n          <Button className=\"btn-primary\" onClick={() => setShowGenerateForm(true)}>\n            <Plus className=\"h-4 w-4 mr-2\" />\n            Generate Key\n          </Button>\n        </div>\n      </div>\n\n      {/* Statistics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-4\">\n            <div className=\"flex items-center space-x-3\">\n              <Key className=\"h-8 w-8 text-primary\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Total Keys</p>\n                <p className=\"text-2xl font-bold text-foreground\">{keys.length}</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-4\">\n            <div className=\"flex items-center space-x-3\">\n              <CheckCircle className=\"h-8 w-8 text-green-500\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Valid Keys</p>\n                <p className=\"text-2xl font-bold text-foreground\">\n                  {keys.filter((k: PgpKey) => !k.revokedAt && (!k.expiresAt || new Date(k.expiresAt) > new Date())).length}\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-4\">\n            <div className=\"flex items-center space-x-3\">\n              <AlertTriangle className=\"h-8 w-8 text-yellow-500\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Expired</p>\n                <p className=\"text-2xl font-bold text-foreground\">\n                  {keys.filter((k: PgpKey) => !k.revokedAt && k.expiresAt && new Date(k.expiresAt) < new Date()).length}\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center p-4\">\n            <div className=\"flex items-center space-x-3\">\n              <XCircle className=\"h-8 w-8 text-red-500\" />\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Revoked</p>\n                <p className=\"text-2xl font-bold text-foreground\">\n                  {keys.filter((k: PgpKey) => k.revokedAt).length}\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Generate Form */}\n      {showGenerateForm && (\n        <GenerateKeyForm\n          onSubmit={(data) => generateKeyMutation.mutate(data)}\n          onCancel={() => setShowGenerateForm(false)}\n          isLoading={generateKeyMutation.isPending}\n        />\n      )}\n\n      {/* Import Form */}\n      {showImportForm && (\n        <ImportKeyForm\n          onSubmit={(data) => importKeyMutation.mutate(data)}\n          onCancel={() => setShowImportForm(false)}\n          isLoading={importKeyMutation.isPending}\n        />\n      )}\n\n      {/* Keys List */}\n      {keys.length > 0 ? (\n        <div className=\"space-y-4\">\n          {keys.map((key: PgpKey) => (\n            <Card key={key.id} className=\"app-card border\">\n              <CardHeader>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-3\">\n                    {getKeyTypeIcon(key.keyType)}\n                    <div>\n                      <CardTitle className=\"text-lg text-foreground\">{key.keyName}</CardTitle>\n                      <p className=\"text-sm text-muted-foreground\">{key.userId}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    {getKeyStatusIcon(key)}\n                    <span className={cn(\n                      \"text-sm px-2 py-1 rounded\",\n                      key.revokedAt && \"bg-red-100 text-red-700\",\n                      !key.revokedAt && key.expiresAt && new Date(key.expiresAt) < new Date() && \"bg-yellow-100 text-yellow-700\",\n                      !key.revokedAt && (!key.expiresAt || new Date(key.expiresAt) > new Date()) && \"bg-green-100 text-green-700\"\n                    )}>\n                      {getKeyStatusText(key)}\n                    </span>\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {/* Key Details */}\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                    <div>\n                      <span className=\"text-muted-foreground\">Type:</span>\n                      <span className=\"ml-2 text-foreground\">{key.keyType} {key.keySize}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-muted-foreground\">Algorithm:</span>\n                      <span className=\"ml-2 text-foreground\">{key.algorithm}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-muted-foreground\">Key ID:</span>\n                      <span className=\"ml-2 font-mono text-foreground\">{key.keyId}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-muted-foreground\">Exports:</span>\n                      <span className=\"ml-2 text-foreground\">{key.exportedCount}</span>\n                    </div>\n                  </div>\n\n                  {/* Usage Flags */}\n                  <div>\n                    <span className=\"text-sm text-muted-foreground\">Usage:</span>\n                    <div className=\"flex items-center space-x-2 mt-1\">\n                      {key.canEncrypt && (\n                        <span className=\"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded\">Encrypt</span>\n                      )}\n                      {key.canSign && (\n                        <span className=\"text-xs px-2 py-1 bg-green-100 text-green-700 rounded\">Sign</span>\n                      )}\n                      {key.canCertify && (\n                        <span className=\"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded\">Certify</span>\n                      )}\n                      {key.canAuthenticate && (\n                        <span className=\"text-xs px-2 py-1 bg-orange-100 text-orange-700 rounded\">Authenticate</span>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Fingerprint */}\n                  <div>\n                    <Label className=\"text-sm text-muted-foreground\">Fingerprint:</Label>\n                    <div className=\"mt-1 font-mono text-sm bg-secondary/50 px-3 py-2 rounded\">\n                      {formatFingerprint(key.fingerprint)}\n                    </div>\n                  </div>\n\n                  {/* Description */}\n                  {key.description && (\n                    <div>\n                      <Label className=\"text-sm text-muted-foreground\">Description:</Label>\n                      <p className=\"mt-1 text-sm text-foreground\">{key.description}</p>\n                    </div>\n                  )}\n\n                  {/* Expiry and Dates */}\n                  <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm\">\n                    <div>\n                      <span className=\"text-muted-foreground\">Created:</span>\n                      <span className=\"ml-2 text-foreground\">{new Date(key.createdAt).toLocaleDateString()}</span>\n                    </div>\n                    {key.expiresAt && (\n                      <div>\n                        <span className=\"text-muted-foreground\">Expires:</span>\n                        <span className=\"ml-2 text-foreground\">{new Date(key.expiresAt).toLocaleDateString()}</span>\n                      </div>\n                    )}\n                    {key.lastUsedAt && (\n                      <div>\n                        <span className=\"text-muted-foreground\">Last Used:</span>\n                        <span className=\"ml-2 text-foreground\">{new Date(key.lastUsedAt).toLocaleDateString()}</span>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Import Source */}\n                  {key.importedFrom && (\n                    <div className=\"text-sm\">\n                      <span className=\"text-muted-foreground\">Imported from:</span>\n                      <span className=\"ml-2 text-foreground\">{key.importedFrom}</span>\n                    </div>\n                  )}\n\n                  {/* Revocation Info */}\n                  {key.revokedAt && (\n                    <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\n                      <div className=\"flex items-center space-x-2 text-red-700 mb-1\">\n                        <XCircle className=\"h-4 w-4\" />\n                        <span className=\"font-medium\">Key Revoked</span>\n                      </div>\n                      <div className=\"text-sm text-red-600\">\n                        <p>Revoked on: {new Date(key.revokedAt).toLocaleString()}</p>\n                        {key.revocationReason && <p>Reason: {key.revocationReason}</p>}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Action Buttons */}\n                  <div className=\"flex items-center space-x-2 pt-4 border-t border-border\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => handleExportPublic(key.id, key.keyName)}\n                    >\n                      <Download className=\"h-4 w-4 mr-2\" />\n                      Export Public\n                    </Button>\n                    \n                    {key.privateKey && (\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => handleExportPrivate(key.id, key.keyName)}\n                      >\n                        <Download className=\"h-4 w-4 mr-2\" />\n                        Export Private\n                      </Button>\n                    )}\n\n                    {!key.revokedAt && (\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        className=\"text-yellow-600\"\n                        onClick={() => {\n                          const reason = prompt('Enter revocation reason:')\n                          if (reason) {\n                            revokeKeyMutation.mutate({ id: key.id, reason })\n                          }\n                        }}\n                      >\n                        <XCircle className=\"h-4 w-4 mr-2\" />\n                        Revoke\n                      </Button>\n                    )}\n                    \n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"text-red-600\"\n                      onClick={() => {\n                        if (window.confirm('Are you sure you want to delete this PGP key?')) {\n                          deleteKeyMutation.mutate(key.id)\n                        }\n                      }}\n                    >\n                      <Trash2 className=\"h-4 w-4 mr-2\" />\n                      Delete\n                    </Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      ) : (\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center justify-center py-12\">\n            <div className=\"text-center\">\n              <Lock className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">No PGP Keys Found</h3>\n              <p className=\"text-muted-foreground mb-6\">Generate or import your first PGP key to get started</p>\n              <div className=\"flex items-center justify-center space-x-2\">\n                <Button variant=\"outline\" onClick={() => setShowImportForm(true)}>\n                  <Upload className=\"h-4 w-4 mr-2\" />\n                  Import Key\n                </Button>\n                <Button className=\"btn-primary\" onClick={() => setShowGenerateForm(true)}>\n                  <Plus className=\"h-4 w-4 mr-2\" />\n                  Generate Key\n                </Button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  )\n}\n\nconst GenerateKeyForm: React.FC<{\n  onSubmit: (data: GenerateKeyRequest) => void\n  onCancel: () => void\n  isLoading: boolean\n}> = ({ onSubmit, onCancel, isLoading }) => {\n  const [formData, setFormData] = useState<GenerateKeyRequest>({\n    keyName: '',\n    userId: '',\n    passphrase: '',\n    keyType: 'RSA',\n    keySize: 2048,\n    expiresAt: '',\n    description: '',\n  })\n\n  const [showPassphrase, setShowPassphrase] = useState(false)\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    onSubmit(formData)\n  }\n\n  return (\n    <Card className=\"app-card border\">\n      <CardHeader>\n        <CardTitle className=\"text-foreground flex items-center space-x-2\">\n          <Key className=\"h-5 w-5\" />\n          <span>Generate PGP Key Pair</span>\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"keyName\">Key Name</Label>\n              <Input\n                id=\"keyName\"\n                value={formData.keyName}\n                onChange={(e) => setFormData(prev => ({ ...prev, keyName: e.target.value }))}\n                placeholder=\"e.g., Production Encryption Key\"\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"userId\">User ID (Email)</Label>\n              <Input\n                id=\"userId\"\n                type=\"email\"\n                value={formData.userId}\n                onChange={(e) => setFormData(prev => ({ ...prev, userId: e.target.value }))}\n                placeholder=\"e.g., admin@company.com\"\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"keyType\">Key Type</Label>\n              <Select\n                value={formData.keyType}\n                onValueChange={(value) => setFormData(prev => ({ ...prev, keyType: value as any }))}\n              >\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"RSA\">RSA (Recommended)</SelectItem>\n                  <SelectItem value=\"ECC\" disabled>ECC (Coming Soon)</SelectItem>\n                  <SelectItem value=\"DSA\" disabled>DSA (Coming Soon)</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"keySize\">Key Size (bits)</Label>\n              <Select\n                value={formData.keySize.toString()}\n                onValueChange={(value) => setFormData(prev => ({ ...prev, keySize: parseInt(value) }))}\n              >\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"2048\">2048 (Standard)</SelectItem>\n                  <SelectItem value=\"3072\">3072 (High Security)</SelectItem>\n                  <SelectItem value=\"4096\">4096 (Maximum Security)</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"passphrase\">Passphrase</Label>\n              <div className=\"relative\">\n                <Input\n                  id=\"passphrase\"\n                  type={showPassphrase ? 'text' : 'password'}\n                  value={formData.passphrase}\n                  onChange={(e) => setFormData(prev => ({ ...prev, passphrase: e.target.value }))}\n                  placeholder=\"Enter secure passphrase\"\n                  className=\"pr-10\"\n                  required\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassphrase(!showPassphrase)}\n                  className=\"absolute right-3 top-3 text-muted-foreground\"\n                >\n                  {showPassphrase ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                </button>\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"expiresAt\">Expiry Date (Optional)</Label>\n              <Input\n                id=\"expiresAt\"\n                type=\"datetime-local\"\n                value={formData.expiresAt}\n                onChange={(e) => setFormData(prev => ({ ...prev, expiresAt: e.target.value }))}\n              />\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"description\">Description (Optional)</Label>\n            <Input\n              id=\"description\"\n              value={formData.description}\n              onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n              placeholder=\"e.g., Used for encrypting payment files\"\n            />\n          </div>\n\n          <div className=\"flex items-center space-x-4 pt-4\">\n            <Button type=\"submit\" className=\"btn-primary\" disabled={isLoading}>\n              {isLoading ? 'Generating...' : 'Generate Key Pair'}\n            </Button>\n            <Button type=\"button\" variant=\"outline\" onClick={onCancel}>\n              Cancel\n            </Button>\n          </div>\n        </form>\n      </CardContent>\n    </Card>\n  )\n}\n\nconst ImportKeyForm: React.FC<{\n  onSubmit: (data: ImportKeyRequest) => void\n  onCancel: () => void\n  isLoading: boolean\n}> = ({ onSubmit, onCancel, isLoading }) => {\n  const [formData, setFormData] = useState<ImportKeyRequest>({\n    keyName: '',\n    armoredKey: '',\n    description: '',\n  })\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    onSubmit(formData)\n  }\n\n  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (file) {\n      const reader = new FileReader()\n      reader.onload = (event) => {\n        const content = event.target?.result as string\n        setFormData(prev => ({ ...prev, armoredKey: content }))\n      }\n      reader.readAsText(file)\n    }\n  }\n\n  return (\n    <Card className=\"app-card border\">\n      <CardHeader>\n        <CardTitle className=\"text-foreground flex items-center space-x-2\">\n          <Upload className=\"h-5 w-5\" />\n          <span>Import PGP Key</span>\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"importKeyName\">Key Name</Label>\n              <Input\n                id=\"importKeyName\"\n                value={formData.keyName}\n                onChange={(e) => setFormData(prev => ({ ...prev, keyName: e.target.value }))}\n                placeholder=\"e.g., Customer Public Key\"\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"keyFile\">Import from File (Optional)</Label>\n              <Input\n                id=\"keyFile\"\n                type=\"file\"\n                accept=\".asc,.gpg,.pgp\"\n                onChange={handleFileUpload}\n              />\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"armoredKey\">ASCII Armored Key</Label>\n            <textarea\n              id=\"armoredKey\"\n              value={formData.armoredKey}\n              onChange={(e) => setFormData(prev => ({ ...prev, armoredKey: e.target.value }))}\n              placeholder=\"Paste ASCII armored PGP key here...\"\n              className=\"w-full h-32 px-3 py-2 border border-border rounded-md bg-background text-foreground font-mono text-sm\"\n              required\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"importDescription\">Description (Optional)</Label>\n            <Input\n              id=\"importDescription\"\n              value={formData.description}\n              onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n              placeholder=\"e.g., Customer XYZ public key for file encryption\"\n            />\n          </div>\n\n          <div className=\"flex items-center space-x-4 pt-4\">\n            <Button type=\"submit\" className=\"btn-primary\" disabled={isLoading}>\n              {isLoading ? 'Importing...' : 'Import Key'}\n            </Button>\n            <Button type=\"button\" variant=\"outline\" onClick={onCancel}>\n              Cancel\n            </Button>\n          </div>\n        </form>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport default PgpKeys","import { useState, useEffect } from 'react';\r\nimport { api } from '@/lib/api';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Switch } from '@/components/ui/switch';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { \r\n  Select, \r\n  SelectContent, \r\n  SelectItem, \r\n  SelectTrigger, \r\n  SelectValue \r\n} from '@/components/ui/select';\r\nimport { \r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger\r\n} from '@/components/ui/dialog';\r\nimport { \r\n  Play, \r\n  Trash2, \r\n  Plus, \r\n  Edit, \r\n  Clock, \r\n  Database, \r\n  FileText,\r\n  CheckCircle,\r\n  XCircle,\r\n  AlertTriangle\r\n} from 'lucide-react';\r\n\r\n// Simple toast implementation\r\nconst useToast = () => {\r\n  const toast = ({ title, description, variant }: { title: string; description: string; variant?: string }) => {\r\n    const toastType = variant === 'destructive' ? 'error' : 'info';\r\n    console.log(`[${toastType.toUpperCase()}] ${title}: ${description}`);\r\n    alert(`${title}: ${description}`);\r\n  };\r\n  return { toast };\r\n};\r\n\r\ninterface DataRetentionConfig {\r\n  id: string;\r\n  dataType: 'LOG_FILES' | 'SYSTEM_LOGS' | 'TRANSACTION_LOGS' | 'SCHEDULE';\r\n  name: string;\r\n  description: string;\r\n  retentionDays: number;\r\n  archiveDays?: number;\r\n  scheduleCron?: string;\r\n  executorClass: string;\r\n  enabled: boolean;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  lastExecution?: string;\r\n  lastExecutionStatus?: string;\r\n  lastItemsProcessed?: number;\r\n}\r\n\r\ninterface DataRetentionStatus {\r\n  lastExecution?: string;\r\n  status: string;\r\n  filesProcessed: number;\r\n  databaseRecordsDeleted: number;\r\n  nextExecution?: string;\r\n}\r\n\r\nconst DATA_TYPE_OPTIONS = [\r\n  { value: 'LOG_FILES', label: 'Log Files', description: 'Manages log file archiving and deletion', icon: FileText },\r\n  { value: 'SYSTEM_LOGS', label: 'System Logs', description: 'Manages system_logs table cleanup', icon: Database },\r\n  { value: 'TRANSACTION_LOGS', label: 'Transaction Logs', description: 'Manages transaction_logs table cleanup', icon: Database },\r\n  { value: 'SCHEDULE', label: 'Schedule', description: 'Defines when retention cleanup should run', icon: Clock }\r\n];\r\n\r\nexport default function DataRetentionManagement() {\r\n  const [configs, setConfigs] = useState<DataRetentionConfig[]>([]);\r\n  const [status, setStatus] = useState<DataRetentionStatus | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showCreateDialog, setShowCreateDialog] = useState(false);\r\n  const [editingConfig, setEditingConfig] = useState<DataRetentionConfig | null>(null);\r\n  const [newConfig, setNewConfig] = useState({\r\n    dataType: '',\r\n    name: '',\r\n    description: '',\r\n    retentionDays: 30,\r\n    archiveDays: 90,\r\n    scheduleCron: '0 0 2 * * ?',\r\n    executorClass: '',\r\n    enabled: true\r\n  });\r\n  const [defaultConfigs, setDefaultConfigs] = useState<DataRetentionConfig[]>([]);\r\n  const [availableJobs, setAvailableJobs] = useState<Array<{value: string, label: string, description: string}>>([]);\r\n\r\n  const { toast } = useToast();\r\n\r\n  // Load configurations and status\r\n  useEffect(() => {\r\n    loadConfigurations();\r\n    loadStatus();\r\n    loadDefaultConfigurations();\r\n    loadAvailableJobs();\r\n  }, []);\r\n\r\n  const loadConfigurations = async () => {\r\n    try {\r\n      const response = await api.get('/api/admin/data-retention');\r\n      const configs = response.data?.data?.statistics?.configurations || [];\r\n      setConfigs(configs);\r\n    } catch (error) {\r\n      console.error('Error loading configurations:', error);\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error',\r\n        description: 'Failed to load retention configurations'\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadStatus = async () => {\r\n    try {\r\n      const response = await api.get('/api/admin/data-retention/status');\r\n      setStatus(response.data);\r\n    } catch (error) {\r\n      console.error('Error loading status:', error);\r\n    }\r\n  };\r\n\r\n  const loadDefaultConfigurations = async () => {\r\n    try {\r\n      const response = await api.get('/api/admin/data-retention/defaults');\r\n      setDefaultConfigs(response.data);\r\n    } catch (error) {\r\n      console.error('Error loading default configurations:', error);\r\n    }\r\n  };\r\n\r\n  const loadAvailableJobs = async () => {\r\n    try {\r\n      const response = await api.get('/api/admin/data-retention/available-jobs');\r\n      const jobs = response.data?.data?.statistics?.availableJobs || [];\r\n      setAvailableJobs(jobs);\r\n    } catch (error) {\r\n      console.error('Error loading available jobs:', error);\r\n    }\r\n  };\r\n\r\n  const resetNewConfigForm = () => {\r\n    // Use database defaults if available, fallback to sensible defaults\r\n    const defaultSchedule = defaultConfigs.find(config => config.dataType === 'SCHEDULE');\r\n    setNewConfig({\r\n      dataType: '',\r\n      name: '',\r\n      description: '',\r\n      retentionDays: defaultSchedule?.retentionDays || 30,\r\n      archiveDays: defaultSchedule?.archiveDays || 90,\r\n      scheduleCron: defaultSchedule?.scheduleCron || '0 0 2 * * ?',\r\n      executorClass: '',\r\n      enabled: true\r\n    });\r\n  };\r\n\r\n  const createConfiguration = async () => {\r\n    try {\r\n      await api.post('/api/admin/data-retention', newConfig);\r\n      await loadConfigurations();\r\n      setShowCreateDialog(false);\r\n      resetNewConfigForm();\r\n        toast({\r\n          title: 'Success',\r\n          description: 'Retention configuration created successfully'\r\n        });\r\n    } catch (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error',\r\n        description: 'Failed to create configuration'\r\n      });\r\n    }\r\n  };\r\n\r\n  const updateConfiguration = async () => {\r\n    if (!editingConfig) return;\r\n\r\n    try {\r\n      await api.put(`/api/admin/data-retention/${editingConfig.id}`, editingConfig);\r\n      await loadConfigurations();\r\n      setEditingConfig(null);\r\n      toast({\r\n        title: 'Success',\r\n        description: 'Configuration updated successfully'\r\n      });\r\n    } catch (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error',\r\n        description: 'Failed to update configuration'\r\n      });\r\n    }\r\n  };\r\n\r\n  const deleteConfiguration = async (id: string) => {\r\n    try {\r\n      await api.delete(`/api/admin/data-retention/${id}`);\r\n      await loadConfigurations();\r\n      toast({\r\n        title: 'Success',\r\n        description: 'Configuration deleted successfully'\r\n      });\r\n    } catch (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error',\r\n        description: 'Failed to delete configuration'\r\n      });\r\n    }\r\n  };\r\n\r\n  const toggleConfiguration = async (id: string) => {\r\n    try {\r\n      await api.patch(`/api/admin/data-retention/${id}/toggle`);\r\n      await loadConfigurations();\r\n      toast({\r\n        title: 'Success',\r\n        description: 'Configuration toggled successfully'\r\n      });\r\n    } catch (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error',\r\n        description: 'Failed to toggle configuration'\r\n      });\r\n    }\r\n  };\r\n\r\n  const executeManualRetention = async () => {\r\n    try {\r\n      await api.post('/api/admin/data-retention/execute');\r\n      toast({\r\n        title: 'Success',\r\n        description: 'Data retention execution started'\r\n      });\r\n      // Reload status after a short delay\r\n      setTimeout(loadStatus, 2000);\r\n    } catch (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error',\r\n        description: 'Failed to execute retention'\r\n      });\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    if (!status || typeof status !== 'string') {\r\n      return <Clock className=\"h-4 w-4 text-gray-500\" />;\r\n    }\r\n    \r\n    if (status.includes('Completed')) {\r\n      return <CheckCircle className=\"h-4 w-4 text-green-500\" />;\r\n    } else if (status.includes('Failed')) {\r\n      return <XCircle className=\"h-4 w-4 text-red-500\" />;\r\n    } else if (status.includes('Progress')) {\r\n      return <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />;\r\n    }\r\n    return <Clock className=\"h-4 w-4 text-gray-500\" />;\r\n  };\r\n\r\n  const formatDateTime = (dateString?: string) => {\r\n    if (!dateString) return 'Never';\r\n    return new Date(dateString).toLocaleString();\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold\">Data Retention Management</h1>\r\n          <p className=\"text-gray-600\">\r\n            Configure automated cleanup policies for log files and database tables\r\n          </p>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Button onClick={executeManualRetention} variant=\"outline\">\r\n            <Play className=\"h-4 w-4 mr-2\" />\r\n            Execute Now\r\n          </Button>\r\n          <Dialog open={showCreateDialog} onOpenChange={setShowCreateDialog}>\r\n            <DialogTrigger asChild>\r\n              <Button>\r\n                <Plus className=\"h-4 w-4 mr-2\" />\r\n                Add Configuration\r\n              </Button>\r\n            </DialogTrigger>\r\n            <DialogContent className=\"max-w-md\">\r\n              <DialogHeader>\r\n                <DialogTitle>Create Retention Configuration</DialogTitle>\r\n                <DialogDescription>\r\n                  Add a new data retention policy\r\n                </DialogDescription>\r\n              </DialogHeader>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label>Data Type</Label>\r\n                  <Select \r\n                    value={newConfig.dataType} \r\n                    onValueChange={(value) => setNewConfig({...newConfig, dataType: value})}\r\n                  >\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Select data type\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {DATA_TYPE_OPTIONS.map((option) => (\r\n                        <SelectItem key={option.value} value={option.value}>\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <option.icon className=\"h-4 w-4\" />\r\n                            <span>{option.label}</span>\r\n                          </div>\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n                \r\n                <div className=\"space-y-2\">\r\n                  <Label>Name</Label>\r\n                  <Input\r\n                    value={newConfig.name}\r\n                    onChange={(e) => setNewConfig({...newConfig, name: e.target.value})}\r\n                    placeholder=\"Configuration name\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label>Description</Label>\r\n                  <textarea\r\n                    className=\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\r\n                    value={newConfig.description}\r\n                    onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) => setNewConfig({...newConfig, description: e.target.value})}\r\n                    placeholder=\"Description\"\r\n                    rows={2}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label>Executor Job</Label>\r\n                  <Select \r\n                    value={newConfig.executorClass} \r\n                    onValueChange={(value) => setNewConfig({...newConfig, executorClass: value})}\r\n                  >\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Select which job will execute this policy\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {Array.isArray(availableJobs) && availableJobs.map((job) => (\r\n                        <SelectItem key={job.value} value={job.value}>\r\n                          <div className=\"flex flex-col\">\r\n                            <span className=\"font-medium\">{job.label}</span>\r\n                            <span className=\"text-xs text-muted-foreground\">{job.description}</span>\r\n                          </div>\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label>Retention Days</Label>\r\n                  <Input\r\n                    type=\"number\"\r\n                    value={newConfig.retentionDays}\r\n                    onChange={(e) => setNewConfig({...newConfig, retentionDays: parseInt(e.target.value)})}\r\n                    min=\"1\"\r\n                  />\r\n                </div>\r\n\r\n                {newConfig.dataType === 'LOG_FILES' && (\r\n                  <div className=\"space-y-2\">\r\n                    <Label>Archive Days</Label>\r\n                    <Input\r\n                      type=\"number\"\r\n                      value={newConfig.archiveDays}\r\n                      onChange={(e) => setNewConfig({...newConfig, archiveDays: parseInt(e.target.value)})}\r\n                      min=\"1\"\r\n                    />\r\n                  </div>\r\n                )}\r\n\r\n                {newConfig.dataType === 'SCHEDULE' && (\r\n                  <div className=\"space-y-2\">\r\n                    <Label>Cron Expression</Label>\r\n                    <Input\r\n                      value={newConfig.scheduleCron}\r\n                      onChange={(e) => setNewConfig({...newConfig, scheduleCron: e.target.value})}\r\n                      placeholder=\"0 0 2 * * ?\"\r\n                    />\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <Switch\r\n                    checked={newConfig.enabled}\r\n                    onCheckedChange={(checked) => setNewConfig({...newConfig, enabled: checked})}\r\n                  />\r\n                  <Label>Enabled</Label>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex justify-end gap-2\">\r\n                <Button variant=\"outline\" onClick={() => setShowCreateDialog(false)}>\r\n                  Cancel\r\n                </Button>\r\n                <Button onClick={createConfiguration}>Create</Button>\r\n              </div>\r\n            </DialogContent>\r\n          </Dialog>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Status Overview */}\r\n      {status && (\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              {getStatusIcon(status?.status || 'Unknown')}\r\n              Execution Status\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n              <div>\r\n                <div className=\"text-sm text-gray-500\">Last Execution</div>\r\n                <div className=\"font-medium\">{formatDateTime(status.lastExecution)}</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-sm text-gray-500\">Status</div>\r\n                <div className=\"font-medium\">{status.status}</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-sm text-gray-500\">Files Processed</div>\r\n                <div className=\"font-medium\">{status.filesProcessed}</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-sm text-gray-500\">DB Records Deleted</div>\r\n                <div className=\"font-medium\">{status.databaseRecordsDeleted}</div>\r\n              </div>\r\n            </div>\r\n            {status.nextExecution && (\r\n              <div className=\"mt-4 pt-4 border-t\">\r\n                <div className=\"text-sm text-gray-500\">Next Scheduled Execution</div>\r\n                <div className=\"font-medium\">{formatDateTime(status.nextExecution)}</div>\r\n              </div>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Configurations List */}\r\n      <div className=\"grid gap-4\">\r\n        {Array.isArray(configs) && configs.map((config) => {\r\n          const dataTypeOption = DATA_TYPE_OPTIONS.find(opt => opt.value === config.dataType);\r\n          const Icon = dataTypeOption?.icon || FileText;\r\n          \r\n          return (\r\n            <Card key={config.id} className={config.enabled ? '' : 'opacity-50'}>\r\n              <CardContent className=\"p-6\">\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <Icon className=\"h-5 w-5 mt-1 text-gray-600\" />\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-2 mb-1\">\r\n                        <h3 className=\"font-semibold\">{config.name}</h3>\r\n                        <Badge variant={config.enabled ? 'default' : 'secondary'}>\r\n                          {config.enabled ? 'Enabled' : 'Disabled'}\r\n                        </Badge>\r\n                        <Badge variant=\"outline\">{dataTypeOption?.label}</Badge>\r\n                      </div>\r\n                      <p className=\"text-sm text-gray-600 mb-2\">{config.description}</p>\r\n                      \r\n                      <div className=\"flex flex-wrap gap-4 text-sm\">\r\n                        <div>\r\n                          <span className=\"text-gray-500\">Retention:</span> {config.retentionDays} days\r\n                        </div>\r\n                        {config.archiveDays && (\r\n                          <div>\r\n                            <span className=\"text-gray-500\">Archive:</span> {config.archiveDays} days\r\n                          </div>\r\n                        )}\r\n                        {config.scheduleCron && (\r\n                          <div>\r\n                            <span className=\"text-gray-500\">Schedule:</span> {config.scheduleCron}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n\r\n                      {config.lastExecution && (\r\n                        <div className=\"mt-2 text-sm text-gray-500\">\r\n                          Last run: {formatDateTime(config.lastExecution)} - {config.lastExecutionStatus}\r\n                          {config.lastItemsProcessed !== undefined && (\r\n                            <span> ({config.lastItemsProcessed} items)</span>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Switch\r\n                      checked={config.enabled}\r\n                      onCheckedChange={() => toggleConfiguration(config.id)}\r\n                    />\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      onClick={() => setEditingConfig(config)}\r\n                    >\r\n                      <Edit className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Button \r\n                      variant=\"outline\" \r\n                      size=\"sm\"\r\n                      onClick={() => {\r\n                        if (confirm('Are you sure you want to delete this retention configuration? This action cannot be undone.')) {\r\n                          deleteConfiguration(config.id);\r\n                        }\r\n                      }}\r\n                    >\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {(!Array.isArray(configs) || configs.length === 0) && (\r\n        <Card>\r\n          <CardContent className=\"text-center py-8\">\r\n            <FileText className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-semibold mb-2\">No Retention Configurations</h3>\r\n            <p className=\"text-gray-600 mb-4\">\r\n              Get started by creating your first data retention policy\r\n            </p>\r\n            <Button onClick={() => setShowCreateDialog(true)}>\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n              Create Configuration\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Edit Dialog */}\r\n      {editingConfig && (\r\n        <Dialog open={!!editingConfig} onOpenChange={() => setEditingConfig(null)}>\r\n          <DialogContent className=\"max-w-md\">\r\n            <DialogHeader>\r\n              <DialogTitle>Edit Configuration</DialogTitle>\r\n              <DialogDescription>\r\n                Update the retention configuration settings\r\n              </DialogDescription>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label>Name</Label>\r\n                <Input\r\n                  value={editingConfig.name}\r\n                  onChange={(e) => setEditingConfig({...editingConfig, name: e.target.value})}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label>Description</Label>\r\n                <textarea\r\n                  className=\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\r\n                  value={editingConfig.description}\r\n                  onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) => setEditingConfig({...editingConfig, description: e.target.value})}\r\n                  rows={2}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label>Executor Job</Label>\r\n                <Select \r\n                  value={editingConfig.executorClass} \r\n                  onValueChange={(value) => setEditingConfig({...editingConfig, executorClass: value})}\r\n                >\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select which job will execute this policy\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {Array.isArray(availableJobs) && availableJobs.map((job) => (\r\n                      <SelectItem key={job.value} value={job.value}>\r\n                        <div className=\"flex flex-col\">\r\n                          <span className=\"font-medium\">{job.label}</span>\r\n                          <span className=\"text-xs text-muted-foreground\">{job.description}</span>\r\n                        </div>\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label>Retention Days</Label>\r\n                <Input\r\n                  type=\"number\"\r\n                  value={editingConfig.retentionDays}\r\n                  onChange={(e) => setEditingConfig({...editingConfig, retentionDays: parseInt(e.target.value)})}\r\n                  min=\"1\"\r\n                />\r\n              </div>\r\n\r\n              {editingConfig.dataType === 'LOG_FILES' && (\r\n                <div className=\"space-y-2\">\r\n                  <Label>Archive Days</Label>\r\n                  <Input\r\n                    type=\"number\"\r\n                    value={editingConfig.archiveDays || 0}\r\n                    onChange={(e) => setEditingConfig({...editingConfig, archiveDays: parseInt(e.target.value)})}\r\n                    min=\"1\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {editingConfig.dataType === 'SCHEDULE' && (\r\n                <div className=\"space-y-2\">\r\n                  <Label>Cron Expression</Label>\r\n                  <Input\r\n                    value={editingConfig.scheduleCron || ''}\r\n                    onChange={(e) => setEditingConfig({...editingConfig, scheduleCron: e.target.value})}\r\n                    placeholder=\"0 0 2 * * ?\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Switch\r\n                  checked={editingConfig.enabled}\r\n                  onCheckedChange={(checked) => setEditingConfig({...editingConfig, enabled: checked})}\r\n                />\r\n                <Label>Enabled</Label>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex justify-end gap-2\">\r\n              <Button variant=\"outline\" onClick={() => setEditingConfig(null)}>\r\n                Cancel\r\n              </Button>\r\n              <Button onClick={updateConfiguration}>Save Changes</Button>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      )}\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from 'react'\nimport { useSearchParams } from 'react-router-dom'\nimport { Users, Key, Shield, Settings, FileText, Database, Lock, Clock } from 'lucide-react'\nimport { Card, CardContent } from '@/components/ui/card'\nimport { usePermissions } from '@/hooks/auth'\nimport { useAuthStore } from '@/stores/auth'\nimport { cn } from '@/lib/utils'\n\n// Import existing components\nimport UserManagement from './users/UserManagement'\nimport SshKeyManagement from './ssh-keys/SshKeyManagement'\n\n// New components for the admin page\nimport SystemConfigurations from './admin/SystemConfigurations'\nimport LogsPage from './admin/LogsPage'\nimport PgpKeys from './admin/PgpKeys'\nimport DataRetentionManagement from './admin/DataRetentionManagement'\n\ntype AdminTab = 'users' | 'ssh-keys' | 'pgp-keys' | 'system-config' | 'logs' | 'data-retention'\n\nconst adminTabs: { id: AdminTab; label: string; icon: React.ComponentType<{ className?: string }>; description: string; adminOnly?: boolean }[] = [\n  {\n    id: 'users',\n    label: 'Users',\n    icon: Users,\n    description: 'Manage user accounts, roles, and permissions',\n    adminOnly: true\n  },\n  {\n    id: 'ssh-keys',\n    label: 'SSH Keys',\n    icon: Key,\n    description: 'Generate and manage SSH key pairs for SFTP adapters',\n    adminOnly: true\n  },\n  {\n    id: 'pgp-keys',\n    label: 'PGP Keys',\n    icon: Lock,\n    description: 'Manage PGP encryption keys for secure file transfers',\n    adminOnly: true\n  },\n  {\n    id: 'system-config',\n    label: 'System Configuration',\n    icon: Settings,\n    description: 'Configure system settings, logging, and performance parameters',\n    adminOnly: true\n  },\n  {\n    id: 'logs',\n    label: 'Logs',\n    icon: FileText,\n    description: 'View and manage system and transactional logs'\n    // No adminOnly - available to viewers\n  },\n  {\n    id: 'data-retention',\n    label: 'Data Retention',\n    icon: Clock,\n    description: 'Configure automated cleanup policies for logs and database tables',\n    adminOnly: true\n  }\n]\n\nconst AdminPage: React.FC = () => {\n  const { isAdmin } = usePermissions()\n  const { user } = useAuthStore()\n  const [searchParams, setSearchParams] = useSearchParams()\n  \n  // Filter tabs based on user role\n  const availableTabs = adminTabs.filter(tab => !tab.adminOnly || isAdmin())\n  \n  // Set default tab based on role\n  const defaultTab: AdminTab = isAdmin() ? 'users' : 'logs'\n  const [activeTab, setActiveTab] = useState<AdminTab>(defaultTab)\n\n  // Handle URL parameters to set active tab\n  useEffect(() => {\n    const tabParam = searchParams.get('tab') as AdminTab\n    if (tabParam && availableTabs.some(tab => tab.id === tabParam)) {\n      setActiveTab(tabParam)\n    } else if (!isAdmin()) {\n      // Redirect viewers to logs if they try to access admin-only tabs\n      setActiveTab('logs')\n      setSearchParams({ tab: 'logs' })\n    }\n  }, [searchParams, availableTabs, isAdmin])\n\n  // Update URL when tab changes\n  const handleTabChange = (tabId: AdminTab) => {\n    setActiveTab(tabId)\n    setSearchParams({ tab: tabId })\n  }\n\n  // Check if user has any access (admin or viewer with logs access)\n  if (!user) {\n    return (\n      <div className=\"content-spacing\">\n        <Card className=\"app-card border\">\n          <CardContent className=\"flex items-center justify-center py-12\">\n            <div className=\"text-center\">\n              <Shield className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">Access Denied</h3>\n              <p className=\"text-muted-foreground\">Authentication required to access this section</p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  const renderTabContent = () => {\n    switch (activeTab) {\n      case 'users':\n        return <UserManagement />\n      case 'ssh-keys':\n        return <SshKeyManagement />\n      case 'pgp-keys':\n        return <PgpKeys />\n      case 'system-config':\n        return <SystemConfigurations />\n      case 'logs':\n        return <LogsPage />\n      case 'data-retention':\n        return <DataRetentionManagement />\n      default:\n        return <UserManagement />\n    }\n  }\n\n  return (\n    <div className=\"content-spacing\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <div className=\"flex items-center space-x-3 mb-2\">\n          <Database className=\"h-8 w-8 text-primary\" />\n          <h1 className=\"text-3xl font-bold text-foreground\">\n            {isAdmin() ? 'System Administration' : 'System Logs'}\n          </h1>\n        </div>\n        <p className=\"text-muted-foreground\">\n          {isAdmin() \n            ? 'Centralized administration for users, security, configuration, and monitoring'\n            : 'Monitor system and transactional logs for application insights and debugging'\n          }\n        </p>\n      </div>\n\n      {/* Tab Navigation */}\n      <div className=\"mb-8\">\n        <div className={`grid gap-4 ${availableTabs.length === 1 ? 'grid-cols-1 max-w-md' : availableTabs.length <= 3 ? 'grid-cols-1 md:grid-cols-3' : 'grid-cols-2 md:grid-cols-6'}`}>\n          {availableTabs.map((tab) => {\n            const Icon = tab.icon\n            const isActive = activeTab === tab.id\n            \n            return (\n              <button\n                key={tab.id}\n                onClick={() => handleTabChange(tab.id)}\n                className={cn(\n                  \"text-left p-4 rounded-lg border transition-all duration-300 hover:scale-[1.02]\",\n                  \"flex flex-col space-y-2 min-h-[120px]\",\n                  isActive\n                    ? \"bg-primary/10 border-primary text-primary shadow-elegant\"\n                    : \"bg-card border-border hover:bg-accent/50 hover:border-primary/30\"\n                )}\n              >\n                <div className=\"flex items-center space-x-2\">\n                  <Icon className={cn(\n                    \"h-5 w-5 transition-colors\",\n                    isActive ? \"text-primary\" : \"text-muted-foreground\"\n                  )} />\n                  <span className={cn(\n                    \"font-medium transition-colors\",\n                    isActive ? \"text-primary\" : \"text-foreground\"\n                  )}>\n                    {tab.label}\n                  </span>\n                </div>\n                <p className={cn(\n                  \"text-xs leading-relaxed transition-colors\",\n                  isActive ? \"text-primary/80\" : \"text-muted-foreground\"\n                )}>\n                  {tab.description}\n                </p>\n              </button>\n            )\n          })}\n        </div>\n      </div>\n\n      {/* Tab Content */}\n      <div className=\"transition-all duration-300\">\n        {renderTabContent()}\n      </div>\n    </div>\n  )\n}\n\nexport default AdminPage","\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }","import { useState, useEffect } from 'react'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Badge } from '@/components/ui/badge'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Switch } from '@/components/ui/switch'\nimport { Separator } from '@/components/ui/separator'\nimport { Alert, AlertDescription } from '@/components/ui/alert'\nimport { userApi } from '@/lib/api'\nimport {\n  Settings as SettingsIcon,\n  Save,\n  RefreshCw,\n  Bell,\n  Palette,\n  User,\n  Lock,\n  Clock,\n  Info,\n  Check,\n  X\n} from 'lucide-react'\n\ninterface UserProfile {\n  id: string\n  username: string\n  email: string\n  fullName: string\n  role: string\n  timezone?: string\n}\n\ninterface UserPreferences {\n  theme: 'light' | 'dark' | 'system'\n  language: string\n  timezone: string\n  dateFormat: string\n  timeFormat: '12h' | '24h'\n  emailNotifications: boolean\n  soundAlerts: boolean\n  compactMode: boolean\n}\n\nexport const Settings = () => {\n  const [activeTab, setActiveTab] = useState('profile')\n  const [isSaving, setIsSaving] = useState(false)\n  const [user, setUser] = useState<UserProfile | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [notification, setNotification] = useState<{type: 'success' | 'error', message: string} | null>(null)\n\n  // User preferences state\n  const [preferences, setPreferences] = useState<UserPreferences>({\n    theme: 'light',\n    language: 'en',\n    timezone: 'UTC',\n    dateFormat: 'MM/DD/YYYY',\n    timeFormat: '12h',\n    emailNotifications: true,\n    soundAlerts: true,\n    compactMode: false\n  })\n\n  // Profile state\n  const [profile, setProfile] = useState({\n    fullName: '',\n    email: ''\n  })\n\n  // Password change state\n  const [passwordForm, setPasswordForm] = useState({\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  })\n\n  // Load current user on mount\n  useEffect(() => {\n    loadCurrentUser()\n    loadPreferences()\n  }, [])\n\n  const loadCurrentUser = async () => {\n    try {\n      const response = await userApi.getCurrentUser()\n      if (response?.user) {\n        setUser(response.user)\n        setProfile({\n          fullName: response.user.fullName || '',\n          email: response.user.email || ''\n        })\n      }\n    } catch (error) {\n      showNotification('error', 'Failed to load user profile')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const loadPreferences = () => {\n    const savedPreferences = localStorage.getItem('h2h_user_preferences')\n    if (savedPreferences) {\n      try {\n        const parsed = JSON.parse(savedPreferences)\n        setPreferences(prev => ({ ...prev, ...parsed }))\n        // Apply saved theme\n        applyTheme(parsed.theme || 'light')\n      } catch (error) {\n        console.warn('Failed to parse saved preferences')\n      }\n    } else {\n      // Default to light theme\n      applyTheme('light')\n    }\n  }\n\n  const applyTheme = (theme: 'light' | 'dark' | 'system') => {\n    const root = document.documentElement\n    \n    if (theme === 'system') {\n      const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches\n      root.classList.toggle('dark', systemPrefersDark)\n    } else if (theme === 'dark') {\n      root.classList.add('dark')\n    } else {\n      root.classList.remove('dark')\n    }\n  }\n\n  const showNotification = (type: 'success' | 'error', message: string) => {\n    setNotification({ type, message })\n    setTimeout(() => setNotification(null), 5000)\n  }\n\n  const handleSaveProfile = async () => {\n    if (!user?.id) return\n\n    try {\n      setIsSaving(true)\n      \n      await userApi.updateUser(user.id, {\n        fullName: profile.fullName,\n        email: profile.email\n      })\n      \n      showNotification('success', 'Profile updated successfully')\n      await loadCurrentUser() // Refresh user data\n      \n    } catch (error: any) {\n      const message = error?.response?.data?.error || 'Failed to update profile'\n      showNotification('error', message)\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  const handleSavePreferences = async () => {\n    try {\n      setIsSaving(true)\n      localStorage.setItem('h2h_user_preferences', JSON.stringify(preferences))\n      applyTheme(preferences.theme)\n      showNotification('success', 'Preferences saved successfully')\n    } catch (error) {\n      showNotification('error', 'Failed to save preferences')\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  const handleChangePassword = async () => {\n    if (!user?.id) return\n\n    if (passwordForm.newPassword !== passwordForm.confirmPassword) {\n      showNotification('error', 'New passwords do not match')\n      return\n    }\n\n    if (passwordForm.newPassword.length < 8) {\n      showNotification('error', 'Password must be at least 8 characters long')\n      return\n    }\n\n    try {\n      setIsSaving(true)\n      \n      await userApi.changePassword(\n        user.id,\n        passwordForm.currentPassword,\n        passwordForm.newPassword\n      )\n      \n      showNotification('success', 'Password changed successfully')\n      setPasswordForm({\n        currentPassword: '',\n        newPassword: '',\n        confirmPassword: ''\n      })\n      \n    } catch (error: any) {\n      const message = error?.response?.data?.error || 'Failed to change password'\n      showNotification('error', message)\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"container mx-auto p-6\">\n        <div className=\"flex items-center justify-center h-64\">\n          <RefreshCw className=\"h-8 w-8 animate-spin\" />\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"container mx-auto p-6 max-w-6xl\">\n      <div className=\"mb-8\">\n        <div className=\"flex items-center gap-3 mb-2\">\n          <SettingsIcon className=\"h-8 w-8 text-primary\" />\n          <h1 className=\"text-3xl font-bold\">User Settings</h1>\n        </div>\n        <p className=\"text-muted-foreground\">Manage your profile and personal preferences</p>\n      </div>\n\n      {notification && (\n        <Alert className={`mb-6 ${notification.type === 'error' ? 'border-red-500 bg-red-50' : 'border-green-500 bg-green-50'}`}>\n          {notification.type === 'success' ? <Check className=\"h-4 w-4 text-green-600\" /> : <X className=\"h-4 w-4 text-red-600\" />}\n          <AlertDescription className={notification.type === 'error' ? 'text-red-700' : 'text-green-700'}>\n            {notification.message}\n          </AlertDescription>\n        </Alert>\n      )}\n\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n        <TabsList className=\"grid grid-cols-4 w-full max-w-2xl\">\n          <TabsTrigger value=\"profile\" className=\"flex items-center gap-2\">\n            <User className=\"h-4 w-4\" />\n            Profile\n          </TabsTrigger>\n          <TabsTrigger value=\"preferences\" className=\"flex items-center gap-2\">\n            <Palette className=\"h-4 w-4\" />\n            Preferences\n          </TabsTrigger>\n          <TabsTrigger value=\"notifications\" className=\"flex items-center gap-2\">\n            <Bell className=\"h-4 w-4\" />\n            Notifications\n          </TabsTrigger>\n          <TabsTrigger value=\"security\" className=\"flex items-center gap-2\">\n            <Lock className=\"h-4 w-4\" />\n            Security\n          </TabsTrigger>\n        </TabsList>\n\n        {/* Profile Tab */}\n        <TabsContent value=\"profile\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Profile Information</CardTitle>\n              <CardDescription>Update your personal information and contact details</CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <Alert>\n                <Info className=\"h-4 w-4\" />\n                <AlertDescription>\n                  Username: <strong>{user?.username}</strong>\n                </AlertDescription>\n              </Alert>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"fullName\">Full Name</Label>\n                  <Input\n                    id=\"fullName\"\n                    value={profile.fullName}\n                    onChange={(e) => setProfile({...profile, fullName: e.target.value})}\n                    placeholder=\"Enter full name\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"email\">Email</Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    value={profile.email}\n                    onChange={(e) => setProfile({...profile, email: e.target.value})}\n                    placeholder=\"Enter email\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"role\">Role</Label>\n                  <div className=\"flex items-center gap-2\">\n                    <Badge variant={user?.role === 'ADMINISTRATOR' ? 'default' : 'secondary'}>\n                      {user?.role}\n                    </Badge>\n                    <span className=\"text-sm text-muted-foreground\">(role cannot be changed)</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end\">\n                <Button onClick={handleSaveProfile} disabled={isSaving}>\n                  {isSaving ? (\n                    <>\n                      <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n                      Saving...\n                    </>\n                  ) : (\n                    <>\n                      <Save className=\"h-4 w-4 mr-2\" />\n                      Save Profile\n                    </>\n                  )}\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Preferences Tab */}\n        <TabsContent value=\"preferences\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Display Preferences</CardTitle>\n              <CardDescription>Customize how the application looks and behaves for you</CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"theme\">Theme</Label>\n                  <Select\n                    value={preferences.theme}\n                    onValueChange={(value: 'light' | 'dark' | 'system') => {\n                      setPreferences({...preferences, theme: value})\n                      applyTheme(value)\n                    }}\n                  >\n                    <SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"light\">Light</SelectItem>\n                      <SelectItem value=\"dark\">Dark</SelectItem>\n                      <SelectItem value=\"system\">System</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"language\">Language</Label>\n                  <Select\n                    value={preferences.language}\n                    onValueChange={(value) => setPreferences({...preferences, language: value})}\n                  >\n                    <SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"en\">English</SelectItem>\n                      <SelectItem value=\"es\">Spanish</SelectItem>\n                      <SelectItem value=\"fr\">French</SelectItem>\n                      <SelectItem value=\"de\">German</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"dateFormat\">Date Format</Label>\n                  <Select\n                    value={preferences.dateFormat}\n                    onValueChange={(value) => setPreferences({...preferences, dateFormat: value})}\n                  >\n                    <SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"MM/DD/YYYY\">MM/DD/YYYY</SelectItem>\n                      <SelectItem value=\"DD/MM/YYYY\">DD/MM/YYYY</SelectItem>\n                      <SelectItem value=\"YYYY-MM-DD\">YYYY-MM-DD</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"timeFormat\">Time Format</Label>\n                  <Select\n                    value={preferences.timeFormat}\n                    onValueChange={(value: '12h' | '24h') => setPreferences({...preferences, timeFormat: value})}\n                  >\n                    <SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"12h\">12 Hour</SelectItem>\n                      <SelectItem value=\"24h\">24 Hour</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n\n              <Separator />\n\n              <div className=\"space-y-4\">\n                <h3 className=\"text-lg font-semibold\">Interface Options</h3>\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"space-y-0.5\">\n                      <Label htmlFor=\"compactMode\">Compact View</Label>\n                      <p className=\"text-sm text-muted-foreground\">\n                        Use a more condensed layout\n                      </p>\n                    </div>\n                    <Switch\n                      id=\"compactMode\"\n                      checked={preferences.compactMode}\n                      onCheckedChange={(checked) => setPreferences({...preferences, compactMode: checked})}\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end\">\n                <Button onClick={handleSavePreferences} disabled={isSaving}>\n                  {isSaving ? (\n                    <>\n                      <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n                      Saving...\n                    </>\n                  ) : (\n                    <>\n                      <Save className=\"h-4 w-4 mr-2\" />\n                      Save Preferences\n                    </>\n                  )}\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Notifications Tab */}\n        <TabsContent value=\"notifications\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Notification Preferences</CardTitle>\n              <CardDescription>Choose how you want to be notified about important events</CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <Alert>\n                <Info className=\"h-4 w-4\" />\n                <AlertDescription>\n                  These settings control personal notifications for file transfer operations and system events.\n                </AlertDescription>\n              </Alert>\n\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label htmlFor=\"emailNotifications\">Email Notifications</Label>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Receive notifications via email\n                    </p>\n                  </div>\n                  <Switch\n                    id=\"emailNotifications\"\n                    checked={preferences.emailNotifications}\n                    onCheckedChange={(checked) => setPreferences({...preferences, emailNotifications: checked})}\n                  />\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label htmlFor=\"soundAlerts\">Sound Alerts</Label>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Play sounds for important events\n                    </p>\n                  </div>\n                  <Switch\n                    id=\"soundAlerts\"\n                    checked={preferences.soundAlerts}\n                    onCheckedChange={(checked) => setPreferences({...preferences, soundAlerts: checked})}\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex justify-end\">\n                <Button onClick={handleSavePreferences} disabled={isSaving}>\n                  {isSaving ? (\n                    <>\n                      <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n                      Saving...\n                    </>\n                  ) : (\n                    <>\n                      <Save className=\"h-4 w-4 mr-2\" />\n                      Save Preferences\n                    </>\n                  )}\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Security Tab */}\n        <TabsContent value=\"security\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Change Password</CardTitle>\n              <CardDescription>Update your account password</CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"space-y-4 max-w-md\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"currentPassword\">Current Password</Label>\n                  <Input\n                    id=\"currentPassword\"\n                    type=\"password\"\n                    value={passwordForm.currentPassword}\n                    onChange={(e) => setPasswordForm({...passwordForm, currentPassword: e.target.value})}\n                    placeholder=\"Enter current password\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"newPassword\">New Password</Label>\n                  <Input\n                    id=\"newPassword\"\n                    type=\"password\"\n                    value={passwordForm.newPassword}\n                    onChange={(e) => setPasswordForm({...passwordForm, newPassword: e.target.value})}\n                    placeholder=\"Enter new password\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"confirmPassword\">Confirm New Password</Label>\n                  <Input\n                    id=\"confirmPassword\"\n                    type=\"password\"\n                    value={passwordForm.confirmPassword}\n                    onChange={(e) => setPasswordForm({...passwordForm, confirmPassword: e.target.value})}\n                    placeholder=\"Confirm new password\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex justify-end\">\n                <Button onClick={handleChangePassword} disabled={isSaving}>\n                  {isSaving ? (\n                    <>\n                      <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n                      Changing...\n                    </>\n                  ) : (\n                    <>\n                      <Lock className=\"h-4 w-4 mr-2\" />\n                      Change Password\n                    </>\n                  )}\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>Active Sessions</CardTitle>\n              <CardDescription>Manage your active login sessions</CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between p-4 border rounded-lg\">\n                  <div>\n                    <p className=\"font-medium\">Current Session</p>\n                    <p className=\"text-sm text-muted-foreground\">\n                      <Clock className=\"h-3 w-3 inline mr-1\" />\n                      Last active: Just now\n                    </p>\n                  </div>\n                  <Badge variant=\"secondary\">Active</Badge>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  )\n}","import { useEffect } from 'react'\nimport { Routes, Route, Navigate } from 'react-router-dom'\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools'\nimport { Toaster } from 'react-hot-toast'\n\nimport useAuthInit from './hooks/useAuthInit'\n\n// Components\nimport Layout from './components/Layout'\nimport ProtectedRoute from './components/ProtectedRoute'\n\n// Pages\nimport LoginPage from './pages/auth/LoginPage'\nimport { Dashboard } from './pages/Dashboard'\nimport AdapterConfiguration from './pages/adapters/AdapterConfiguration'\nimport AdapterList from './pages/adapters/AdapterList'\nimport CreateSshKey from './pages/ssh-keys/CreateSshKey'\nimport FlowManagement from './pages/flows/FlowManagement'\nimport VisualFlowBuilder from './pages/flows/VisualFlowBuilder'\nimport AdapterMonitoring from './pages/AdapterMonitoring'\nimport FlowMonitoring from './pages/FlowMonitoring'\nimport ExecutionLogsViewer from './pages/ExecutionLogsViewer'\nimport AdminPage from './pages/AdminPage'\nimport { Settings } from './pages/Settings'\n\n// Initialize theme on app load\nconst initializeTheme = () => {\n  const savedPreferences = localStorage.getItem('h2h_user_preferences')\n  let theme: 'light' | 'dark' | 'system' = 'light' // Default to light\n  \n  if (savedPreferences) {\n    try {\n      const parsed = JSON.parse(savedPreferences)\n      theme = parsed.theme || 'light'\n    } catch (error) {\n      console.warn('Failed to parse saved preferences for theme')\n    }\n  }\n  \n  const root = document.documentElement\n  if (theme === 'system') {\n    const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches\n    root.classList.toggle('dark', systemPrefersDark)\n  } else if (theme === 'dark') {\n    root.classList.add('dark')\n  } else {\n    root.classList.remove('dark')\n  }\n}\n\nfunction App() {\n  useAuthInit()\n  \n  useEffect(() => {\n    initializeTheme()\n  }, [])\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Routes>\n            {/* Public routes */}\n            <Route path=\"/login\" element={<LoginPage />} />\n            \n            {/* Protected routes */}\n            <Route path=\"/\" element={<ProtectedRoute><Layout /></ProtectedRoute>}>\n              <Route index element={<Navigate to=\"/dashboard\" replace />} />\n              <Route path=\"dashboard\" element={<Dashboard />} />\n              \n              {/* Adapter management */}\n              <Route path=\"adapters\" element={<AdapterList />} />\n              <Route path=\"adapters/create\" element={<AdapterConfiguration />} />\n              <Route path=\"adapters/:id/edit\" element={<AdapterConfiguration />} />\n              \n              \n              {/* Admin page - centralized administration */}\n              <Route path=\"admin\" element={<AdminPage />} />\n              \n              {/* SSH key management - redirect to admin */}\n              <Route path=\"ssh-keys\" element={<Navigate to=\"/admin\" replace />} />\n              <Route path=\"ssh-keys/create\" element={<CreateSshKey />} />\n              \n              {/* User management - redirect to admin */}\n              <Route path=\"users\" element={<Navigate to=\"/admin\" replace />} />\n              \n              {/* Flow management (admin only) */}\n              <Route path=\"flows\" element={<FlowManagement />} />\n              <Route path=\"flows/create\" element={<VisualFlowBuilder />} />\n              <Route path=\"flows/:id/visual\" element={<VisualFlowBuilder />} />\n              \n              {/* Monitoring */}\n              <Route path=\"adapter-monitoring\" element={<AdapterMonitoring />} />\n              <Route path=\"flow-monitoring\" element={<FlowMonitoring />} />\n              <Route path=\"execution-logs/:executionId\" element={<ExecutionLogsViewer />} />\n              \n              {/* User Settings */}\n              <Route path=\"settings\" element={<Settings />} />\n              \n              {/* Legacy route redirects */}\n              <Route path=\"monitoring\" element={<Navigate to=\"/adapter-monitoring\" replace />} />\n              <Route path=\"executions\" element={<Navigate to=\"/flow-monitoring\" replace />} />\n              <Route path=\"execution-monitoring\" element={<Navigate to=\"/flow-monitoring\" replace />} />\n              <Route path=\"performance\" element={<Navigate to=\"/dashboard\" replace />} />\n              <Route path=\"logs\" element={<Navigate to=\"/admin\" replace />} />\n            </Route>\n            \n            {/* Catch all - redirect to dashboard */}\n            <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\n          </Routes>\n          \n          {/* Global notifications */}\n          <Toaster \n            position=\"top-right\"\n            toastOptions={{\n              duration: 4000,\n              style: {\n                background: 'hsl(215, 25%, 10%)',\n                color: 'hsl(210, 40%, 98%)',\n              },\n              success: {\n                style: {\n                  background: 'hsl(142, 76%, 36%)',\n                  color: 'hsl(210, 40%, 98%)',\n                },\n              },\n              error: {\n                style: {\n                  background: 'hsl(0, 84%, 60%)',\n                  color: 'hsl(210, 40%, 98%)',\n                },\n              },\n            }}\n          />\n        \n        {/* React Query DevTools - only in development */}\n        {import.meta.env.DEV && <ReactQueryDevtools initialIsOpen={false} />}\n      </div>\n  )\n}\n\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query'\r\nimport { Toaster } from 'react-hot-toast'\r\nimport App from './App.tsx'\r\nimport './index.css'\r\n\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      refetchOnWindowFocus: false,\r\n      retry: 1,\r\n      staleTime: 30000,\r\n    },\r\n  },\r\n})\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <QueryClientProvider client={queryClient}>\r\n      <BrowserRouter>\r\n        <App />\r\n        <Toaster position=\"top-right\" />\r\n      </BrowserRouter>\r\n    </QueryClientProvider>\r\n  </React.StrictMode>,\r\n)"],"names":["m","require$$0","client","createJSONStorage","getStorage","options","storage","name","_a","parse","str2","str","newValue","toThenable","fn","input","result","onFulfilled","_onRejected","e","_onFulfilled","onRejected","oldImpl","config","baseOptions","set","get","api","state","persistedState","currentState","hasHydrated","hydrationListeners","finishHydrationListeners","args","thenableSerialize","setItem","errorInSync","thenable","serializedValue","savedSetState","replace","configResult","stateFromStorage","hydrate","cb","postRehydrationCallback","storageValue","deserializedStorageValue","migratedState","_a2","newOptions","newImpl","_b","migrationResult","migrated","persistImpl","__vite_import_meta_env__","persist","DEFAULT_CONFIG","SessionManager","__publicField","_event","token","user","persistLogin","userStr","reason","response","error","sessionManager","ACTIVITY_EVENTS","lastActivity","event","now","WebSocketService","baseUrl","resolve","reject","stompConfig","SockJS","frame","receipt","Client","topics","topic","message","data","handlers","handler","index","flowId","executionId","webSocketService","getWebSocketService","initializeWebSocket","disconnectWebSocket","getInitialAuthState","isTokenLocallyValid","payload","useAuthStore","create","loading","initialized","currentToken","getApiBaseUrl","API_BASE_URL","axios","url","_c","authApi","credentials","refreshToken","userApi","userData","userId","currentPassword","newPassword","dashboardApi","limit","configApi","category","configKey","value","adapterApi","id","adapterData","params","searchParams","interfaceApi","sshKeyApi","keyData","keyId","enabled","pgpKeyApi","flowApi","flowData","backendMessage","active","executionApi","transactionLogsApi","environmentApi","action","systemLogsApi","isTokenValid","useAuthInit","setAuth","setInitialized","hasInitialized","useEffect","localUser","cn","inputs","twMerge","clsx","buttonVariants","cva","Button","React.forwardRef","className","variant","size","asChild","props","ref","Comp","Slot","jsx","navigation","LayoutDashboard","Boxes","Workflow","Activity","BarChart3","Database","Settings","Sidebar","collapsed","setCollapsed","useState","isAdmin","filteredNavigation","item","jsxs","ChevronRight","ChevronLeft","NavLink","isActive","Fragment","useUIStore","open","notification","newNotification","modalId","useNotifications","addNotification","removeNotification","clearNotifications","title","duration","badgeVariants","Badge","DropdownMenu","DropdownMenuPrimitive.Root","DropdownMenuTrigger","DropdownMenuPrimitive.Trigger","DropdownMenuSubTrigger","inset","children","DropdownMenuPrimitive.SubTrigger","DropdownMenuSubContent","DropdownMenuPrimitive.SubContent","DropdownMenuContent","sideOffset","DropdownMenuPrimitive.Portal","DropdownMenuPrimitive.Content","DropdownMenuItem","DropdownMenuPrimitive.Item","DropdownMenuCheckboxItem","checked","DropdownMenuPrimitive.CheckboxItem","DropdownMenuPrimitive.ItemIndicator","Check","DropdownMenuRadioItem","DropdownMenuPrimitive.RadioItem","Circle","DropdownMenuLabel","DropdownMenuPrimitive.Label","DropdownMenuSeparator","DropdownMenuPrimitive.Separator","useEnvironment","isAuthenticated","useQuery","failureCount","sizeClasses","getEnvironmentDetails","envType","EnvironmentBadge","showName","environment","isLoading","envDetails","Header","navigate","useNavigate","clearAuth","success","logoutMutation","useMutation","handleLogout","Menu","Building2","Bell","User","LogOut","Layout","Outlet","ProtectedRoute","roles","Navigate","Input","type","labelVariants","Label","LabelPrimitive.Root","Card","CardHeader","CardTitle","CardDescription","CardContent","CardFooter","LoginPage","showPassword","setShowPassword","React","register","handleSubmit","errors","useForm","loginMutation","variables","err","onSubmit","UserIcon","Lock","EyeOff","Eye","Dialog","DialogPrimitive.Root","DialogTrigger","DialogPrimitive.Trigger","DialogPortal","DialogPrimitive.Portal","DialogOverlay","DialogPrimitive.Overlay","DialogContent","DialogPrimitive.Content","DialogPrimitive.Close","X","DialogHeader","DialogFooter","DialogTitle","DialogPrimitive.Title","DialogDescription","DialogPrimitive.Description","Select","SelectPrimitive.Root","SelectValue","SelectPrimitive.Value","SelectTrigger","SelectPrimitive.Trigger","SelectPrimitive.Icon","ChevronDown","SelectScrollUpButton","SelectPrimitive.ScrollUpButton","ChevronUp","SelectScrollDownButton","SelectPrimitive.ScrollDownButton","SelectContent","position","SelectPrimitive.Portal","SelectPrimitive.Content","SelectPrimitive.Viewport","SelectLabel","SelectPrimitive.Label","SelectItem","SelectPrimitive.Item","SelectPrimitive.ItemIndicator","SelectPrimitive.ItemText","SelectSeparator","SelectPrimitive.Separator","ManualFlowExecutionModal","onOpenChange","selectedFlowId","setSelectedFlowId","queryClient","useQueryClient","flowsResponse","flowsLoading","flows","executeFlowMutation","handleExecute","activeFlows","flow","Play","Loader2","AlertCircle","CheckCircle","f","Dashboard","isFlowExecutionModalOpen","setIsFlowExecutionModalOpen","intervals","refreshIntervals","systemHealth","healthLoading","adapterStats","statsLoading","recentExecutions","executionsLoading","RefreshCw","TrendingUp","FileText","execution","getStatusIcon","status","AlertTriangle","Clock","formatRelativeTime","timestamp","executionTime","diffMs","diffMins","diffHours","adapter","Link","Switch","SwitchPrimitives.Root","SwitchPrimitives.Thumb","useWebSocketConnection","setState","service","updateState","interval","prev","useFlowExecutionUpdates","handlerRef","useRef","unsubscribeFunctions","handleUpdate","update","unsubscribe","useFlowValidationUpdates","onUpdate","useFlowDefinitionUpdates","WebSocketStatus","showLabel","getIcon","iconSize","Wifi","RotateCw","WifiOff","getStatusText","getStatusColor","textSize","normalizeEmailTlsConfig","preferSsl","sslEnabled","startTlsEnabled","AdapterConfiguration","useParams","systemConfigResponse","systemConfig","isEditing","_selectedType","setSelectedType","testResult","setTestResult","existingAdapter","adapterLoading","sshKeysData","control","watch","setValue","watchType","watchDirection","rawConfig","normalizedConfig","retryInterval","c","modificationDelay","maxFileSizeMB","maxFileSizeBytes","createMutation","updateMutation","testMutation","handleTest","formData","getAdapterIcon","Server","Mail","ArrowLeft","Controller","field","TypeSpecificConfiguration","TestTube","_d","_e","Save","direction","FileAdapterConfig","SftpAdapterConfig","EmailAdapterConfig","watchArchiveFaultyFiles","useWatch","watchProcessingMode","watchOutputFilenameMode","watchScheduleMode","watchScheduleType","_f","day","_","i","AuthenticationFields","OutputFilenameConfiguration","_g","_h","_i","_j","_k","_l","_m","_n","SftpPostProcessingSettings","watchPostProcessAction","watchAuthType","key","usePermissions","hasRole","role","AdapterTestResultModal","StatusIcon","StatusText","successText","failText","AdapterList","deleteDialogOpen","setDeleteDialogOpen","selectedAdapter","setSelectedAdapter","testResultModalOpen","setTestResultModalOpen","apiResponse","loadError","deleteAdapterMutation","testAdapterMutation","handleDeleteClick","handleDeleteConfirm","handleTestClick","adapterId","interfaces","canCreateAdapters","adapterType","Plus","Trash2","CreateSshKey","setFormData","createKeyMutation","getSecurityLevel","isFormValid","Home","Key","FileKey","Shield","FlowManagement","fileInputRef","_wsStatus","runningExecutions","setRunningExecutions","newSet","_statisticsResponse","deleteFlowMutation","errorMessage","exportFlowMutation","dataStr","dataBlob","link","importFlowMutation","deployFlowMutation","undeployFlowMutation","handleFileImport","file","reader","getFlowTypeIcon","flowType","GitBranch","ArrowRight","formatExecutionTime","ms","minutes","seconds","calculateSuccessRate","successful","total","canCreateFlows","Upload","sum","Download","Square","SendTaskIcon","ReceiveTaskIcon","ServiceTaskIcon","AdapterNode","selected","setNodes","setEdges","useReactFlow","nodeData","TaskIcon","handleDelete","nodes","node","edges","edge","getBorderColor","getIconColor","Handle","Position","ScriptTaskIcon","UtilityNode","isScript","formatUtilityType","word","ExclusiveMarker","DecisionNode","MessageIcon","StartNode","EndNode","ParallelMarker","ParallelSplitNode","outputPositions","positions","pathCount","top","pos","MessageEndNode","FlowEdge","sourceX","sourceY","targetX","targetY","sourcePosition","targetPosition","markerEnd","edgeData","isHovered","setIsHovered","edgePath","labelX","labelY","getBezierPath","getEdgeColor","getEdgeWidth","BaseEdge","EdgeLabelRenderer","Separator","orientation","decorative","SeparatorPrimitive.Root","TooltipProvider","TooltipPrimitive.Provider","Tooltip","TooltipPrimitive.Root","TooltipTrigger","TooltipPrimitive.Trigger","TooltipContent","TooltipPrimitive.Content","FlowToolbar","onSave","onExecute","onClear","onDelete","onExport","onImport","onToggleNodeSidebar","onAutoLayout","isNodeSidebarVisible","readOnly","canExecute","canSave","canDelete","isExecuting","isSaving","LayoutGrid","RotateCcw","Collapsible","CollapsiblePrimitive.Root","CollapsibleTrigger","CollapsiblePrimitive.CollapsibleTrigger","CollapsibleContent","CollapsiblePrimitive.CollapsibleContent","NodeSidebar","onNodeAdd","expandedCategories","setExpandedCategories","nodeTemplates","Split","Unlock","FileArchive","categories","toggleCategory","categoryId","handleNodeDragStart","nodeTemplate","handleNodeAdd","categoryNodes","isExpanded","IconComponent","NodePropertiesPanel","selectedNode","onNodeUpdate","onClose","setNodeData","adaptersResponse","adapters","handleSave","handleInputChange","getNodeIcon","FileInput","FileOutput","getAvailableAdapters","directionMatch","availableAdapters","a","updates","DEFAULT_LAYOUT_CONFIG","NODE_DIMENSIONS","layoutElements","layoutConfig","graph","dagre","dimensions","nodeWithPosition","layoutElementsHorizontal","layoutElementsCompact","layoutElementsSmart","nodeCount","edgeCount","nodeTypes","edgeTypes","initialNodes","EDGE_COLOR","EDGE_COLOR_SELECTED","initialEdges","FlowCanvas","onFlowChange","onNodesChange","useNodesState","onEdgesChange","useEdgesState","setSelectedNode","selectedEdge","setSelectedEdge","sidebarOpen","setSidebarOpen","propertiesPanelOpen","setPropertiesPanelOpen","nodeWithDeleteButton","setNodeWithDeleteButton","reactFlowWrapper","reactFlowInstance","setReactFlowInstance","isValidConnection","useCallback","sourceNode","targetNode","onConnect","eds","addEdge","onReconnect","oldEdge","newConnection","reconnectEdge","onNodeClick","onEdgeClick","onPaneClick","onDragOver","onDrop","dropData","newNode","nds","onDeleteSelected","currentFlow","nodeType","fixedPosition","handleNodeUpdate","nodeId","handleAutoLayout","layoutedNodes","layoutedEdges","handleClosePropertiesPanel","handleKeyDown","ReactFlow","ConnectionMode","Background","Controls","MiniMap","Panel","VisualFlowBuilder","useSearchParams","isViewMode","setFlowData","setIsLoading","setSaving","setExecuting","showSettings","setShowSettings","flowName","setFlowName","flowDescription","setFlowDescription","bankName","setBankName","toast","handleFlowChange","updatedFlow","flowPayload","newFlow","_flow","handleSettingsSave","AdapterMonitoring","statusFilter","setStatusFilter","typeFilter","setTypeFilter","selectedAdapterId","setSelectedAdapterId","pendingStartIds","setPendingStartIds","pendingStopIds","setPendingStopIds","adaptersLoading","executionHistoryResponse","executionHistory","startAdapterMutation","previous","old","next","list","_adapterId","ctx","_data","_error","stopAdapterMutation","getStatusLED","errorCount","filteredAdapters","statusMatch","typeMatch","XCircle","FlowMonitoring","flowFilter","setFlowFilter","executionsResponse","executions","restartExecutionMutation","ExecutionLogsViewer","logFilter","setLogFilter","logLevelFilter","setLogLevelFilter","autoRefresh","setAutoRefresh","executionResponse","logsResponse","logsLoading","refetch","filteredLogs","log","getLogLevelIcon","level","Info","getLogLevelColor","_level","formatTimestamp","date","handleExportLogs","csvContent","header","blob","clearFilters","Filter","Search","UserManagement","currentUser","showCreateForm","setShowCreateForm","formKey","setFormKey","_showPasswords","_setShowPasswords","_editingUser","setEditingUser","usersResponse","users","createUserMutation","updateUserMutation","deleteUserMutation","getRoleIcon","Crown","getRoleBadgeStyle","canModifyUser","Users","u","CreateUserForm","Edit","onCancel","SshKeyManagement","showPrivateKeys","setShowPrivateKeys","sshKeys","toggleKeyStatusMutation","deleteKeyMutation","handleDownloadPrivateKey","keyName","handleDownloadPublicKey","handleCopyPublicKey","publicKey","togglePrivateKeyVisibility","k","ShieldCheck","ShieldX","Copy","alertVariants","Alert","AlertTitle","AlertDescription","getEnvironmentStyle","EnvironmentConfiguration","selectedType","enforceRestrictions","setEnforceRestrictions","restrictionMessage","setRestrictionMessage","hasChanges","setHasChanges","envResponse","envLoading","typesResponse","typesLoading","environmentInfo","environmentTypes","updateEnvironmentMutation","hasTypeChange","hasEnforceChange","hasMessageChange","handleReset","Layers","currentEnvStyle","restrictedFeatures","permission","allowed","CheckCircle2","categoryIcons","Monitor","categoryColors","SystemConfigurations","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","editingConfig","setEditingConfig","editValues","setEditValues","configurationsResponse","configurations","updateConfigMutation","handleEdit","configId","handleCancel","filteredConfigurations","matchesSearch","matchesCategory","getConfigsByCategory","renderConfigValue","currentValue","cat","categoryConfigs","Icon","iconColor","logLevelIcons","Bug","logLevelColors","SystemLogs","selectedLevel","setSelectedLevel","currentPage","setCurrentPage","pageSize","setPageSize","expandedLog","setExpandedLog","logs","totalPages","totalElements","handleExport","renderLogLevel","color","renderLogCategory","TransactionalLogs","logTabs","LogsPage","availableTabs","tab","defaultTab","activeTab","setActiveTab","renderTabContent","PgpKeys","showGenerateForm","setShowGenerateForm","showImportForm","setShowImportForm","keysResponse","keys","generateKeyMutation","importKeyMutation","revokeKeyMutation","handleExportPublic","handleExportPrivate","getKeyStatusIcon","getKeyStatusText","getKeyTypeIcon","keyType","formatFingerprint","fingerprint","GenerateKeyForm","ImportKeyForm","showPassphrase","setShowPassphrase","handleFileUpload","content","useToast","description","DATA_TYPE_OPTIONS","DataRetentionManagement","configs","setConfigs","setStatus","setLoading","showCreateDialog","setShowCreateDialog","newConfig","setNewConfig","defaultConfigs","setDefaultConfigs","availableJobs","setAvailableJobs","loadConfigurations","loadStatus","loadDefaultConfigurations","loadAvailableJobs","jobs","resetNewConfigForm","defaultSchedule","createConfiguration","updateConfiguration","deleteConfiguration","toggleConfiguration","executeManualRetention","formatDateTime","dateString","option","job","dataTypeOption","opt","adminTabs","AdminPage","setSearchParams","tabParam","handleTabChange","tabId","Tabs","TabsPrimitive.Root","TabsList","TabsPrimitive.List","TabsTrigger","TabsPrimitive.Trigger","TabsContent","TabsPrimitive.Content","setIsSaving","setUser","setNotification","preferences","setPreferences","profile","setProfile","passwordForm","setPasswordForm","loadCurrentUser","loadPreferences","showNotification","savedPreferences","parsed","applyTheme","theme","root","systemPrefersDark","handleSaveProfile","handleSavePreferences","handleChangePassword","SettingsIcon","Palette","initializeTheme","App","Routes","Route","Toaster","QueryClient","ReactDOM","QueryClientProvider","BrowserRouter"],"mappings":"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","x_google_ignoreList":[0,1]}